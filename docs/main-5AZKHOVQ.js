import{$ as An,$a as KC,$b as cS,A as AC,Aa as bv,Ab as $n,Ac as Ao,B as vt,Ba as Ae,Bb as Re,Bc as xv,C as Ls,Ca as Io,Cb as eS,Cc as Dv,D as Dn,Da as Ft,Db as lu,E as lv,Ea as ke,Eb as To,F as Yd,Fa as jC,Fb as xo,G as yo,Ga as su,Gb as se,H as kC,Ha as VC,Hb as nt,I as RC,Ia as Eo,Ib as Gs,J as js,Ja as kn,Jb as vr,K as Yt,Ka as au,Kb as de,L as dv,La as Bs,Lb as nS,M as dr,Ma as zs,Mb as th,N as hr,Na as UC,Nb as iS,O as hv,Oa as BC,Ob as eh,P as fv,Pa as zC,Pb as nh,Q as ie,Qa as qC,Qb as wv,R as MC,Ra as HC,Rb as Iv,S as pv,Sa as GC,Sb as Ev,T as _o,Ta as WC,Tb as rS,U as fr,Ua as Rn,Ub as Ws,V as mv,Va as $C,Vb as ih,W as OC,Wa as cu,Wb as oS,X as NC,Xa as _t,Xb as Ei,Y as PC,Ya as F,Yb as sS,Z as Xd,Za as qs,Zb as aS,_ as Vi,_a as Co,_b as bn,a as P,aa as Ui,ab as uu,ac as rh,b as Kt,ba as re,bb as Jd,bc as uS,ca as Ht,cb as YC,cc as lS,d as xn,da as pr,db as dt,dc as ct,e as gF,ea as G,eb as XC,ec as dS,f as $d,fa as ot,fb as So,fc as Cv,g as ji,ga as FC,gb as Mn,gc as hS,h as DC,ha as rt,hb as Wn,hc as fS,i as nu,ia as gv,ib as QC,ic as Bi,j as av,ja as k,jb as yv,jc as pS,k as cv,ka as q,kb as ZC,kc as oh,l as Dt,la as Qd,lb as Se,lc as br,m as gn,ma as vv,mb as Fe,mc as $s,n as lr,na as ou,nb as Xt,nc as mS,o as Z,oa as zt,ob as Te,oc as gS,p as vo,pa as pt,pb as Hs,pc as Sv,q as A,qa as st,qb as gr,qc as vS,r as D,ra as oe,rb as L,rc as bS,s as Kd,sa as Zd,sb as z,t as iu,ta as LC,tb as wt,u as Ut,ua as Vs,ub as ge,uc as du,v as ru,va as mr,vb as _v,vc as Do,w as vn,wa as wo,wb as JC,wc as Tv,x as X,xa as St,xb as lt,y as bo,ya as Tt,yb as tS,yc as zi,z as uv,za as Us,zb as Ge,zc as Ks}from"./chunk-GBQB4RT2.js";function TT(e){return sa(void 0,e)}function sa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!Kj(i)||(e[i]=sa(e[i],t[i]));return e}function Kj(e){return e!=="__proto__"}function Ah(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var c=vo({iss:"https://securetoken.google.com/"+i,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[CT(JSON.stringify(n)),CT(JSON.stringify(c)),l].join(".")}function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function Ob(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AT(){return typeof self=="object"&&self.self===self}function kT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function RT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MT(){return Cr().indexOf("Electron/")>=0}function OT(){var e=Cr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function NT(){return Cr().indexOf("MSAppHost/")>=0}function PT(){return!Ob()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xj(e,t){return e.replace(Qj,function(n,i){var r=t[i];return r!=null?String(r):"<"+i+"?>"})}function Pb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function FT(e,t){var n=new Zj(e,t);return n.subscribe.bind(n)}function Jj(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&typeof e[r]=="function")return!0}return!1}function Mb(){}function Ot(e){return e&&e._delegate?e._delegate:e}var ST,Gj,Wj,$j,CT,xT,Yj,Nb,kh,Qj,wH,Zj,IH,aa=xn(()=>{"use strict";ru();ST=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Gj=function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){var s=e[n++],c=e[n++],l=e[n++],d=((r&7)<<18|(s&63)<<12|(c&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{var s=e[n++],c=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|c&63)}}return t.join("")},Wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var s=e[r],c=r+1<e.length,l=c?e[r+1]:0,d=r+2<e.length,f=d?e[r+2]:0,m=s>>2,v=(s&3)<<4|l>>4,y=(l&15)<<2|f>>6,_=f&63;d||(_=64,c||(y=64)),i.push(n[m],n[v],n[y],n[_])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ST(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Gj(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var s=n[e.charAt(r++)],c=r<e.length,l=c?n[e.charAt(r)]:0;++r;var d=r<e.length,f=d?n[e.charAt(r)]:64;++r;var m=r<e.length,v=m?n[e.charAt(r)]:64;if(++r,s==null||l==null||f==null||v==null)throw Error();var y=s<<2|l>>4;if(i.push(y),f!==64){var _=l<<4&240|f>>2;if(i.push(_),v!==64){var I=f<<6&192|v;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$j=function(e){var t=ST(e);return Wj.encodeByteArray(t,!0)},CT=function(e){return $j(e).replace(/\./g,"")};xT=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,r){i?n.reject(i):n.resolve(r),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,r))}},e}();Yj="FirebaseError",Nb=function(e){Z(t,e);function t(n,i,r){var s=e.call(this,i)||this;return s.code=n,s.customData=r,s.name=Yj,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,kh.prototype.create),s}return t}(Error),kh=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=n[0]||{},s=this.service+"/"+t,c=this.errors[t],l=c?Xj(c,r):"Error",d=this.serviceName+": "+l+" ("+s+").",f=new Nb(s,d,r);return f},e}();Qj=/\{\$([^}]+)}/g;wH=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var i=this.W_;if(typeof t=="string")for(var r=0;r<16;r++)i[r]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var r=0;r<16;r++)i[r]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var r=16;r<80;r++){var s=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=(s<<1|s>>>31)&4294967295}for(var c=this.chain_[0],l=this.chain_[1],d=this.chain_[2],f=this.chain_[3],m=this.chain_[4],v,y,r=0;r<80;r++){r<40?r<20?(v=f^l&(d^f),y=1518500249):(v=l^d^f,y=1859775393):r<60?(v=l&d|f&(l|d),y=2400959708):(v=l^d^f,y=3395469782);var s=(c<<5|c>>>27)+v+m+y+i[r]&4294967295;m=f,f=d,d=(l<<30|l>>>2)&4294967295,l=c,c=s}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var i=n-this.blockSize,r=0,s=this.buf_,c=this.inbuf_;r<n;){if(c===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[c]=t.charCodeAt(r),++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}else for(;r<n;)if(s[c]=t[r],++c,++r,c===this.blockSize){this.compress_(s),c=0;break}}this.inbuf_=c,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t},e}();Zj=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(r){i.error(r)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var r=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Jj(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Mb),s.error===void 0&&(s.error=Mb),s.complete===void 0&&(s.complete=Mb);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?s.error(r.finalError):s.complete()}catch{}}),this.observers.push(s),c},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();IH=4*60*60*1e3;});function eV(e){return e===Oo?void 0:e}function nV(e){return e.instantiationMode==="EAGER"}var Sr,Oo,tV,LT,Rh=xn(()=>{"use strict";ru();aa();Sr=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();Oo="[DEFAULT]";tV=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new xT;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t?.identifier),r=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(nV(t))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}try{for(var r=Kd(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var c=iu(s.value,2),l=c[0],d=c[1],f=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:f});d.resolve(m)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Oo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ut(Ut([],iu(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),iu(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Oo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Oo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var r=t.options,s=r===void 0?{}:r,c=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:s});try{for(var d=Kd(this.instancesDeferred.entries()),f=d.next();!f.done;f=d.next()){var m=iu(f.value,2),v=m[0],y=m[1],_=this.normalizeInstanceIdentifier(v);c===_&&y.resolve(l)}}catch(I){n={error:I}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);var c=this.instances.get(r);return c&&t(c,r),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,r,s=this.onInitCallbacks.get(n);if(s)try{for(var c=Kd(s),l=c.next();!l.done;l=c.next()){var d=l.value;try{d(t,n)}catch{}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,r=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eV(n),options:r}),this.instances.set(n,s),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Oo),this.component?this.component.multipleInstances?t:Oo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();LT=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new tV(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()});function ci(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var s=arguments[t],c=0,l=s.length;c<l;c++,r++)i[r]=s[c];return i}function VT(e){Fb.forEach(function(t){t.setLogLevel(e)})}function UT(e,t){for(var n=function(c){var l=null;t&&t.level&&(l=jT[t.level]),e===null?c.userLogHandler=null:c.userLogHandler=function(d,f){for(var m=[],v=2;v<arguments.length;v++)m[v-2]=arguments[v];var y=m.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(function(_){return _}).join(" ");f>=(l??d.logLevel)&&e({level:kt[f].toLowerCase(),message:y,args:m,type:d.name})}},i=0,r=Fb;i<r.length;i++){var s=r[i];n(s)}}var No,Fb,kt,jT,iV,rV,oV,Mh,Oh=xn(()=>{"use strict";Fb=[],kt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(kt||{}),jT={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},iV=kt.INFO,rV=(No={},No[kt.DEBUG]="log",No[kt.VERBOSE]="log",No[kt.INFO]="info",No[kt.WARN]="warn",No[kt.ERROR]="error",No),oV=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var r=new Date().toISOString(),s=rV[t];if(s)console[s].apply(console,ci(["["+r+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Mh=function(){function e(t){this.name=t,this._logLevel=iV,this._logHandler=oV,this._userLogHandler=null,Fb.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in kt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?jT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ci([this,kt.DEBUG],t)),this._logHandler.apply(this,ci([this,kt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ci([this,kt.VERBOSE],t)),this._logHandler.apply(this,ci([this,kt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ci([this,kt.INFO],t)),this._logHandler.apply(this,ci([this,kt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ci([this,kt.WARN],t)),this._logHandler.apply(this,ci([this,kt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ci([this,kt.ERROR],t)),this._logHandler.apply(this,ci([this,kt.ERROR],t))},e}()});function IV(e){var t={},n=new Map,i={__esModule:!0,initializeApp:c,app:s,registerVersion:f,setLogLevel:VT,onLog:m,apps:null,SDK_VERSION:wV,INTERNAL:{registerComponent:d,removeApp:r,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function r(y){delete t[y]}function s(y){if(y=y||Ph,!Pb(t,y))throw ca.create("no-app",{appName:y});return t[y]}s.App=e;function c(y,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var I=_;_={name:I}}var E=_;E.name===void 0&&(E.name=Ph);var S=E.name;if(typeof S!="string"||!S)throw ca.create("bad-app-name",{appName:String(S)});if(Pb(t,S))throw ca.create("duplicate-app",{appName:S});var R=new e(y,E,i);return t[S]=R,R}function l(){return Object.keys(t).map(function(y){return t[y]})}function d(y){var _=y.name;if(n.has(_))return ua.debug("There were multiple attempts to register component "+_+"."),y.type==="PUBLIC"?i[_]:null;if(n.set(_,y),y.type==="PUBLIC"){var I=function(j){if(j===void 0&&(j=s()),typeof j[_]!="function")throw ca.create("invalid-app-argument",{appName:_});return j[_]()};y.serviceProps!==void 0&&sa(I,y.serviceProps),i[_]=I,e.prototype[_]=function(){for(var j=[],B=0;B<arguments.length;B++)j[B]=arguments[B];var et=this._getService.bind(this,_);return et.apply(this,y.multipleInstances?j:[])}}for(var E=0,S=Object.keys(t);E<S.length;E++){var R=S[E];t[R]._addComponent(y)}return y.type==="PUBLIC"?i[_]:null}function f(y,_,I){var E,S=(E=_V[y])!==null&&E!==void 0?E:y;I&&(S+="-"+I);var R=S.match(/\s|\//),j=_.match(/\s|\//);if(R||j){var B=['Unable to register library "'+S+'" with version "'+_+'":'];R&&B.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),R&&j&&B.push("and"),j&&B.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),ua.warn(B.join(" "));return}d(new Sr(S+"-version",function(){return{library:S,version:_}},"VERSION"))}function m(y,_){if(y!==null&&typeof y!="function")throw ca.create("invalid-log-argument");UT(y,_)}function v(y,_){if(_==="serverAuth")return null;var I=_;return I}return i}function zT(){var e=IV(Nh);e.INTERNAL=vo(vo({},e.INTERNAL),{createFirebaseNamespace:zT,extendNamespace:t,createSubscribe:FT,ErrorFactory:kh,deepExtend:sa});function t(n){sa(e,n)}return e}function CV(e){var t=e.getComponent();return t?.type==="VERSION"}function SV(e,t){e.INTERNAL.registerComponent(new Sr("platform-logger",function(n){return new EV(n)},"PRIVATE")),e.registerVersion(BT,aV,t),e.registerVersion("fire-js","")}var Tr,sV,ca,BT,aV,cV,uV,lV,dV,hV,fV,pV,mV,gV,vV,bV,yV,We,Ph,_V,ua,Nh,wV,jb,EV,Lb,TV,qT,it,la=xn(()=>{"use strict";ru();aa();Rh();Oh();sV=(Tr={},Tr["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Tr["bad-app-name"]="Illegal App name: '{$appName}",Tr["duplicate-app"]="Firebase App named '{$appName}' already exists",Tr["app-deleted"]="Firebase App named '{$appName}' already deleted",Tr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Tr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Tr),ca=new kh("app","Firebase",sV),BT="@firebase/app",aV="0.6.30",cV="@firebase/analytics",uV="@firebase/app-check",lV="@firebase/auth",dV="@firebase/database",hV="@firebase/functions",fV="@firebase/installations",pV="@firebase/messaging",mV="@firebase/performance",gV="@firebase/remote-config",vV="@firebase/storage",bV="@firebase/firestore",yV="firebase-wrapper";Ph="[DEFAULT]",_V=(We={},We[BT]="fire-core",We[cV]="fire-analytics",We[uV]="fire-app-check",We[lV]="fire-auth",We[dV]="fire-rtdb",We[hV]="fire-fn",We[fV]="fire-iid",We[pV]="fire-fcm",We[mV]="fire-perf",We[gV]="fire-rc",We[vV]="fire-gcs",We[bV]="fire-fst",We["fire-js"]="fire-js",We[yV]="fire-js-all",We);ua=new Mh("@firebase/app");Nh=function(){function e(t,n,i){var r=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=TT(t),this.container=new LT(n.name),this._addComponent(new Sr("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return r._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=Ph),this.checkDestroyed_();var r=this.container.getProvider(t);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Ph),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ua.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ca.create("app-deleted",{appName:this.name_})},e}();Nh.prototype.name&&Nh.prototype.options||Nh.prototype.delete||console.log("dc");wV="8.10.0";jb=zT();EV=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(CV(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();AT()&&self.firebase!==void 0&&(ua.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),Lb=self.firebase.SDK_VERSION,Lb&&Lb.indexOf("LITE")>=0&&ua.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));TV=jb.initializeApp;jb.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ob()&&ua.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),TV.apply(void 0,e)};qT=jb;SV(qT);it=qT});var GT={};gF(GT,{default:()=>it});var xV,HT,WT=xn(()=>{"use strict";la();la();xV="firebase",HT="8.10.1";it.registerVersion(xV,HT,"app");it.SDK_VERSION=HT});var $T=xn(()=>{"use strict";la();(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,a,u){o!=Array.prototype&&o!=Object.prototype&&(o[a]=u.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var a=0;a<o.length;++a){var u=o[a];if(u&&u.Math==Math)return u}return globalThis}var i=n(this);function r(o,a){if(a){var u=i;o=o.split(".");for(var h=0;h<o.length-1;h++){var p=o[h];p in u||(u[p]={}),u=u[p]}o=o[o.length-1],h=u[o],a=a(h),a!=h&&a!=null&&t(u,o,{configurable:!0,writable:!0,value:a})}}function s(o){var a=0;return function(){return a<o.length?{done:!1,value:o[a++]}:{done:!0}}}function c(o){var a=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return a?a.call(o):{next:s(o)}}r("Promise",function(o){function a(b){this.b=0,this.c=void 0,this.a=[];var w=this.f();try{b(w.resolve,w.reject)}catch(x){w.reject(x)}}function u(){this.a=null}function h(b){return b instanceof a?b:new a(function(w){w(b)})}if(o)return o;u.prototype.b=function(b){if(this.a==null){this.a=[];var w=this;this.c(function(){w.g()})}this.a.push(b)};var p=i.setTimeout;u.prototype.c=function(b){p(b,0)},u.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var w=0;w<b.length;++w){var x=b[w];b[w]=null;try{x()}catch(M){this.f(M)}}}this.a=null},u.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(M){return function(ut){x||(x=!0,M.call(w,ut))}}var w=this,x=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{t:switch(typeof b){case"object":var w=b!=null;break t;case"function":w=!0;break t;default:w=!1}w?this.v(b):this.h(b)}},a.prototype.v=function(b){var w=void 0;try{w=b.then}catch(x){this.g(x);return}typeof w=="function"?this.u(w,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,w){if(this.b!=0)throw Error("Cannot settle("+b+", "+w+"): Promise already settled in state"+this.b);this.b=b,this.c=w,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)g.b(this.a[b]);this.a=null}};var g=new u;return a.prototype.s=function(b){var w=this.f();b.Ra(w.resolve,w.reject)},a.prototype.u=function(b,w){var x=this.f();try{b.call(w,x.resolve,x.reject)}catch(M){x.reject(M)}},a.prototype.then=function(b,w){function x(At,De){return typeof At=="function"?function(Li){try{M(At(Li))}catch(sv){ut(sv)}}:De}var M,ut,Pt=new a(function(At,De){M=At,ut=De});return this.Ra(x(b,M),x(w,ut)),Pt},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,w){function x(){switch(M.b){case 1:b(M.c);break;case 2:w(M.c);break;default:throw Error("Unexpected state: "+M.b)}}var M=this;this.a==null?g.b(x):this.a.push(x)},a.resolve=h,a.reject=function(b){return new a(function(w,x){x(b)})},a.race=function(b){return new a(function(w,x){for(var M=c(b),ut=M.next();!ut.done;ut=M.next())h(ut.value).Ra(w,x)})},a.all=function(b){var w=c(b),x=w.next();return x.done?h([]):new a(function(M,ut){function Pt(Li){return function(sv){At[Li]=sv,De--,De==0&&M(At)}}var At=[],De=0;do At.push(void 0),De++,h(x.value).Ra(Pt(At.length-1),ut),x=w.next();while(!x.done)})},a});var l=l||{},d=this||self,f=/^[\w+/_-]+[=]{0,2}$/,m=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&f.test(o)?o:""}function y(){}function _(o){var a=typeof o;return a!="object"?a:o?Array.isArray(o)?"array":a:"null"}function I(o){var a=_(o);return a=="array"||a=="object"&&typeof o.length=="number"}function E(o){return _(o)=="function"}function S(o){var a=typeof o;return a=="object"&&o!=null||a=="function"}function R(o){return Object.prototype.hasOwnProperty.call(o,j)&&o[j]||(o[j]=++B)}var j="closure_uid_"+(1e9*Math.random()>>>0),B=0;function et(o,a,u){return o.call.apply(o.bind,arguments)}function ft(o,a,u){if(!o)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),o.apply(a,p)}}return function(){return o.apply(a,arguments)}}function V(o,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=et:V=ft,V.apply(null,arguments)}function jt(o,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),o.apply(this,h)}}var ti=Date.now;function Y(o,a){function u(){}u.prototype=a.prototype,o.bb=a.prototype,o.prototype=new u,o.prototype.constructor=o}function ds(o){return o}function C(o,a,u){this.code=vc+o,this.message=a||dM[o]||"",this.a=u||null}Y(C,Error),C.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},C.prototype.toJSON=function(){return this.w()};function N0(o){var a=o&&o.code;return a?new C(a.substring(vc.length),o.message,o.serverResponse):null}var vc="auth/",dM={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Tp={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function bc(o){for(var a in Tp)if(Tp[a].id===o)return o=Tp[a],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var yc;yc=bc("__EID__")?"__EID__":void 0;function P0(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function En(o){if(Error.captureStackTrace)Error.captureStackTrace(this,En);else{var a=Error().stack;a&&(this.stack=a)}o&&(this.message=String(o))}Y(En,Error),En.prototype.name="CustomError";function xp(o,a){o=o.split("%s");for(var u="",h=o.length-1,p=0;p<h;p++)u+=o[p]+(p<a.length?a[p]:"%s");En.call(this,u+o[h])}Y(xp,En),xp.prototype.name="AssertionError";function hs(o,a){throw new xp("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Dp(o,a){this.c=o,this.f=a,this.b=0,this.a=null}Dp.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function F0(o,a){o.f(a),100>o.b&&(o.b++,a.next=o.a,o.a=a)}function L0(){this.b=this.a=null}var j0=new Dp(function(){return new Ap},function(o){o.reset()});L0.prototype.add=function(o,a){var u=j0.get();u.set(o,a),this.b?this.b.next=u:this.a=u,this.b=u};function hM(){var o=dw,a=null;return o.a&&(a=o.a,o.a=o.a.next,o.a||(o.b=null),a.next=null),a}function Ap(){this.next=this.b=this.a=null}Ap.prototype.set=function(o,a){this.a=o,this.b=a,this.next=null},Ap.prototype.reset=function(){this.next=this.b=this.a=null};var V0=Array.prototype.indexOf?function(o,a){return Array.prototype.indexOf.call(o,a,void 0)}:function(o,a){if(typeof o=="string")return typeof a!="string"||a.length!=1?-1:o.indexOf(a,0);for(var u=0;u<o.length;u++)if(u in o&&o[u]===a)return u;return-1},Jt=Array.prototype.forEach?function(o,a,u){Array.prototype.forEach.call(o,a,u)}:function(o,a,u){for(var h=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<h;g++)g in p&&a.call(u,p[g],g,o)};function fM(o,a){for(var u=typeof o=="string"?o.split(""):o,h=o.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,o)}var pM=Array.prototype.filter?function(o,a){return Array.prototype.filter.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=[],p=0,g=typeof o=="string"?o.split(""):o,b=0;b<u;b++)if(b in g){var w=g[b];a.call(void 0,w,b,o)&&(h[p++]=w)}return h},Hl=Array.prototype.map?function(o,a){return Array.prototype.map.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=Array(u),p=typeof o=="string"?o.split(""):o,g=0;g<u;g++)g in p&&(h[g]=a.call(void 0,p[g],g,o));return h},mM=Array.prototype.some?function(o,a){return Array.prototype.some.call(o,a,void 0)}:function(o,a){for(var u=o.length,h=typeof o=="string"?o.split(""):o,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,o))return!0;return!1};function gM(o){t:{for(var a=YO,u=o.length,h=typeof o=="string"?o.split(""):o,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,o)){a=p;break t}a=-1}return 0>a?null:typeof o=="string"?o.charAt(a):o[a]}function Mi(o,a){return 0<=V0(o,a)}function Gl(o,a){a=V0(o,a);var u;return(u=0<=a)&&Array.prototype.splice.call(o,a,1),u}function ei(o,a){var u=0;fM(o,function(h,p){a.call(void 0,h,p,o)&&Array.prototype.splice.call(o,p,1).length==1&&u++})}function kp(o){return Array.prototype.concat.apply([],arguments)}function Yr(o){var a=o.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=o[h];return u}return[]}var U0=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},vM=/&/g,bM=/</g,yM=/>/g,_M=/"/g,wM=/'/g,IM=/\x00/g,EM=/[\x00&<>"']/;function Bt(o,a){return o.indexOf(a)!=-1}function Rp(o,a){return o<a?-1:o>a?1:0}var fs;t:{var B0=d.navigator;if(B0){var z0=B0.userAgent;if(z0){fs=z0;break t}}fs=""}function Ee(o){return Bt(fs,o)}function q0(o,a){for(var u in o)a.call(void 0,o[u],u,o)}function Xr(o){for(var a in o)return!1;return!0}function er(o){var a={},u;for(u in o)a[u]=o[u];return a}var H0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dn(o,a){for(var u,h,p=1;p<arguments.length;p++){h=arguments[p];for(u in h)o[u]=h[u];for(var g=0;g<H0.length;g++)u=H0[g],Object.prototype.hasOwnProperty.call(h,u)&&(o[u]=h[u])}}function G0(o,a){t:{try{var u=o&&o.ownerDocument,h=u&&(u.defaultView||u.parentWindow);if(h=h||d,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[a]<"u"&&(!o||!(o instanceof p[a])&&(o instanceof p.Location||o instanceof p.Element))){if(S(o))try{var g=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{g="<object could not be stringified>"}else g=o===void 0?"undefined":o===null?"null":typeof o;hs("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,g)}}function mi(o,a){this.a=o===Wl&&a||"",this.b=W0}mi.prototype.ta=!0,mi.prototype.sa=function(){return this.a},mi.prototype.toString=function(){return"Const{"+this.a+"}"};function Mp(o){return o instanceof mi&&o.constructor===mi&&o.b===W0?o.a:(hs("expected object of type Const, got '"+o+"'"),"type_error:Const")}var W0={},Wl={},$l;function $0(){if($l===void 0){var o=null,a=d.trustedTypes;if(a&&a.createPolicy){try{o=a.createPolicy("goog#html",{createHTML:ds,createScript:ds,createScriptURL:ds})}catch(u){d.console&&d.console.error(u.message)}$l=o}else $l=o}return $l}function ps(o,a){this.a=a===Y0?o:""}ps.prototype.ta=!0,ps.prototype.sa=function(){return this.a.toString()},ps.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function K0(o){return o instanceof ps&&o.constructor===ps?o.a:(hs("expected object of type TrustedResourceUrl, got '"+o+"' of type "+_(o)),"type_error:TrustedResourceUrl")}function Op(o,a){var u=Mp(o);if(!SM.test(u))throw Error("Invalid TrustedResourceUrl format: "+u);return o=u.replace(CM,function(h,p){if(!Object.prototype.hasOwnProperty.call(a,p))throw Error('Found marker, "'+p+'", in format string, "'+u+'", but no valid label mapping found in args: '+JSON.stringify(a));return h=a[p],h instanceof mi?Mp(h):encodeURIComponent(String(h))}),TM(o)}var CM=/%{(\w+)}/g,SM=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Y0={};function TM(o){var a=$0();return o=a?a.createScriptURL(o):o,new ps(o,Y0)}function hn(o,a){this.a=a===_c?o:""}hn.prototype.ta=!0,hn.prototype.sa=function(){return this.a.toString()},hn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Kl(o){return o instanceof hn&&o.constructor===hn?o.a:(hs("expected object of type SafeUrl, got '"+o+"' of type "+_(o)),"type_error:SafeUrl")}var xM=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,DM=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,X0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Q0(o){if(o instanceof hn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),X0.test(o))o=new hn(o,_c);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var a=o.match(DM);o=a&&xM.test(a[1])?new hn(o,_c):null}return o}function Z0(o){return o instanceof hn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),X0.test(o)||(o="about:invalid#zClosurez"),new hn(o,_c))}var _c={},J0=new hn("about:invalid#zClosurez",_c);function ms(o,a,u){this.a=u===tw?o:""}ms.prototype.ta=!0,ms.prototype.sa=function(){return this.a.toString()},ms.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function AM(o){return o instanceof ms&&o.constructor===ms?o.a:(hs("expected object of type SafeHtml, got '"+o+"' of type "+_(o)),"type_error:SafeHtml")}var tw={};function kM(o,a){G0(o,"HTMLScriptElement"),o.src=K0(a),(a=o.ownerDocument&&o.ownerDocument.defaultView)&&a!=d?a=v(a.document):(m===null&&(m=v(d.document)),a=m),a&&o.setAttribute("nonce",a)}function ew(o,a,u,h){return o=o instanceof hn?o:Z0(o),a=a||d,u=u instanceof mi?Mp(u):u||"",a.open(Kl(o),u,h,void 0)}function nw(o,a){for(var u=o.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<u.length;)h+=u.shift()+p.shift();return h+u.join("%s")}function Np(o){return EM.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(vM,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(bM,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(yM,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(_M,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(wM,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(IM,"&#0;"))),o}function Pp(o){return Pp[" "](o),o}Pp[" "]=y;function RM(o,a){var u=PM;return Object.prototype.hasOwnProperty.call(u,o)?u[o]:u[o]=a(o)}var MM=Ee("Opera"),ni=Ee("Trident")||Ee("MSIE"),iw=Ee("Edge"),OM=iw||ni,rw=Ee("Gecko")&&!(Bt(fs.toLowerCase(),"webkit")&&!Ee("Edge"))&&!(Ee("Trident")||Ee("MSIE"))&&!Ee("Edge"),NM=Bt(fs.toLowerCase(),"webkit")&&!Ee("Edge");function ow(){var o=d.document;return o?o.documentMode:void 0}var Yl;t:{var Fp="",Lp=function(){var o=fs;if(rw)return/rv:([^\);]+)(\)|;)/.exec(o);if(iw)return/Edge\/([\d\.]+)/.exec(o);if(ni)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(NM)return/WebKit\/(\S+)/.exec(o);if(MM)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Lp&&(Fp=Lp?Lp[1]:""),ni){var jp=ow();if(jp!=null&&jp>parseFloat(Fp)){Yl=String(jp);break t}}Yl=Fp}var PM={};function sw(o){return RM(o,function(){for(var a=0,u=U0(String(Yl)).split("."),h=U0(String(o)).split("."),p=Math.max(u.length,h.length),g=0;a==0&&g<p;g++){var b=u[g]||"",w=h[g]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],b[0].length==0&&w[0].length==0)break;a=Rp(b[1].length==0?0:parseInt(b[1],10),w[1].length==0?0:parseInt(w[1],10))||Rp(b[2].length==0,w[2].length==0)||Rp(b[2],w[2]),b=b[3],w=w[3]}while(a==0)}return 0<=a})}var Vp;if(d.document&&ni){var aw=ow();Vp=aw||parseInt(Yl,10)||void 0}else Vp=void 0;var nr=Vp;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var FM=!ni||9<=Number(nr);function wc(o){var a=document;return typeof o=="string"?a.getElementById(o):o}function cw(o,a){q0(a,function(u,h){u&&typeof u=="object"&&u.ta&&(u=u.sa()),h=="style"?o.style.cssText=u:h=="class"?o.className=u:h=="for"?o.htmlFor=u:uw.hasOwnProperty(h)?o.setAttribute(uw[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?o.setAttribute(h,u):o[h]=u})}var uw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function LM(o,a,u){var h=arguments,p=document,g=String(h[0]),b=h[1];if(!FM&&b&&(b.name||b.type)){if(g=["<",g],b.name&&g.push(' name="',Np(b.name),'"'),b.type){g.push(' type="',Np(b.type),'"');var w={};dn(w,b),delete w.type,b=w}g.push(">"),g=g.join("")}return g=Xl(p,g),b&&(typeof b=="string"?g.className=b:Array.isArray(b)?g.className=b.join(" "):cw(g,b)),2<h.length&&jM(p,g,h),g}function jM(o,a,u){function h(w){w&&a.appendChild(typeof w=="string"?o.createTextNode(w):w)}for(var p=2;p<u.length;p++){var g=u[p];if(!I(g)||S(g)&&0<g.nodeType)h(g);else{t:{if(g&&typeof g.length=="number"){if(S(g)){var b=typeof g.item=="function"||typeof g.item=="string";break t}if(E(g)){b=typeof g.item=="function";break t}}b=!1}Jt(b?Yr(g):g,h)}}}function Xl(o,a){return a=String(a),o.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),o.createElement(a)}function lw(o){d.setTimeout(function(){throw o},0)}var Up;function VM(){var o=d.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ee("Presto")&&(o=function(){var p=Xl(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.close();var b="callImmediate"+Math.random(),w=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=V(function(x){(w=="*"||x.origin==w)&&x.data==b&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(b,w)}}}),typeof o<"u"&&!Ee("Trident")&&!Ee("MSIE")){var a=new o,u={},h=u;return a.port1.onmessage=function(){if(u.next!==void 0){u=u.next;var p=u.Hb;u.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,a.port2.postMessage(0)}}return function(p){d.setTimeout(p,0)}}function Ql(o,a){Zl||UM(),Bp||(Zl(),Bp=!0),dw.add(o,a)}var Zl;function UM(){if(d.Promise&&d.Promise.resolve){var o=d.Promise.resolve(void 0);Zl=function(){o.then(hw)}}else Zl=function(){var a=hw;!E(d.setImmediate)||d.Window&&d.Window.prototype&&!Ee("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(Up||(Up=VM()),Up(a)):d.setImmediate(a)}}var Bp=!1,dw=new L0;function hw(){for(var o;o=hM();){try{o.a.call(o.b)}catch(a){lw(a)}F0(j0,o)}Bp=!1}function yt(o,a){if(this.a=Qr,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=y)try{var u=this;o.call(a,function(h){Zr(u,Ic,h)},function(h){if(!(h instanceof gs))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Zr(u,Oi,h)})}catch(h){Zr(this,Oi,h)}}var Qr=0,Ic=2,Oi=3;function fw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}fw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var pw=new Dp(function(){return new fw},function(o){o.reset()});function zp(o,a,u){var h=pw.get();return h.g=o,h.b=a,h.f=u,h}function tt(o){if(o instanceof yt)return o;var a=new yt(y);return Zr(a,Ic,o),a}function Wt(o){return new yt(function(a,u){u(o)})}function mw(o,a,u){yw(o,a,u,null)||Ql(jt(a,o))}function BM(o){return new yt(function(a,u){var h=o.length,p=[];if(h)for(var g=function(M,ut){h--,p[M]=ut,h==0&&a(p)},b=function(M){u(M)},w=0,x;w<o.length;w++)x=o[w],mw(x,jt(g,w),b);else a(p)})}function gw(o){return new yt(function(a){var u=o.length,h=[];if(u)for(var p=function(w,x,M){u--,h[w]=x?{Qb:!0,value:M}:{Qb:!1,reason:M},u==0&&a(h)},g=0,b;g<o.length;g++)b=o[g],mw(b,jt(p,g,!0),jt(p,g,!1));else a(h)})}yt.prototype.then=function(o,a,u){return bw(this,E(o)?o:null,E(a)?a:null,u)},yt.prototype.$goog_Thenable=!0,e=yt.prototype,e.oa=function(o,a){return o=zp(o,o,a),o.c=!0,qp(this,o),this},e.o=function(o,a){return bw(this,null,o,a)},e.cancel=function(o){if(this.a==Qr){var a=new gs(o);Ql(function(){vw(this,a)},this)}};function vw(o,a){if(o.a==Qr)if(o.c){var u=o.c;if(u.b){for(var h=0,p=null,g=null,b=u.b;b&&(b.c||(h++,b.a==o&&(p=b),!(p&&1<h)));b=b.next)p||(g=b);p&&(u.a==Qr&&h==1?vw(u,a):(g?(h=g,h.next==u.f&&(u.f=h),h.next=h.next.next):ww(u),Iw(u,p,Oi,a)))}o.c=null}else Zr(o,Oi,a)}function qp(o,a){o.b||o.a!=Ic&&o.a!=Oi||_w(o),o.f?o.f.next=a:o.b=a,o.f=a}function bw(o,a,u,h){var p=zp(null,null,null);return p.a=new yt(function(g,b){p.g=a?function(w){try{var x=a.call(h,w);g(x)}catch(M){b(M)}}:g,p.b=u?function(w){try{var x=u.call(h,w);x===void 0&&w instanceof gs?b(w):g(x)}catch(M){b(M)}}:b}),p.a.c=o,qp(o,p),p.a}e.$c=function(o){this.a=Qr,Zr(this,Ic,o)},e.ad=function(o){this.a=Qr,Zr(this,Oi,o)};function Zr(o,a,u){o.a==Qr&&(o===u&&(a=Oi,u=new TypeError("Promise cannot resolve to itself")),o.a=1,yw(u,o.$c,o.ad,o)||(o.i=u,o.a=a,o.c=null,_w(o),a!=Oi||u instanceof gs||qM(o,u)))}function yw(o,a,u,h){if(o instanceof yt)return qp(o,zp(a||y,u||null,h)),!0;if(P0(o))return o.then(a,u,h),!0;if(S(o))try{var p=o.then;if(E(p))return zM(o,p,a,u,h),!0}catch(g){return u.call(h,g),!0}return!1}function zM(o,a,u,h,p){function g(x){w||(w=!0,h.call(p,x))}function b(x){w||(w=!0,u.call(p,x))}var w=!1;try{a.call(o,b,g)}catch(x){g(x)}}function _w(o){o.h||(o.h=!0,Ql(o.gc,o))}function ww(o){var a=null;return o.b&&(a=o.b,o.b=a.next,a.next=null),o.b||(o.f=null),a}e.gc=function(){for(var o;o=ww(this);)Iw(this,o,this.a,this.i);this.h=!1};function Iw(o,a,u,h){if(u==Oi&&a.b&&!a.c)for(;o&&o.g;o=o.c)o.g=!1;if(a.a)a.a.c=null,Ew(a,u,h);else try{a.c?a.g.call(a.f):Ew(a,u,h)}catch(p){Cw.call(null,p)}F0(pw,a)}function Ew(o,a,u){a==Ic?o.g.call(o.f,u):o.b&&o.b.call(o.f,u)}function qM(o,a){o.g=!0,Ql(function(){o.g&&Cw.call(null,a)})}var Cw=lw;function gs(o){En.call(this,o)}Y(gs,En),gs.prototype.name="cancel";function Jl(){Hp!=0&&(Sw[R(this)]=this),this.ya=this.ya,this.pa=this.pa}var Hp=0,Sw={};Jl.prototype.ya=!1;function Tw(o){if(!o.ya&&(o.ya=!0,o.Da(),Hp!=0)){var a=R(o);if(Hp!=0&&o.pa&&0<o.pa.length)throw Error(o+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Sw[a]}}Jl.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var HM=Object.freeze||function(o){return o},xw=!ni||9<=Number(nr),GM=ni&&!sw("9"),WM=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,a=Object.defineProperty({},"passive",{get:function(){o=!0}});try{d.addEventListener("test",y,a),d.removeEventListener("test",y,a)}catch{}return o}();function fn(o,a){this.type=o,this.b=this.target=a,this.defaultPrevented=!1}fn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Jr(o,a){if(fn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var u=this.type=o.type,h=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=a,a=o.relatedTarget){if(rw){t:{try{Pp(a.nodeName);var p=!0;break t}catch{}p=!1}p||(a=null)}}else u=="mouseover"?a=o.fromElement:u=="mouseout"&&(a=o.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:$M[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}Y(Jr,fn);var $M=HM({2:"touch",3:"pen",4:"mouse"});Jr.prototype.preventDefault=function(){Jr.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,GM)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Jr.prototype.g=function(){return this.a};var Ec="closure_listenable_"+(1e6*Math.random()|0),KM=0;function YM(o,a,u,h,p){this.listener=o,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.Wa=p,this.key=++KM,this.wa=this.Qa=!1}function td(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function ed(o){this.src=o,this.a={},this.b=0}ed.prototype.add=function(o,a,u,h,p){var g=o.toString();o=this.a[g],o||(o=this.a[g]=[],this.b++);var b=Wp(o,a,h,p);return-1<b?(a=o[b],u||(a.Qa=!1)):(a=new YM(a,this.src,g,!!h,p),a.Qa=u,o.push(a)),a};function Gp(o,a){var u=a.type;u in o.a&&Gl(o.a[u],a)&&(td(a),o.a[u].length==0&&(delete o.a[u],o.b--))}function Wp(o,a,u,h){for(var p=0;p<o.length;++p){var g=o[p];if(!g.wa&&g.listener==a&&g.capture==!!u&&g.Wa==h)return p}return-1}var $p="closure_lm_"+(1e6*Math.random()|0),Kp={},Dw=0;function zn(o,a,u,h,p){if(h&&h.once)Yp(o,a,u,h,p);else if(Array.isArray(a))for(var g=0;g<a.length;g++)zn(o,a[g],u,h,p);else u=Qp(u),o&&o[Ec]?Nw(o,a,u,S(h)?!!h.capture:!!h,p):Aw(o,a,u,!1,h,p)}function Aw(o,a,u,h,p,g){if(!a)throw Error("Invalid event type");var b=S(p)?!!p.capture:!!p,w=nd(o);if(w||(o[$p]=w=new ed(o)),u=w.add(a,u,h,b,g),!u.proxy){if(h=XM(),u.proxy=h,h.src=o,h.listener=u,o.addEventListener)WM||(p=b),p===void 0&&(p=!1),o.addEventListener(a.toString(),h,p);else if(o.attachEvent)o.attachEvent(Rw(a.toString()),h);else if(o.addListener&&o.removeListener)o.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");Dw++}}function XM(){var o=QM,a=xw?function(u){return o.call(a.src,a.listener,u)}:function(u){if(u=o.call(a.src,a.listener,u),!u)return u};return a}function Yp(o,a,u,h,p){if(Array.isArray(a))for(var g=0;g<a.length;g++)Yp(o,a[g],u,h,p);else u=Qp(u),o&&o[Ec]?Zp(o,a,u,S(h)?!!h.capture:!!h,p):Aw(o,a,u,!0,h,p)}function Cn(o,a,u,h,p){if(Array.isArray(a))for(var g=0;g<a.length;g++)Cn(o,a[g],u,h,p);else h=S(h)?!!h.capture:!!h,u=Qp(u),o&&o[Ec]?(o=o.v,a=String(a).toString(),a in o.a&&(g=o.a[a],u=Wp(g,u,h,p),-1<u&&(td(g[u]),Array.prototype.splice.call(g,u,1),g.length==0&&(delete o.a[a],o.b--)))):o&&(o=nd(o))&&(a=o.a[a.toString()],o=-1,a&&(o=Wp(a,u,h,p)),(u=-1<o?a[o]:null)&&kw(u))}function kw(o){if(typeof o!="number"&&o&&!o.wa){var a=o.src;if(a&&a[Ec])Gp(a.v,o);else{var u=o.type,h=o.proxy;a.removeEventListener?a.removeEventListener(u,h,o.capture):a.detachEvent?a.detachEvent(Rw(u),h):a.addListener&&a.removeListener&&a.removeListener(h),Dw--,(u=nd(a))?(Gp(u,o),u.b==0&&(u.src=null,a[$p]=null)):td(o)}}}function Rw(o){return o in Kp?Kp[o]:Kp[o]="on"+o}function Mw(o,a,u,h){var p=!0;if((o=nd(o))&&(a=o.a[a.toString()]))for(a=a.concat(),o=0;o<a.length;o++){var g=a[o];g&&g.capture==u&&!g.wa&&(g=Ow(g,h),p=p&&g!==!1)}return p}function Ow(o,a){var u=o.listener,h=o.Wa||o.src;return o.Qa&&kw(o),u.call(h,a)}function QM(o,a){if(o.wa)return!0;if(!xw){if(!a)t:{a=["window","event"];for(var u=d,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break t}a=u}if(h=a,a=new Jr(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=a.b;p;p=p.parentNode)h.push(p);for(o=o.type,p=h.length-1;0<=p;p--){a.b=h[p];var g=Mw(h[p],o,!0,a);u=u&&g}for(p=0;p<h.length;p++)a.b=h[p],g=Mw(h[p],o,!1,a),u=u&&g}return u}return Ow(o,new Jr(a,this))}function nd(o){return o=o[$p],o instanceof ed?o:null}var Xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(o){return E(o)?o:(o[Xp]||(o[Xp]=function(a){return o.handleEvent(a)}),o[Xp])}function tn(){Jl.call(this),this.v=new ed(this),this.bc=this,this.hb=null}Y(tn,Jl),tn.prototype[Ec]=!0,tn.prototype.addEventListener=function(o,a,u,h){zn(this,o,a,u,h)},tn.prototype.removeEventListener=function(o,a,u,h){Cn(this,o,a,u,h)},tn.prototype.dispatchEvent=function(o){var a,u=this.hb;if(u)for(a=[];u;u=u.hb)a.push(u);u=this.bc;var h=o.type||o;if(typeof o=="string")o=new fn(o,u);else if(o instanceof fn)o.target=o.target||u;else{var p=o;o=new fn(h,u),dn(o,p)}if(p=!0,a)for(var g=a.length-1;0<=g;g--){var b=o.b=a[g];p=id(b,h,!0,o)&&p}if(b=o.b=u,p=id(b,h,!0,o)&&p,p=id(b,h,!1,o)&&p,a)for(g=0;g<a.length;g++)b=o.b=a[g],p=id(b,h,!1,o)&&p;return p},tn.prototype.Da=function(){if(tn.bb.Da.call(this),this.v){var o=this.v,a=0,u;for(u in o.a){for(var h=o.a[u],p=0;p<h.length;p++)++a,td(h[p]);delete o.a[u],o.b--}}this.hb=null};function Nw(o,a,u,h,p){o.v.add(String(a),u,!1,h,p)}function Zp(o,a,u,h,p){o.v.add(String(a),u,!0,h,p)}function id(o,a,u,h){if(a=o.v.a[String(a)],!a)return!0;a=a.concat();for(var p=!0,g=0;g<a.length;++g){var b=a[g];if(b&&!b.wa&&b.capture==u){var w=b.listener,x=b.Wa||b.src;b.Qa&&Gp(o.v,b),p=w.call(x,h)!==!1&&p}}return p&&!h.defaultPrevented}function Jp(o,a,u){if(E(o))u&&(o=V(o,u));else if(o&&typeof o.handleEvent=="function")o=V(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:d.setTimeout(o,a||0)}function vs(o){var a=null;return new yt(function(u,h){a=Jp(function(){u(void 0)},o),a==-1&&h(Error("Failed to schedule timer."))}).o(function(u){throw d.clearTimeout(a),u})}function Pw(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(I(o)){for(var a=[],u=o.length,h=0;h<u;h++)a.push(o[h]);return a}a=[],u=0;for(h in o)a[u++]=o[h];return a}function Fw(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(I(o)||typeof o=="string"){var a=[];o=o.length;for(var u=0;u<o;u++)a.push(u);return a}a=[],u=0;for(var h in o)a[u++]=h;return a}}function ZM(o,a){if(o.forEach&&typeof o.forEach=="function")o.forEach(a,void 0);else if(I(o)||typeof o=="string")Jt(o,a,void 0);else for(var u=Fw(o),h=Pw(o),p=h.length,g=0;g<p;g++)a.call(void 0,h[g],u&&u[g],o)}function bs(o,a){this.b={},this.a=[],this.c=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(o)if(o instanceof bs)for(u=o.Y(),h=0;h<u.length;h++)this.set(u[h],o.get(u[h]));else for(h in o)this.set(h,o[h])}e=bs.prototype,e.X=function(){tm(this);for(var o=[],a=0;a<this.a.length;a++)o.push(this.b[this.a[a]]);return o},e.Y=function(){return tm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function tm(o){if(o.c!=o.a.length){for(var a=0,u=0;a<o.a.length;){var h=o.a[a];to(o.b,h)&&(o.a[u++]=h),a++}o.a.length=u}if(o.c!=o.a.length){var p={};for(u=a=0;a<o.a.length;)h=o.a[a],to(p,h)||(o.a[u++]=h,p[h]=1),a++;o.a.length=u}}e.get=function(o,a){return to(this.b,o)?this.b[o]:a},e.set=function(o,a){to(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=a},e.forEach=function(o,a){for(var u=this.Y(),h=0;h<u.length;h++){var p=u[h],g=this.get(p);o.call(a,g,p,this)}};function to(o,a){return Object.prototype.hasOwnProperty.call(o,a)}var Lw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function JM(o,a){if(o){o=o.split("&");for(var u=0;u<o.length;u++){var h=o[u].indexOf("="),p=null;if(0<=h){var g=o[u].substring(0,h);p=o[u].substring(h+1)}else g=o[u];a(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ir(o,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var u;o instanceof ir?(this.i=a!==void 0?a:o.i,Cc(this,o.c),this.l=o.l,this.a=o.a,Sc(this,o.g),this.f=o.f,em(this,Bw(o.b)),this.h=o.h):o&&(u=String(o).match(Lw))?(this.i=!!a,Cc(this,u[1]||"",!0),this.l=Tc(u[2]||""),this.a=Tc(u[3]||"",!0),Sc(this,u[4]),this.f=Tc(u[5]||"",!0),em(this,u[6]||"",!0),this.h=Tc(u[7]||"")):(this.i=!!a,this.b=new eo(null,this.i))}ir.prototype.toString=function(){var o=[],a=this.c;a&&o.push(xc(a,jw,!0),":");var u=this.a;return(u||a=="file")&&(o.push("//"),(a=this.l)&&o.push(xc(a,jw,!0),"@"),o.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.g,u!=null&&o.push(":",String(u))),(u=this.f)&&(this.a&&u.charAt(0)!="/"&&o.push("/"),o.push(xc(u,u.charAt(0)=="/"?nO:eO,!0))),(u=this.b.toString())&&o.push("?",u),(u=this.h)&&o.push("#",xc(u,rO)),o.join("")},ir.prototype.resolve=function(o){var a=new ir(this),u=!!o.c;u?Cc(a,o.c):u=!!o.l,u?a.l=o.l:u=!!o.a,u?a.a=o.a:u=o.g!=null;var h=o.f;if(u)Sc(a,o.g);else if(u=!!o.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=a.f.lastIndexOf("/");p!=-1&&(h=a.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(Bt(p,"./")||Bt(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var g=[],b=0;b<p.length;){var w=p[b++];w=="."?h&&b==p.length&&g.push(""):w==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),h&&b==p.length&&g.push("")):(g.push(w),h=!0)}h=g.join("/")}else h=p}return u?a.f=h:u=o.b.toString()!=="",u?em(a,Bw(o.b)):u=!!o.h,u&&(a.h=o.h),a};function Cc(o,a,u){o.c=u?Tc(a,!0):a,o.c&&(o.c=o.c.replace(/:$/,""))}function Sc(o,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);o.g=a}else o.g=null}function em(o,a,u){a instanceof eo?(o.b=a,oO(o.b,o.i)):(u||(a=xc(a,iO)),o.b=new eo(a,o.i))}function ce(o,a,u){o.b.set(a,u)}function qn(o,a){return o.b.get(a)}function pn(o){return o instanceof ir?new ir(o):new ir(o,void 0)}function rd(o,a,u,h){var p=new ir(null,void 0);return o&&Cc(p,o),a&&(p.a=a),u&&Sc(p,u),h&&(p.f=h),p}function Tc(o,a){return o?a?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xc(o,a,u){return typeof o=="string"?(o=encodeURI(o).replace(a,tO),u&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function tO(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var jw=/[#\/\?@]/g,eO=/[#\?:]/g,nO=/[#\?]/g,iO=/[#\?@]/g,rO=/#/g;function eo(o,a){this.b=this.a=null,this.c=o||null,this.f=!!a}function rr(o){o.a||(o.a=new bs,o.b=0,o.c&&JM(o.c,function(a,u){o.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}function Vw(o){var a=Fw(o);if(typeof a>"u")throw Error("Keys are undefined");var u=new eo(null,void 0);o=Pw(o);for(var h=0;h<a.length;h++){var p=a[h],g=o[h];Array.isArray(g)?Uw(u,p,g):u.add(p,g)}return u}e=eo.prototype,e.add=function(o,a){rr(this),this.c=null,o=ys(this,o);var u=this.a.get(o);return u||this.a.set(o,u=[]),u.push(a),this.b+=1,this};function gi(o,a){rr(o),a=ys(o,a),to(o.a.b,a)&&(o.c=null,o.b-=o.a.get(a).length,o=o.a,to(o.b,a)&&(delete o.b[a],o.c--,o.a.length>2*o.c&&tm(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function nm(o,a){return rr(o),a=ys(o,a),to(o.a.b,a)}e.forEach=function(o,a){rr(this),this.a.forEach(function(u,h){Jt(u,function(p){o.call(a,p,h,this)},this)},this)},e.Y=function(){rr(this);for(var o=this.a.X(),a=this.a.Y(),u=[],h=0;h<a.length;h++)for(var p=o[h],g=0;g<p.length;g++)u.push(a[h]);return u},e.X=function(o){rr(this);var a=[];if(typeof o=="string")nm(this,o)&&(a=kp(a,this.a.get(ys(this,o))));else{o=this.a.X();for(var u=0;u<o.length;u++)a=kp(a,o[u])}return a},e.set=function(o,a){return rr(this),this.c=null,o=ys(this,o),nm(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[a]),this.b+=1,this},e.get=function(o,a){return o?(o=this.X(o),0<o.length?String(o[0]):a):a};function Uw(o,a,u){gi(o,a),0<u.length&&(o.c=null,o.a.set(ys(o,a),Yr(u)),o.b+=u.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],a=this.a.Y(),u=0;u<a.length;u++){var h=a[u],p=encodeURIComponent(String(h));h=this.X(h);for(var g=0;g<h.length;g++){var b=p;h[g]!==""&&(b+="="+encodeURIComponent(String(h[g]))),o.push(b)}}return this.c=o.join("&")};function Bw(o){var a=new eo;return a.c=o.c,o.a&&(a.a=new bs(o.a),a.b=o.b),a}function ys(o,a){return a=String(a),o.f&&(a=a.toLowerCase()),a}function oO(o,a){a&&!o.f&&(rr(o),o.c=null,o.a.forEach(function(u,h){var p=h.toLowerCase();h!=p&&(gi(this,h),Uw(this,p,u))},o)),o.f=a}function zw(o){var a=[];return im(new sO,o,a),a.join("")}function sO(){}function im(o,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var h=a;a=h.length,u.push("[");for(var p="",g=0;g<a;g++)u.push(p),im(o,h[g],u),p=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),p="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g=a[h],typeof g!="function"&&(u.push(p),Hw(h,u),u.push(":"),im(o,g,u),p=","));u.push("}");return}}switch(typeof a){case"string":Hw(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var qw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},aO=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Hw(o,a){a.push('"',o.replace(aO,function(u){var h=qw[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),qw[u]=h),h}),'"')}function rm(){var o=Pe();return ni&&!!nr&&nr==11||/Edge\/\d+/.test(o)}function Dc(){return d.window&&d.window.location.href||self&&self.location&&self.location.href||""}function Gw(o,a){a=a||d.window;var u="about:blank";o&&(u=Kl(Q0(o)||J0)),a.location.href=u}function Ww(o,a){var u=[],h;for(h in o)h in a?typeof o[h]!=typeof a[h]?u.push(h):typeof o[h]=="object"&&o[h]!=null&&a[h]!=null?0<Ww(o[h],a[h]).length&&u.push(h):o[h]!==a[h]&&u.push(h):u.push(h);for(h in a)h in o||u.push(h);return u}function cO(){var o=Pe();return o=_s(o)!=Xw?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!ni||!nr||9<nr}function $w(o){return o=(o||Pe()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function no(o){o=o||d.window;try{o.close()}catch{}}function Kw(o,a,u){var h=Math.floor(1e9*Math.random()).toString();a=a||500,u=u||600;var p=(window.screen.availHeight-u)/2,g=(window.screen.availWidth-a)/2;a={width:a,height:u,top:0<p?p:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},u=Pe().toLowerCase(),h&&(a.target=h,Bt(u,"crios/")&&(a.target="_blank")),_s(Pe())==am&&(o=o||"http://localhost",a.scrollbars=!0),u=o||"",(o=a)||(o={}),h=window,a=u instanceof hn?u:Q0(typeof u.href<"u"?u.href:String(u))||J0,u=o.target||u.target,p=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":p.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(b+"="+(o[b]?1:0))}var b=p.join(",");if((Ee("iPhone")&&!Ee("iPod")&&!Ee("iPad")||Ee("iPad")||Ee("iPod"))&&h.navigator&&h.navigator.standalone&&u&&u!="_self"?(b=Xl(document,"A"),G0(b,"HTMLAnchorElement"),a=a instanceof hn?a:Z0(a),b.href=Kl(a),b.setAttribute("target",u),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,h,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=ew("",h,u,b),o=Kl(a),b&&(OM&&Bt(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Np(o)+'">',o=(h=$0())?h.createHTML(o):o,o=new ms(o,null,tw),h=b.document)&&(h.write(AM(o)),h.close())):(b=ew(a,h,u,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function uO(o){return new yt(function(a){function u(){vs(2e3).then(function(){if(!o||o.closed)a();else return u()})}return u()})}var lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dO=/^[^@]+@[^@]+$/;function od(){var o=null;return new yt(function(a){d.document.readyState=="complete"?a():(o=function(){a()},Yp(window,"load",o))}).o(function(a){throw Cn(window,"load",o),a})}function hO(){return om(void 0)?od().then(function(){return new yt(function(o,a){var u=d.document,h=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);u.addEventListener("deviceready",function(){clearTimeout(h),o()},!1)})}):Wt(Error("Cordova must run in an Android or iOS file scheme."))}function om(o){return o=o||Pe(),!(Is()!=="file:"&&Is()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function sm(){var o=d.window;try{return!(!o||o==o.top)}catch{return!1}}function ii(){return typeof d.WorkerGlobalScope<"u"&&typeof d.importScripts=="function"}function vi(){return it.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":it.INTERNAL.hasOwnProperty("node")?"Node":ii()?"Worker":"Browser"}function Yw(){var o=vi();return o==="ReactNative"||o==="Node"}function fO(){for(var o=50,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}var am="Firefox",Xw="Chrome";function _s(o){var a=o.toLowerCase();if(Bt(a,"opera/")||Bt(a,"opr/")||Bt(a,"opios/"))return"Opera";if(Bt(a,"iemobile"))return"IEMobile";if(Bt(a,"msie")||Bt(a,"trident/"))return"IE";if(Bt(a,"edge/"))return"Edge";if(Bt(a,"firefox/"))return am;if(Bt(a,"silk/"))return"Silk";if(Bt(a,"blackberry"))return"Blackberry";if(Bt(a,"webos"))return"Webos";if(!Bt(a,"safari/")||Bt(a,"chrome/")||Bt(a,"crios/")||Bt(a,"android"))if(!Bt(a,"chrome/")&&!Bt(a,"crios/")||Bt(a,"edge/")){if(Bt(a,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Xw;else return"Safari";return"Other"}var Qw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ws(o,a){a=a||[];var u=[],h={},p;for(p in Qw)h[Qw[p]]=!0;for(p=0;p<a.length;p++)typeof h[a[p]]<"u"&&(delete h[a[p]],u.push(a[p]));return u.sort(),a=u,a.length||(a=["FirebaseCore-web"]),u=vi(),u==="Browser"?(h=Pe(),u=_s(h)):u==="Worker"&&(h=Pe(),u=_s(h)+"-"+u),u+"/JsCore/"+o+"/"+a.join(",")}function Pe(){return d.navigator&&d.navigator.userAgent||""}function $t(o,a){o=o.split("."),a=a||d;for(var u=0;u<o.length&&typeof a=="object"&&a!=null;u++)a=a[o[u]];return u!=o.length&&(a=void 0),a}function cm(){try{var o=d.localStorage,a=ro();if(o)return o.setItem(a,"1"),o.removeItem(a),rm()?!!d.indexedDB:!0}catch{return ii()&&!!d.indexedDB}return!1}function io(){return(sd()||Is()==="chrome-extension:"||om())&&!Yw()&&cm()&&!ii()}function sd(){return Is()==="http:"||Is()==="https:"}function Is(){return d.location&&d.location.protocol||null}function Ac(o){return o=o||Pe(),!($w(o)||_s(o)==am)}function kc(o){return typeof o>"u"?null:zw(o)}function Zw(o){var a={},u;for(u in o)o.hasOwnProperty(u)&&o[u]!==null&&o[u]!==void 0&&(a[u]=o[u]);return a}function Es(o){if(o!==null)return JSON.parse(o)}function ro(o){return o||Math.floor(1e9*Math.random()).toString()}function Jw(o){return o=o||Pe(),!(_s(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function tI(){var o=d.___jsl;if(o&&o.H){for(var a in o.H)if(o.H[a].r=o.H[a].r||[],o.H[a].L=o.H[a].L||[],o.H[a].r=o.H[a].L.concat(),o.CP)for(var u=0;u<o.CP.length;u++)o.CP[u]=null}}function or(o,a){if(o>a)throw Error("Short delay should be less than long delay!");this.a=o,this.c=a,o=Pe(),a=vi(),this.b=$w(o)||a==="ReactNative"}or.prototype.get=function(){var o=d.navigator;return!(o&&typeof o.onLine=="boolean"&&(sd()||Is()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function um(){var o=d.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function pO(){var o=d.document,a=null;return um()||!o?tt():new yt(function(u){a=function(){um()&&(o.removeEventListener("visibilitychange",a,!1),u())},o.addEventListener("visibilitychange",a,!1)}).o(function(u){throw o.removeEventListener("visibilitychange",a,!1),u})}function Rc(o){try{var a=new Date(parseInt(o,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(o))return a.toUTCString()}catch{}return null}function eI(){return!(!$t("fireauth.oauthhelper",d)&&!$t("fireauth.iframe",d))}function mO(){var o=d.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function gO(){var o=d.navigator;return o&&o.serviceWorker?tt().then(function(){return o.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):tt(null)}var nI={};function lm(o){nI[o]||(nI[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var dm;try{var hm={};Object.defineProperty(hm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(hm,"abcd",{configurable:!0,enumerable:!0,value:2}),dm=hm.abcd==2}catch{dm=!1}function K(o,a,u){dm?Object.defineProperty(o,a,{configurable:!0,enumerable:!0,value:u}):o[a]=u}function en(o,a){if(a)for(var u in a)a.hasOwnProperty(u)&&K(o,u,a[u])}function bi(o){var a={};return en(a,o),a}function vO(o){var a={},u;for(u in o)o.hasOwnProperty(u)&&(a[u]=o[u]);return a}function bO(o,a){if(!a||!a.length)return!0;if(!o)return!1;for(var u=0;u<a.length;u++){var h=o[a[u]];if(h==null||h==="")return!1}return!0}function fm(o){var a=o;if(typeof o=="object"&&o!=null){a="length"in o?[]:{};for(var u in o)K(a,u,fm(o[u]))}return a}function pm(o){var a=o&&(o[bm]?"phone":null);if(a&&o&&o[vm]){K(this,"uid",o[vm]),K(this,"displayName",o[iI]||null);var u=null;o[gm]&&(u=new Date(o[gm]).toUTCString()),K(this,"enrollmentTime",u),K(this,"factorId",a)}else throw new C("internal-error","Internal assert: invalid MultiFactorInfo object")}pm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function mm(o){try{var a=new Mc(o)}catch{a=null}return a}var iI="displayName",gm="enrolledAt",vm="mfaEnrollmentId",bm="phoneInfo";function Mc(o){pm.call(this,o),K(this,"phoneNumber",o[bm])}Y(Mc,pm),Mc.prototype.w=function(){var o=Mc.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function yO(o){var a={},u=o[_O],h=o[IO],p=o[EO];if(o=mm(o[wO]),!p||p!=ad&&p!=Oc&&!u||p==Oc&&!h||p==ym&&!o)throw Error("Invalid checkActionCode response!");p==Oc?(a[oI]=u||null,a[sI]=u||null,a[rI]=h):(a[oI]=h||null,a[sI]=h||null,a[rI]=u||null),a[CO]=o||null,K(this,TO,p),K(this,SO,fm(a))}var ym="REVERT_SECOND_FACTOR_ADDITION",ad="EMAIL_SIGNIN",Oc="VERIFY_AND_CHANGE_EMAIL",_O="email",wO="mfaInfo",IO="newEmail",EO="requestType",rI="email",oI="fromEmail",CO="multiFactorInfo",sI="previousEmail",SO="data",TO="operation";function _m(o){o=pn(o);var a=qn(o,aI)||null,u=qn(o,cI)||null,h=qn(o,uI)||null;if(h=h&&kO[h]||null,!a||!u||!h)throw new C("argument-error",aI+", "+cI+"and "+uI+" are required in a valid action code URL.");en(this,{apiKey:a,operation:h,code:u,continueUrl:qn(o,xO)||null,languageCode:qn(o,DO)||null,tenantId:qn(o,AO)||null})}var aI="apiKey",cI="oobCode",xO="continueUrl",DO="languageCode",uI="mode",AO="tenantId",kO={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ym,signIn:ad,verifyAndChangeEmail:Oc,verifyEmail:"VERIFY_EMAIL"};function lI(o){try{return new _m(o)}catch{return null}}function cd(o){var a=o[RO];if(typeof a>"u")throw new C("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new C("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var u=o[dI];if(u&&typeof u=="object"){a=u[gI];var h=u[pI];if(u=u[mI],typeof a=="string"&&a.length){if(this.a=a,typeof h<"u"&&typeof h!="boolean")throw new C("argument-error",pI+" property must be a boolean when specified.");if(this.g=!!h,typeof u<"u"&&(typeof u!="string"||typeof u=="string"&&!u.length))throw new C("argument-error",mI+" property must be a non empty string when specified.");this.b=u||null}else{if(typeof a<"u")throw new C("argument-error",gI+" property must be a non empty string when specified.");if(typeof h<"u"||typeof u<"u")throw new C("missing-android-pkg-name")}}else if(typeof u<"u")throw new C("argument-error",dI+" property must be a non null object when specified.");if(this.f=null,(a=o[fI])&&typeof a=="object"){if(a=a[vI],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new C("argument-error",vI+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new C("argument-error",fI+" property must be a non null object when specified.");if(a=o[wm],typeof a<"u"&&typeof a!="boolean")throw new C("argument-error",wm+" property must be a boolean when specified.");if(this.c=!!a,o=o[hI],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new C("argument-error",hI+" property must be a non empty string when specified.");this.i=o||null}var dI="android",hI="dynamicLinkDomain",wm="handleCodeInApp",fI="iOS",RO="url",pI="installApp",mI="minimumVersion",gI="packageName",vI="bundleId";function ud(o){var a={};a.continueUrl=o.h,a.canHandleCodeInApp=o.c,(a.androidPackageName=o.a)&&(a.androidMinimumVersion=o.b,a.androidInstallApp=o.g),a.iOSBundleId=o.f,a.dynamicLinkDomain=o.i;for(var u in a)a[u]===null&&delete a[u];return a}function MO(o){return Hl(o,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Nc=null;function OO(o){var a=[];return NO(o,function(u){a.push(u)}),a}function NO(o,a){function u(x){for(;h<o.length;){var M=o.charAt(h++),ut=Nc[M];if(ut!=null)return ut;if(!/^[\s\xa0]*$/.test(M))throw Error("Unknown base64 encoding at char: "+M)}return x}PO();for(var h=0;;){var p=u(-1),g=u(0),b=u(64),w=u(64);if(w===64&&p===-1)break;a(p<<2|g>>4),b!=64&&(a(g<<4&240|b>>2),w!=64&&a(b<<6&192|w))}}function PO(){if(!Nc){Nc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],u=0;5>u;u++)for(var h=o.concat(a[u].split("")),p=0;p<h.length;p++){var g=h[p];Nc[g]===void 0&&(Nc[g]=p)}}}function ld(o){var a=bI(o);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=o,this.a=a.exp,this.i=a.sub,o=Date.now()/1e3,this.g=a.iat||(o>this.a?this.a:o),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}ld.prototype.T=function(){return this.f},ld.prototype.l=function(){return this.c},ld.prototype.toString=function(){return this.h};function dd(o){try{return new ld(o)}catch{return null}}function bI(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var a=(4-o.length%4)%4,u=0;u<a;u++)o+=".";try{var h=OO(o);for(o=[],u=a=0;a<h.length;){var p=h[a++];if(128>p)o[u++]=String.fromCharCode(p);else if(191<p&&224>p){var g=h[a++];o[u++]=String.fromCharCode((p&31)<<6|g&63)}else if(239<p&&365>p){g=h[a++];var b=h[a++],w=h[a++],x=((p&7)<<18|(g&63)<<12|(b&63)<<6|w&63)-65536;o[u++]=String.fromCharCode(55296+(x>>10)),o[u++]=String.fromCharCode(56320+(x&1023))}else g=h[a++],b=h[a++],o[u++]=String.fromCharCode((p&15)<<12|(g&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var yI="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),hd=["client_id","response_type","scope","redirect_uri","state"],Im={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:hd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:hd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:hd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:yI},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Em(o){for(var a in Im)if(Im[a].fa==o)return Im[a];return null}function _I(o){var a={};a["facebook.com"]=II,a["google.com"]=CI,a["github.com"]=EI,a["twitter.com"]=SI;var u=o&&o[wI];try{if(u)return a[u]?new a[u](o):new yi(o);if(typeof o[Cm]<"u")return new Sm(o)}catch{}return null}var Cm="idToken",wI="providerId";function Sm(o){var a=o[wI];if(!a&&o[Cm]){var u=dd(o[Cm]);u&&u.b&&(a=u.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),u=!1,typeof o.isNewUser<"u"?u=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(u=!0),K(this,"providerId",a),K(this,"isNewUser",u)}function yi(o){Sm.call(this,o),o=Es(o.rawUserInfo||"{}"),K(this,"profile",fm(o||{}))}Y(yi,Sm);function II(o){if(yi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}Y(II,yi);function EI(o){if(yi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");K(this,"username",this.profile&&this.profile.login||null)}Y(EI,yi);function CI(o){if(yi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}Y(CI,yi);function SI(o){if(yi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");K(this,"username",o.screenName||null)}Y(SI,yi);function TI(o){var a=pn(o),u=qn(a,"link"),h=qn(pn(u),"link");return a=qn(a,"deep_link_id"),qn(pn(a),"link")||a||h||u||o}function fd(o,a){if(!o&&!a)throw new C("internal-error","Internal assert: no raw session string available");if(o&&a)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=a||null,this.type=this.a?Pc:pd}var Pc="enroll",pd="signin";fd.prototype.Ha=function(){return this.a?tt(this.a):tt(this.b)},fd.prototype.w=function(){return this.type==Pc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Cs(){}Cs.prototype.ka=function(){},Cs.prototype.b=function(){},Cs.prototype.c=function(){},Cs.prototype.w=function(){};function Ss(o,a){return o.then(function(u){if(u[si]){var h=dd(u[si]);if(!h||a!=h.i)throw new C("user-mismatch");return u}throw new C("user-mismatch")}).o(function(u){throw u&&u.code&&u.code==vc+"user-not-found"?new C("user-mismatch"):u})}function oo(o,a){if(a)this.a=a;else throw new C("internal-error","failed to construct a credential");K(this,"providerId",o),K(this,"signInMethod",o)}oo.prototype.ka=function(o){return Ym(o,Tm(this))},oo.prototype.b=function(o,a){var u=Tm(this);return u.idToken=a,Xm(o,u)},oo.prototype.c=function(o,a){return Ss(Qm(o,Tm(this)),a)};function Tm(o){return{pendingToken:o.a,requestUri:"http://localhost"}}oo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function FO(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new oo(o.providerId,o.pendingToken)}catch{}return null}function Ni(o,a,u){if(this.a=null,a.idToken||a.accessToken)a.idToken&&K(this,"idToken",a.idToken),a.accessToken&&K(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&K(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)K(this,"accessToken",a.oauthToken),K(this,"secret",a.oauthTokenSecret);else throw new C("internal-error","failed to construct a credential");K(this,"providerId",o),K(this,"signInMethod",u)}Ni.prototype.ka=function(o){return Ym(o,xm(this))},Ni.prototype.b=function(o,a){var u=xm(this);return u.idToken=a,Xm(o,u)},Ni.prototype.c=function(o,a){var u=xm(this);return Ss(Qm(o,u),a)};function xm(o){var a={};return o.idToken&&(a.id_token=o.idToken),o.accessToken&&(a.access_token=o.accessToken),o.secret&&(a.oauth_token_secret=o.secret),a.providerId=o.providerId,o.nonce&&!o.a&&(a.nonce=o.nonce),a={postBody:Vw(a).toString(),requestUri:"http://localhost"},o.a&&(delete a.postBody,a.pendingToken=o.a),a}Ni.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function LO(o){if(o&&o.providerId&&o.signInMethod){var a={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ni(o.providerId,a,o.signInMethod)}catch{}}return null}function so(o,a){this.Qc=a||[],en(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Em(o)||{}).Ja||null,this.pb=null}so.prototype.Ka=function(o){return this.Jb=er(o),this};function xI(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');so.call(this,o,[])}Y(xI,so);function Sn(o){so.call(this,o,hd),this.a=[]}Y(Sn,so),Sn.prototype.Ca=function(o){return Mi(this.a,o)||this.a.push(o),this},Sn.prototype.Rb=function(){return Yr(this.a)},Sn.prototype.credential=function(o,a){var u;if(S(o)?u={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:u={idToken:o||null,accessToken:a||null},!u.idToken&&!u.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ni(this.providerId,u,this.providerId)};function ao(){Sn.call(this,"facebook.com")}Y(ao,Sn),K(ao,"PROVIDER_ID","facebook.com"),K(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function DI(o){if(!o)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return S(o)&&(a=o.accessToken),new ao().credential({accessToken:a})}function co(){Sn.call(this,"github.com")}Y(co,Sn),K(co,"PROVIDER_ID","github.com"),K(co,"GITHUB_SIGN_IN_METHOD","github.com");function AI(o){if(!o)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return S(o)&&(a=o.accessToken),new co().credential({accessToken:a})}function uo(){Sn.call(this,"google.com"),this.Ca("profile")}Y(uo,Sn),K(uo,"PROVIDER_ID","google.com"),K(uo,"GOOGLE_SIGN_IN_METHOD","google.com");function kI(o,a){var u=o;return S(o)&&(u=o.idToken,a=o.accessToken),new uo().credential({idToken:u,accessToken:a})}function Ts(){so.call(this,"twitter.com",yI)}Y(Ts,so),K(Ts,"PROVIDER_ID","twitter.com"),K(Ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function RI(o,a){var u=o;if(S(u)||(u={oauthToken:o,oauthTokenSecret:a}),!u.oauthToken||!u.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ni("twitter.com",u,"twitter.com")}function sr(o,a,u){this.a=o,this.f=a,K(this,"providerId","password"),K(this,"signInMethod",u===Hn.EMAIL_LINK_SIGN_IN_METHOD?Hn.EMAIL_LINK_SIGN_IN_METHOD:Hn.EMAIL_PASSWORD_SIGN_IN_METHOD)}sr.prototype.ka=function(o){return this.signInMethod==Hn.EMAIL_LINK_SIGN_IN_METHOD?It(o,IN,{email:this.a,oobCode:this.f}):It(o,oE,{email:this.a,password:this.f})},sr.prototype.b=function(o,a){return this.signInMethod==Hn.EMAIL_LINK_SIGN_IN_METHOD?It(o,EN,{idToken:a,email:this.a,oobCode:this.f}):It(o,rE,{idToken:a,email:this.a,password:this.f})},sr.prototype.c=function(o,a){return Ss(this.ka(o),a)},sr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function jO(o){return o&&o.email&&o.password?new sr(o.email,o.password,o.signInMethod):null}function Hn(){en(this,{providerId:"password",isOAuthProvider:!1})}function MI(o,a){if(a=Dm(a),!a)throw new C("argument-error","Invalid email link!");return new sr(o,a.code,Hn.EMAIL_LINK_SIGN_IN_METHOD)}function Dm(o){return o=TI(o),(o=lI(o))&&o.operation===ad?o:null}en(Hn,{PROVIDER_ID:"password"}),en(Hn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),en(Hn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ar(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new C("internal-error");this.a=o,K(this,"providerId","phone"),this.fa="phone",K(this,"signInMethod","phone")}ar.prototype.ka=function(o){return o.gb(Fc(this))},ar.prototype.b=function(o,a){var u=Fc(this);return u.idToken=a,It(o,qN,u)},ar.prototype.c=function(o,a){var u=Fc(this);return u.operation="REAUTH",o=It(o,HN,u),Ss(o,a)},ar.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function VO(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var a={};return Jt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(u){o[u]&&(a[u]=o[u])}),new ar(a)}return null}function Fc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Pi(o){try{this.a=o||it.auth()}catch{throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}en(this,{providerId:"phone",isOAuthProvider:!1})}Pi.prototype.gb=function(o,a){var u=this.a.a;return tt(a.verify()).then(function(h){if(typeof h!="string")throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var p=S(o)?o.session:null,g=S(o)?o.phoneNumber:o,b;return p&&p.type==Pc?b=p.Ha().then(function(w){return fN(u,{idToken:w,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:h}})}):p&&p.type==pd?b=p.Ha().then(function(w){return pN(u,{mfaPendingCredential:w,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):b=hN(u,{phoneNumber:g,recaptchaToken:h}),b.then(function(w){return typeof a.reset=="function"&&a.reset(),w},function(w){throw typeof a.reset=="function"&&a.reset(),w});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function OI(o,a){if(!o)throw new C("missing-verification-id");if(!a)throw new C("missing-verification-code");return new ar({fb:o,eb:a})}en(Pi,{PROVIDER_ID:"phone"}),en(Pi,{PHONE_SIGN_IN_METHOD:"phone"});function Am(o){if(o.temporaryProof&&o.phoneNumber)return new ar({La:o.temporaryProof,ea:o.phoneNumber});var a=o&&o.providerId;if(!a||a==="password")return null;var u=o&&o.oauthAccessToken,h=o&&o.oauthTokenSecret,p=o&&o.nonce,g=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(a){case"google.com":return kI(g,u);case"facebook.com":return DI(u);case"github.com":return AI(u);case"twitter.com":return RI(u,h);default:return u||h||g||b?b?a.indexOf("saml.")==0?new oo(a,b):new Ni(a,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},a):new Sn(a).credential({idToken:g,accessToken:u,rawNonce:p}):null}}catch{return null}}function km(o){if(!o.isOAuthProvider)throw new C("invalid-oauth-provider")}function ri(o,a,u,h,p,g,b){if(this.c=o,this.b=a||null,this.g=u||null,this.f=h||null,this.i=g||null,this.h=b||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}else throw new C("invalid-auth-event")}ri.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},ri.prototype.T=function(){return this.h},ri.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function NI(o){return o=o||{},o.type?new ri(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&N0(o.error),o.postBody,o.tenantId):null}function UO(){this.b=null,this.a=[]}var Rm=null;function BO(o){var a=Rm;a.a.push(o),a.b||(a.b=function(u){for(var h=0;h<a.a.length;h++)a.a[h](u)},o=$t("universalLinks.subscribe",d),typeof o=="function"&&o(null,a.b))}function Mm(o){var a="unauthorized-domain",u=void 0,h=pn(o);o=h.a,h=h.c,h=="chrome-extension"?u=nw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):h=="http"||h=="https"?u=nw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):a="operation-not-supported-in-this-environment",C.call(this,a,u)}Y(Mm,C);function Lc(o,a,u){C.call(this,o,u),o=a||{},o.Kb&&K(this,"email",o.Kb),o.ea&&K(this,"phoneNumber",o.ea),o.credential&&K(this,"credential",o.credential),o.$b&&K(this,"tenantId",o.$b)}Y(Lc,C),Lc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&dn(o,a),o},Lc.prototype.toJSON=function(){return this.w()};function md(o){if(o.code){var a=o.code||"";a.indexOf(vc)==0&&(a=a.substring(vc.length));var u={credential:Am(o),$b:o.tenantId};if(o.email)u.Kb=o.email;else if(o.phoneNumber)u.ea=o.phoneNumber;else if(!u.credential)return new C(a,o.message||void 0);return new Lc(a,u,o.message)}return null}function jc(){}jc.prototype.c=null;function PI(o){return o.c||(o.c=o.b())}var Om;function gd(){}Y(gd,jc),gd.prototype.a=function(){var o=FI(this);return o?new ActiveXObject(o):new XMLHttpRequest},gd.prototype.b=function(){var o={};return FI(this)&&(o[0]=!0,o[1]=!0),o};function FI(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],u=0;u<a.length;u++){var h=a[u];try{return new ActiveXObject(h),o.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Om=new gd;function vd(){}Y(vd,jc),vd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new LI;throw Error("Unsupported browser")},vd.prototype.b=function(){return{}};function LI(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=LI.prototype,e.open=function(o,a,u){if(u!=null&&!u)throw Error("Only async requests are supported.");this.a.open(o,a)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Nm(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Nm(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Nm(this,1)};function Nm(o,a){o.readyState=a,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Pm(o,a,u){this.reset(o,a,u,void 0,void 0)}Pm.prototype.a=null;var zO=0;Pm.prototype.reset=function(o,a,u,h,p){typeof p=="number"||zO++,h||ti(),delete this.a};function Fm(o){this.f=o,this.b=this.c=this.a=null}function Vc(o,a){this.name=o,this.value=a}Vc.prototype.toString=function(){return this.name};var jI=new Vc("SEVERE",1e3),Lm=new Vc("WARNING",900),qO=new Vc("CONFIG",700),HO=new Vc("FINE",500);function VI(o){return o.c?o.c:o.a?VI(o.a):(hs("Root logger has no level set."),null)}Fm.prototype.log=function(o,a,u){if(o.value>=VI(this).value)for(E(a)&&(a=a()),o=new Pm(o,String(a),this.f),u&&(o.a=u),u=this;u;)u=u.a};var jm={},bd=null;function Vm(o){bd||(bd=new Fm(""),jm[""]=bd,bd.c=qO);var a;if(!(a=jm[o])){a=new Fm(o);var u=o.lastIndexOf("."),h=o.substr(u+1);u=Vm(o.substr(0,u)),u.b||(u.b={}),u.b[h]=a,a.a=u,jm[o]=a}return a}function Gn(o,a){o&&o.log(HO,a,void 0)}function yd(o){this.f=o}Y(yd,jc),yd.prototype.a=function(){return new _d(this.f)},yd.prototype.b=function(o){return function(){return o}}({});function _d(o){tn.call(this),this.u=o,this.h=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Vm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Y(_d,tn);var Um=0;e=_d.prototype,e.open=function(o,a){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=a,this.readyState=1,Bc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(a.body=o),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Uc(this)),this.readyState=Um},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Bc(this)),this.a&&(this.readyState=3,Bc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof d.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,UI(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function UI(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var a=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});a&&(this.response=this.responseText+=a),o.done?Uc(this):Bc(this),this.readyState==3&&UI(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Uc(this))},e.sc=function(o){this.a&&(this.response=o,Uc(this))},e.Va=function(o){var a=this.i;a&&a.log(Lm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Uc(this)};function Uc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Bc(o)}e.setRequestHeader=function(o,a){this.l.append(o,a)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Lm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Lm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var a=this.b.entries(),u=a.next();!u.done;)u=u.value,o.push(u[0]+": "+u[1]),u=a.next();return o.join(`\r
`)};function Bc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function zc(o){tn.call(this),this.headers=new bs,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=BI,this.u=this.S=!1}Y(zc,tn);var BI="";zc.prototype.b=Vm("goog.net.XhrIo");var GO=/^https?$/i,WO=["POST","PUT"];function $O(o,a,u,h,p){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+a);u=u?u.toUpperCase():"GET",o.l=a,o.h="",o.P=u,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Om.a(),o.C=o.D?PI(o.D):PI(Om),o.a.onreadystatechange=V(o.Wb,o);try{Gn(o.b,Fi(o,"Opening Xhr")),o.N=!0,o.a.open(u,String(a),!0),o.N=!1}catch(b){Gn(o.b,Fi(o,"Error opening Xhr: "+b.message)),zI(o,b);return}a=h||"";var g=new bs(o.headers);p&&ZM(p,function(b,w){g.set(w,b)}),p=gM(g.Y()),h=d.FormData&&a instanceof d.FormData,!Mi(WO,u)||p||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(b,w){this.a.setRequestHeader(w,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{GI(o),0<o.g&&(o.u=KO(o.a),Gn(o.b,Fi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=V(o.Ma,o)):o.s=Jp(o.Ma,o.g,o)),Gn(o.b,Fi(o,"Sending request")),o.i=!0,o.a.send(a),o.i=!1}catch(b){Gn(o.b,Fi(o,"Send error: "+b.message)),zI(o,b)}}function KO(o){return ni&&sw(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function YO(o){return o.toLowerCase()=="content-type"}e=zc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Gn(this.b,Fi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function zI(o,a){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=a,qI(o),wd(o)}function qI(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Gn(this.b,Fi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wd(this,!0)),zc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?HI(this):this.Jc())},e.Jc=function(){HI(this)};function HI(o){if(o.c&&typeof l<"u"){if(o.C[1]&&qc(o)==4&&Id(o)==2)Gn(o.b,Fi(o,"Local request error detected and ignored"));else if(o.i&&qc(o)==4)Jp(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),qc(o)==4){Gn(o.b,Fi(o,"Request complete")),o.c=!1;try{var a=Id(o);t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var p;if(p=a===0){var g=String(o.l).match(Lw)[1]||null;if(!g&&d.self&&d.self.location){var b=d.self.location.protocol;g=b.substr(0,b.length-1)}p=!GO.test(g?g.toLowerCase():"")}h=p}if(h)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var w=2<qc(o)?o.a.statusText:""}catch(x){Gn(o.b,"Can not get status: "+x.message),w=""}o.h=w+" ["+Id(o)+"]",qI(o)}}finally{wd(o)}}}}function wd(o,a){if(o.a){GI(o);var u=o.a,h=o.C[0]?y:null;o.a=null,o.C=null,a||o.dispatchEvent("ready");try{u.onreadystatechange=h}catch(p){(o=o.b)&&o.log(jI,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function GI(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(d.clearTimeout(o.s),o.s=null)}function qc(o){return o.a?o.a.readyState:0}function Id(o){try{return 2<qc(o)?o.a.status:-1}catch{return-1}}function XO(o){try{return o.a?o.a.responseText:""}catch(a){return Gn(o.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case BI:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(jI,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Gn(this.b,"Can not get response: "+a.message),null}};function Fi(o,a){return a+" ["+o.P+" "+o.l+" "+Id(o)+"]"}function lo(o){var a=JO;this.g=[],this.u=a,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}lo.prototype.cancel=function(o){if(this.a)this.c instanceof lo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,o?a.cancel(o):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Gc(this),Ed(this),Hc(this,!1,o))}},lo.prototype.m=function(o,a){this.i=!1,Hc(this,o,a)};function Hc(o,a,u){o.a=!0,o.c=u,o.f=!a,$I(o)}function Ed(o){if(o.a){if(!o.v)throw new Cd(o);o.v=!1}}function QO(o,a){Bm(o,null,a,void 0)}function Bm(o,a,u,h){o.g.push([a,u,h]),o.a&&$I(o)}lo.prototype.then=function(o,a,u){var h,p,g=new yt(function(b,w){h=b,p=w});return Bm(this,h,function(b){b instanceof Gc?g.cancel():p(b)}),g.then(o,a,u)},lo.prototype.$goog_Thenable=!0;function WI(o){return mM(o.g,function(a){return E(a[1])})}function $I(o){if(o.h&&o.a&&WI(o)){var a=o.h,u=Sd[a];u&&(d.clearTimeout(u.a),delete Sd[a]),o.h=0}o.b&&(o.b.l--,delete o.b),a=o.c;for(var h=u=!1;o.g.length&&!o.i;){var p=o.g.shift(),g=p[0],b=p[1];if(p=p[2],g=o.f?b:g)try{var w=g.call(p||o.s,a);w!==void 0&&(o.f=o.f&&(w==a||w instanceof Error),o.c=a=w),(P0(a)||typeof d.Promise=="function"&&a instanceof d.Promise)&&(h=!0,o.i=!0)}catch(x){a=x,o.f=!0,WI(o)||(u=!0)}}o.c=a,h&&(w=V(o.m,o,!0),h=V(o.m,o,!1),a instanceof lo?(Bm(a,w,h),a.C=!0):a.then(w,h)),u&&(a=new KI(a),Sd[a.a]=a,o.h=a.a)}function Cd(){En.call(this)}Y(Cd,En),Cd.prototype.message="Deferred has already fired",Cd.prototype.name="AlreadyCalledError";function Gc(){En.call(this)}Y(Gc,En),Gc.prototype.message="Deferred was canceled",Gc.prototype.name="CanceledError";function KI(o){this.a=d.setTimeout(V(this.c,this),0),this.b=o}KI.prototype.c=function(){throw delete Sd[this.a],this.b};var Sd={};function zm(o){var a={},u=a.document||document,h=K0(o).toString(),p=Xl(document,"SCRIPT"),g={Xb:p,Ma:void 0},b=new lo(g),w=null,x=a.timeout!=null?a.timeout:5e3;return 0<x&&(w=window.setTimeout(function(){Td(p,!0);var M=new qm(eN,"Timeout reached for loading script "+h);Ed(b),Hc(b,!1,M)},x),g.Ma=w),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Td(p,a.xd||!1,w),Ed(b),Hc(b,!0,null))},p.onerror=function(){Td(p,!0,w);var M=new qm(tN,"Error while loading script "+h);Ed(b),Hc(b,!1,M)},g=a.attributes||{},dn(g,{type:"text/javascript",charset:"UTF-8"}),cw(p,g),kM(p,o),ZO(u).appendChild(p),b}function ZO(o){var a;return(a=(o||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:o.documentElement}function JO(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Td(o,!0,this.Ma)}}function Td(o,a,u){u!=null&&d.clearTimeout(u),o.onload=y,o.onerror=y,o.onreadystatechange=y,a&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var tN=0,eN=1;function qm(o,a){var u="Jsloader error (code #"+o+")";a&&(u+=": "+a),En.call(this,u),this.code=o}Y(qm,En);function xd(o){this.f=o}Y(xd,jc),xd.prototype.a=function(){return new this.f},xd.prototype.b=function(){return{}};function oi(o,a,u){if(this.c=o,o=a||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||nN,this.g=er(o.secureTokenHeaders||iN),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||rN,this.a=er(o.firebaseHeaders||oN),u&&(this.a["X-Client-Version"]=u,this.g["X-Client-Version"]=u),u=vi()=="Node",u=d.XMLHttpRequest||u&&it.INTERNAL.node&&it.INTERNAL.node.XMLHttpRequest,!u&&!ii())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ii()?this.f=new yd(self):Yw()?this.f=new xd(u):this.f=new vd,this.b=null}var Hm,si="idToken",nN=new or(3e4,6e4),iN={"Content-Type":"application/x-www-form-urlencoded"},rN=new or(3e4,6e4),oN={"Content-Type":"application/json"};function YI(o,a){a?o.a["X-Firebase-Locale"]=a:delete o.a["X-Firebase-Locale"]}function Dd(o,a){a&&(o.l=Gm("https://securetoken.googleapis.com/v1/token",a),o.h=Gm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),o.i=Gm("https://identitytoolkit.googleapis.com/v2/",a))}function Gm(o,a){return o=pn(o),a=pn(a.url),o.f=o.a+o.f,Cc(o,a.c),o.a=a.a,Sc(o,a.g),o.toString()}function XI(o,a){a?(o.a["X-Client-Version"]=a,o.g["X-Client-Version"]=a):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}oi.prototype.T=function(){return this.b};function QI(o,a,u,h,p,g,b){cO()||ii()?o=V(o.u,o):(Hm||(Hm=new yt(function(w,x){aN(w,x)})),o=V(o.s,o)),o(a,u,h,p,g,b)}oi.prototype.u=function(o,a,u,h,p,g){if(ii()&&(typeof d.fetch>"u"||typeof d.Headers>"u"||typeof d.Request>"u"))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new zc(this.f);if(g){b.g=Math.max(0,g);var w=setTimeout(function(){b.dispatchEvent("timeout")},g)}Nw(b,"complete",function(){w&&clearTimeout(w);var x=null;try{x=JSON.parse(XO(this))||null}catch{x=null}a&&a(x)}),Zp(b,"ready",function(){w&&clearTimeout(w),Tw(this)}),Zp(b,"timeout",function(){w&&clearTimeout(w),Tw(this),a&&a(null)}),$O(b,o,u,h,p)};var sN=new mi(Wl,"https://apis.google.com/js/client.js?onload=%{onload}"),ZI="__fcb"+Math.floor(1e6*Math.random()).toString();function aN(o,a){if(((window.gapi||{}).client||{}).request)o();else{d[ZI]=function(){((window.gapi||{}).client||{}).request?o():a(Error("CORS_UNSUPPORTED"))};var u=Op(sN,{onload:ZI});QO(zm(u),function(){a(Error("CORS_UNSUPPORTED"))})}}oi.prototype.s=function(o,a,u,h,p){var g=this;Hm.then(function(){window.gapi.client.setApiKey(g.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:u,body:h,headers:p,authType:"none",callback:function(w){window.gapi.auth.setToken(b),a&&a(w)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function cN(o,a){return new yt(function(u,h){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?QI(o,o.l+"?key="+encodeURIComponent(o.c),function(p){p?p.error?h(Jm(p)):p.access_token&&p.refresh_token?u(p):h(new C("internal-error")):h(new C("network-request-failed"))},"POST",Vw(a).toString(),o.g,o.m.get()):h(new C("internal-error"))})}function JI(o,a,u,h,p,g,b){var w=pn(a+u);ce(w,"key",o.c),b&&ce(w,"cb",Date.now().toString());var x=h=="GET";if(x)for(var M in p)p.hasOwnProperty(M)&&ce(w,M,p[M]);return new yt(function(ut,Pt){QI(o,w.toString(),function(At){At?At.error?Pt(Jm(At,g||{})):ut(At):Pt(new C("network-request-failed"))},h,x?void 0:zw(Zw(p)),o.a,o.v.get())})}function ho(o){if(o=o.email,typeof o!="string"||!dO.test(o))throw new C("invalid-email")}function tE(o){"email"in o&&ho(o)}function uN(o,a){return It(o,yN,{identifier:a,continueUri:sd()?Dc():"http://localhost"}).then(function(u){return u.signinMethods||[]})}function lN(o){return It(o,RN,{}).then(function(a){return a.authorizedDomains||[]})}function mn(o){if(!o[si])throw o.mfaPendingCredential?new C("multi-factor-auth-required",null,er(o)):new C("internal-error")}function Wm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new C("internal-error")}else{if(!o.sessionInfo)throw new C("missing-verification-id");if(!o.code)throw new C("missing-verification-code")}}oi.prototype.Ab=function(){return It(this,PN,{})},oi.prototype.Cb=function(o,a){return It(this,iE,{idToken:o,email:a})},oi.prototype.Db=function(o,a){return It(this,rE,{idToken:o,password:a})};var dN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=oi.prototype,e.Eb=function(o,a){var u={idToken:o},h=[];return q0(dN,function(p,g){var b=a[g];b===null?h.push(p):g in a&&(u[g]=b)}),h.length&&(u.deleteAttribute=h),It(this,iE,u)},e.wb=function(o,a){return o={requestType:"PASSWORD_RESET",email:o},dn(o,a),It(this,kN,o)},e.xb=function(o,a){return o={requestType:"EMAIL_SIGNIN",email:o},dn(o,a),It(this,xN,o)},e.vb=function(o,a){return o={requestType:"VERIFY_EMAIL",idToken:o},dn(o,a),It(this,DN,o)},e.Fb=function(o,a,u){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:a},dn(o,u),It(this,AN,o)};function hN(o,a){return It(o,NN,a)}e.gb=function(o){return It(this,zN,o)};function fN(o,a){return It(o,FN,a).then(function(u){return u.phoneSessionInfo.sessionInfo})}function eE(o){if(!o.phoneVerificationInfo)throw new C("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new C("missing-verification-code")}function pN(o,a){return It(o,LN,a).then(function(u){return u.phoneResponseInfo.sessionInfo})}function mN(o,a,u){return It(o,wN,{idToken:a,deleteProvider:u})}function $m(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new C("internal-error")}function Km(o,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(o.sessionId?a.nonce=o.sessionId:o.postBody&&(o=new eo(o.postBody),nm(o,"nonce")&&(a.nonce=o.get("nonce")))),a}function nE(o){var a=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",a=md(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",a=md(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",a=md(o)):o.errorMessage&&(a=sE(o.errorMessage)),a)throw a;mn(o)}function Ym(o,a){return a.returnIdpCredential=!0,It(o,jN,a)}function Xm(o,a){return a.returnIdpCredential=!0,It(o,UN,a)}function Qm(o,a){return a.returnIdpCredential=!0,a.autoCreate=!1,It(o,VN,a)}function Zm(o){if(!o.oobCode)throw new C("invalid-action-code")}e.ob=function(o,a){return It(this,ON,{oobCode:o,newPassword:a})},e.Sa=function(o){return It(this,vN,{oobCode:o})},e.kb=function(o){return It(this,gN,{oobCode:o})};var gN={endpoint:"setAccountInfo",A:Zm,Z:"email",B:!0},vN={endpoint:"resetPassword",A:Zm,G:function(o){var a=o.requestType;if(!a||!o.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},B:!0},bN={endpoint:"signupNewUser",A:function(o){if(ho(o),!o.password)throw new C("weak-password")},G:mn,V:!0,B:!0},yN={endpoint:"createAuthUri",B:!0},_N={endpoint:"deleteAccount",O:["idToken"]},wN={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new C("internal-error")}},IN={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ho,G:mn,V:!0,B:!0},EN={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ho,G:mn,V:!0},CN={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:eE,G:mn,B:!0,Na:!0},SN={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:eE,G:mn,B:!0,Na:!0},TN={endpoint:"getAccountInfo"},xN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new C("internal-error");ho(o)},Z:"email",B:!0},DN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new C("internal-error")},Z:"email",B:!0},AN={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},Z:"email",B:!0},kN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new C("internal-error");ho(o)},Z:"email",B:!0},RN={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},MN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new C("internal-error")}},ON={endpoint:"resetPassword",A:Zm,Z:"email",B:!0},NN={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},iE={endpoint:"setAccountInfo",O:["idToken"],A:tE,V:!0},rE={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(tE(o),!o.password)throw new C("weak-password")},G:mn,V:!0},PN={endpoint:"signupNewUser",G:mn,V:!0,B:!0},FN={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new C("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},LN={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},jN={endpoint:"verifyAssertion",A:$m,Za:Km,G:nE,V:!0,B:!0},VN={endpoint:"verifyAssertion",A:$m,Za:Km,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new C("user-not-found");if(o.errorMessage)throw sE(o.errorMessage);mn(o)},V:!0,B:!0},UN={endpoint:"verifyAssertion",A:function(o){if($m(o),!o.idToken)throw new C("internal-error")},Za:Km,G:nE,V:!0},BN={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new C("invalid-custom-token")},G:mn,V:!0,B:!0},oE={endpoint:"verifyPassword",A:function(o){if(ho(o),!o.password)throw new C("wrong-password")},G:mn,V:!0,B:!0},zN={endpoint:"verifyPhoneNumber",A:Wm,G:mn,B:!0},qN={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new C("internal-error");Wm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",md(o);mn(o)}},HN={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Wm,G:mn,B:!0},GN={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[si]^!!o.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function It(o,a,u){if(!bO(u,a.O))return Wt(new C("internal-error"));var h=!!a.Na,p=a.Vb||"POST",g;return tt(u).then(a.A).then(function(){return a.V&&(u.returnSecureToken=!0),a.B&&o.b&&typeof u.tenantId>"u"&&(u.tenantId=o.b),h?JI(o,o.i,a.endpoint,p,u,a.Ib,a.mb||!1):JI(o,o.h,a.endpoint,p,u,a.Ib,a.mb||!1)}).then(function(b){return g=b,a.Za?a.Za(u,g):g}).then(a.G).then(function(){if(!a.Z)return g;if(!(a.Z in g))throw new C("internal-error");return g[a.Z]})}function sE(o){return Jm({error:{errors:[{message:o}],code:400,message:o}})}function Jm(o,a){var u=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(u=h[u]?new C(h[u]):null)return u;u=o.error&&o.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},dn(h,a||{}),a=(a=u.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var p in h)if(u.indexOf(p)===0)return new C(h[p],a);return!a&&o&&(a=kc(o)),new C("internal-error",a)}function WN(o){this.b=o,this.a=null,this.sb=$N(this)}function $N(o){return JN().then(function(){return new yt(function(a,u){$t("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:$t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(g),a()}o.a=h,o.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){u(Error("Network Error"))},ZN.get());h.ping(p).then(p,function(){u(Error("Network Error"))})})})})}function KN(o,a){return o.sb.then(function(){return new yt(function(u){o.a.send(a.type,a,u,$t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function YN(o,a){o.sb.then(function(){o.a.register("authEvent",a,$t("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var XN=new mi(Wl,"https://apis.google.com/js/api.js?onload=%{onload}"),QN=new or(3e4,6e4),ZN=new or(5e3,15e3),Ad=null;function JN(){return Ad||(Ad=new yt(function(o,a){function u(){tI(),$t("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){tI(),a(Error("Network Error"))},timeout:QN.get()})}if($t("gapi.iframes.Iframe"))o();else if($t("gapi.load"))u();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();d[h]=function(){$t("gapi.load")?u():a(Error("Network Error"))},h=Op(XN,{onload:h}),tt(zm(h)).o(function(){a(Error("Network Error"))})}}).o(function(o){throw Ad=null,o}))}function aE(o,a,u,h){this.l=o,this.h=a,this.i=u,this.g=h,this.f=null,this.g?(o=pn(this.g.url),o=rd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=rd("https",this.l,null,"/__/auth/iframe"),this.a=o,ce(this.a,"apiKey",this.h),ce(this.a,"appName",this.i),this.b=null,this.c=[]}aE.prototype.toString=function(){return this.f?ce(this.a,"v",this.f):gi(this.a.b,"v"),this.b?ce(this.a,"eid",this.b):gi(this.a.b,"eid"),this.c.length?ce(this.a,"fw",this.c.join(",")):gi(this.a.b,"fw"),this.a.toString()};function tg(o,a,u,h,p,g){this.u=o,this.s=a,this.c=u,this.m=h,this.v=g,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}tg.prototype.zb=function(o){return this.h=o,this},tg.prototype.toString=function(){if(this.v){var o=pn(this.v.url);o=rd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=rd("https",this.u,null,"/__/auth/handler");if(ce(o,"apiKey",this.s),ce(o,"appName",this.c),ce(o,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var u=it.app(this.c).auth().la()}catch{u=null}a.pb=u,ce(o,"providerId",this.a.providerId),u=this.a,a=Zw(u.Jb);for(var h in a)a[h]=a[h].toString();h=u.Qc,a=er(a);for(var p=0;p<h.length;p++){var g=h[p];g in a&&delete a[g]}u.qb&&u.pb&&!a[u.qb]&&(a[u.qb]=u.pb),Xr(a)||ce(o,"customParameters",kc(a))}if(typeof this.a.Rb=="function"&&(u=this.a.Rb(),u.length&&ce(o,"scopes",u.join(","))),this.l?ce(o,"redirectUrl",this.l):gi(o.b,"redirectUrl"),this.g?ce(o,"eventId",this.g):gi(o.b,"eventId"),this.i?ce(o,"v",this.i):gi(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!qn(o,b)&&ce(o,b,this.b[b]);return this.h?ce(o,"tid",this.h):gi(o.b,"tid"),this.f?ce(o,"eid",this.f):gi(o.b,"eid"),b=eg(this.c),b.length&&ce(o,"fw",b.join(",")),o.toString()};function eg(o){try{return it.app(o).auth().Ga()}catch{return[]}}function cE(o,a,u,h,p,g){this.s=o,this.g=a,this.b=u,this.f=g,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uE(o){var a=Dc();return lN(o).then(function(u){t:{var h=pn(a),p=h.c;h=h.a;for(var g=0;g<u.length;g++){var b=u[g],w=h,x=p;if(b.indexOf("chrome-extension://")==0?w=pn(b).a==w&&x=="chrome-extension":x!="http"&&x!="https"?w=!1:lO.test(b)?w=w==b:(b=b.split(".").join("\\."),w=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(w)),w){u=!0;break t}}u=!1}if(!u)throw new Mm(Dc())})}function lE(o){return o.m||(o.m=od().then(function(){if(!o.u){var a=o.c,u=o.i,h=eg(o.b),p=new aE(o.s,o.g,o.b,o.f);p.f=a,p.b=u,p.c=Yr(h||[]),o.u=p.toString()}o.v=new WN(o.u),tP(o)})),o.m}e=cE.prototype,e.Pb=function(o,a,u){var h=new C("popup-closed-by-user"),p=new C("web-storage-unsupported"),g=this,b=!1;return this.ma().then(function(){eP(g).then(function(w){w||(o&&no(o),a(p),b=!0)})}).o(function(){}).then(function(){if(!b)return uO(o)}).then(function(){if(!b)return vs(u).then(function(){a(h)})})},e.Yb=function(){var o=Pe();return!Ac(o)&&!Jw(o)},e.Ub=function(){return!1},e.Nb=function(o,a,u,h,p,g,b,w){if(!o)return Wt(new C("popup-blocked"));if(b&&!Ac())return this.ma().o(function(M){no(o),p(M)}),h(),tt();this.a||(this.a=uE(dE(this)));var x=this;return this.a.then(function(){var M=x.ma().o(function(ut){throw no(o),p(ut),ut});return h(),M}).then(function(){if(km(u),!b){var M=Wc(x.s,x.g,x.b,a,u,null,g,x.c,void 0,x.i,w,x.f);Gw(M,o)}}).o(function(M){throw M.code=="auth/network-request-failed"&&(x.a=null),M})};function dE(o){return o.l||(o.C=o.c?ws(o.c,eg(o.b)):null,o.l=new oi(o.g,bc(o.i),o.C),o.f&&Dd(o.l,o.f)),o.l}e.Ob=function(o,a,u,h){this.a||(this.a=uE(dE(this)));var p=this;return this.a.then(function(){km(a);var g=Wc(p.s,p.g,p.b,o,a,Dc(),u,p.c,void 0,p.i,h,p.f);Gw(g)}).o(function(g){throw g.code=="auth/network-request-failed"&&(p.a=null),g})},e.ma=function(){var o=this;return lE(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new C("network-request-failed")})},e.ac=function(){return!0};function Wc(o,a,u,h,p,g,b,w,x,M,ut,Pt){return o=new tg(o,a,u,h,p,Pt),o.l=g,o.g=b,o.i=w,o.b=er(x||null),o.f=M,o.zb(ut).toString()}function tP(o){if(!o.v)throw Error("IfcHandler must be initialized!");YN(o.v,function(a){var u={};if(a&&a.authEvent){var h=!1;for(a=NI(a.authEvent),u=0;u<o.h.length;u++)h=o.h[u](a)||h;return u={},u.status=h?"ACK":"ERROR",tt(u)}return u.status="ERROR",tt(u)})}function eP(o){var a={type:"webStorageSupport"};return lE(o).then(function(){return KN(o.v,a)}).then(function(u){if(u&&u.length&&typeof u[0].webStorageSupport<"u")return u[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){ei(this.h,function(a){return a==o})};function hE(o){if(this.a=o||it.INTERNAL.reactNative&&it.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=hE.prototype,e.get=function(o){return tt(this.a.getItem(o)).then(function(a){return a&&Es(a)})},e.set=function(o,a){return tt(this.a.setItem(o,kc(a)))},e.U=function(o){return tt(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function fE(o){this.b=o,this.a={},this.f=V(this.c,this)}var pE=[];function nP(){var o=ii()?self:null;if(Jt(pE,function(u){u.b==o&&(a=u)}),!a){var a=new fE(o);pE.push(a)}return a}fE.prototype.c=function(o){var a=o.data.eventType,u=o.data.eventId,h=this.a[a];if(h&&0<h.length){o.ports[0].postMessage({status:"ack",eventId:u,eventType:a,response:null});var p=[];Jt(h,function(g){p.push(tt().then(function(){return g(o.origin,o.data.data)}))}),gw(p).then(function(g){var b=[];Jt(g,function(w){b.push({fulfilled:w.Qb,value:w.value,reason:w.reason?w.reason.message:void 0})}),Jt(b,function(w){for(var x in w)typeof w[x]>"u"&&delete w[x]}),o.ports[0].postMessage({status:"done",eventId:u,eventType:a,response:b})})}};function mE(o,a,u){Xr(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[a]>"u"&&(o.a[a]=[]),o.a[a].push(u)}function gE(o){this.a=o}gE.prototype.postMessage=function(o,a){this.a.postMessage(o,a)};function vE(o){this.c=o,this.b=!1,this.a=[]}function bE(o,a,u,h){var p,g=u||{},b,w,x,M=null;if(o.b)return Wt(Error("connection_unavailable"));var ut=h?800:50,Pt=typeof MessageChannel<"u"?new MessageChannel:null;return new yt(function(At,De){Pt?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Pt.port1.start(),w=setTimeout(function(){De(Error("unsupported_event"))},ut),b=function(Li){Li.data.eventId===p&&(Li.data.status==="ack"?(clearTimeout(w),x=setTimeout(function(){De(Error("timeout"))},3e3)):Li.data.status==="done"?(clearTimeout(x),typeof Li.data.response<"u"?At(Li.data.response):De(Error("unknown_error"))):(clearTimeout(w),clearTimeout(x),De(Error("invalid_response"))))},M={messageChannel:Pt,onMessage:b},o.a.push(M),Pt.port1.addEventListener("message",b),o.c.postMessage({eventType:a,eventId:p,data:g},[Pt.port2])):De(Error("connection_unavailable"))}).then(function(At){return ng(o,M),At}).o(function(At){throw ng(o,M),At})}function ng(o,a){if(a){var u=a.messageChannel,h=a.onMessage;u&&(u.port1.removeEventListener("message",h),u.port1.close()),ei(o.a,function(p){return p==a})}}vE.prototype.close=function(){for(;0<this.a.length;)ng(this,this.a[0]);this.b=!0};function yE(){if(!og())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=d.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;ii()&&self?(this.v=nP(),mE(this.v,"keyChanged",function(a,u){return IE(o).then(function(h){return 0<h.length&&Jt(o.a,function(p){p(h)}),{keyProcessed:Mi(h,u.key)}})}),mE(this.v,"ping",function(){return tt(["keyChanged"])})):gO().then(function(a){(o.h=a)&&(o.g=new vE(new gE(a)),bE(o.g,"ping",null,!0).then(function(u){u[0].fulfilled&&Mi(u[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var ig;function iP(o){return new yt(function(a,u){var h=o.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){a()},h.onerror=function(p){u(Error(p.target.error))}})}function _E(o){return new yt(function(a,u){var h=o.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}u(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){u(g)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?a(p):iP(o).then(function(){return _E(o)}).then(function(g){a(g)}).o(function(g){u(g)})}})}function rg(o){return o.i||(o.i=_E(o)),o.i}function kd(o,a){function u(p,g){rg(o).then(a).then(p).o(function(b){if(3<++h)g(b);else return rg(o).then(function(w){return w.close(),o.i=void 0,u(p,g)}).o(function(w){g(w)})})}var h=0;return new yt(u)}function og(){try{return!!d.indexedDB}catch{return!1}}function $c(o){return o.objectStore("firebaseLocalStorage")}function Kc(o,a){return o.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function xs(o){return new yt(function(a,u){o.onsuccess=function(h){h&&h.target?a(h.target.result):a()},o.onerror=function(h){u(h.target.error)}})}e=yE.prototype,e.set=function(o,a){var u=this,h=!1;return kd(this,function(p){return p=$c(Kc(p,!0)),xs(p.get(o))}).then(function(p){return kd(u,function(g){if(g=$c(Kc(g,!0)),p)return p.value=a,xs(g.put(p));u.b++,h=!0;var b={};return b.fbase_key=o,b.value=a,xs(g.add(b))})}).then(function(){return u.c[o]=a,wE(u,o)}).oa(function(){h&&u.b--})};function wE(o,a){return o.g&&o.h&&mO()===o.h?bE(o.g,"keyChanged",{key:a},o.s).then(function(){}).o(function(){}):tt()}e.get=function(o){return kd(this,function(a){return xs($c(Kc(a,!1)).get(o))}).then(function(a){return a&&a.value})},e.U=function(o){var a=this,u=!1;return kd(this,function(h){return u=!0,a.b++,xs($c(Kc(h,!0)).delete(o))}).then(function(){return delete a.c[o],wE(a,o)}).oa(function(){u&&a.b--})};function IE(o){return rg(o).then(function(a){var u=$c(Kc(a,!1));return u.getAll?xs(u.getAll()):new yt(function(h,p){var g=[],b=u.openCursor();b.onsuccess=function(w){(w=w.target.result)?(g.push(w.value),w.continue()):h(g)},b.onerror=function(w){p(w.target.error)}})}).then(function(a){var u={},h=[];if(o.b==0){for(h=0;h<a.length;h++)u[a[h].fbase_key]=a[h].value;h=Ww(o.c,u),o.c=u}return h})}e.ca=function(o){this.a.length==0&&rP(this),this.a.push(o)},e.ia=function(o){ei(this.a,function(a){return a==o}),this.a.length==0&&EE(this)};function rP(o){function a(){o.f=setTimeout(function(){o.l=IE(o).then(function(u){0<u.length&&Jt(o.a,function(h){h(u)})}).then(function(){a()}).o(function(u){u.message!="STOP_EVENT"&&a()})},800)}EE(o),a()}function EE(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function CE(o){var a=this,u=null;this.a=[],this.type="indexedDB",this.c=o,this.b=tt().then(function(){if(og()){var h=ro(),p="__sak"+h;return ig||(ig=new yE),u=ig,u.set(p,h).then(function(){return u.get(p)}).then(function(g){if(g!==h)throw Error("indexedDB not supported!");return u.U(p)}).then(function(){return u}).o(function(){return a.c})}return a.c}).then(function(h){return a.type=h.type,h.ca(function(p){Jt(a.a,function(g){g(p)})}),h})}e=CE.prototype,e.get=function(o){return this.b.then(function(a){return a.get(o)})},e.set=function(o,a){return this.b.then(function(u){return u.set(o,a)})},e.U=function(o){return this.b.then(function(a){return a.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){ei(this.a,function(a){return a==o})};function Yc(){this.a={},this.type="inMemory"}e=Yc.prototype,e.get=function(o){return tt(this.a[o])},e.set=function(o,a){return this.a[o]=a,tt()},e.U=function(o){return delete this.a[o],tt()},e.ca=function(){},e.ia=function(){};function Rd(){if(!oP())throw vi()=="Node"?new C("internal-error","The LocalStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=SE()||it.INTERNAL.node.localStorage,this.type="localStorage"}function SE(){try{var o=d.localStorage,a=ro();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function oP(){var o=vi()=="Node";if(o=SE()||o&&it.INTERNAL.node&&it.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Rd.prototype,e.get=function(o){var a=this;return tt().then(function(){var u=a.a.getItem(o);return Es(u)})},e.set=function(o,a){var u=this;return tt().then(function(){var h=kc(a);h===null?u.U(o):u.a.setItem(o,h)})},e.U=function(o){var a=this;return tt().then(function(){a.a.removeItem(o)})},e.ca=function(o){d.window&&zn(d.window,"storage",o)},e.ia=function(o){d.window&&Cn(d.window,"storage",o)};function sg(){this.type="nullStorage"}e=sg.prototype,e.get=function(){return tt(null)},e.set=function(){return tt()},e.U=function(){return tt()},e.ca=function(){},e.ia=function(){};function ag(){if(!sP())throw vi()=="Node"?new C("internal-error","The SessionStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=TE()||it.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function TE(){try{var o=d.sessionStorage,a=ro();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function sP(){var o=vi()=="Node";if(o=TE()||o&&it.INTERNAL.node&&it.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=ag.prototype,e.get=function(o){var a=this;return tt().then(function(){var u=a.a.getItem(o);return Es(u)})},e.set=function(o,a){var u=this;return tt().then(function(){var h=kc(a);h===null?u.U(o):u.a.setItem(o,h)})},e.U=function(o){var a=this;return tt().then(function(){a.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function aP(){var o={};o.Browser=cP,o.Node=uP,o.ReactNative=lP,o.Worker=dP,this.a=o[vi()]}var cg,cP={F:Rd,cb:ag},uP={F:Rd,cb:ag},lP={F:hE,cb:sg},dP={F:Rd,cb:sg},Ds={rd:"local",NONE:"none",td:"session"};function hP(o){var a=new C("invalid-persistence-type"),u=new C("unsupported-persistence-type");t:{for(h in Ds)if(Ds[h]==o){var h=!0;break t}h=!1}if(!h||typeof o!="string")throw a;switch(vi()){case"ReactNative":if(o==="session")throw u;break;case"Node":if(o!=="none")throw u;break;case"Worker":if(o==="session"||!og()&&o!=="none")throw u;break;default:if(!cm()&&o!=="none")throw u}}function xE(){var o=!!(!Jw(Pe())&&sm()),a=Ac(),u=cm();this.m=o,this.h=a,this.l=u,this.a={},cg||(cg=new aP),o=cg;try{this.g=!rm()&&eI()||!d.indexedDB?new o.a.F:new CE(ii()?new Yc:new o.a.F)}catch{this.g=new Yc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Yc}this.v=new Yc,this.f=V(this.Zb,this),this.b={}}var ug;function Xc(){return ug||(ug=new xE),ug}function fo(o,a){switch(a){case"session":return o.i;case"none":return o.v;default:return o.g}}function As(o,a){return"firebase:"+o.name+(a?":"+a:"")}function fP(o,a,u){var h=As(a,u),p=fo(o,a.F);return o.get(a,u).then(function(g){var b=null;try{b=Es(d.localStorage.getItem(h))}catch{}if(b&&!g)return d.localStorage.removeItem(h),o.set(a,b,u);b&&g&&p.type!="localStorage"&&d.localStorage.removeItem(h)})}e=xE.prototype,e.get=function(o,a){return fo(this,o.F).get(As(o,a))};function ks(o,a,u){return u=As(a,u),a.F=="local"&&(o.b[u]=null),fo(o,a.F).U(u)}e.set=function(o,a,u){var h=As(o,u),p=this,g=fo(this,o.F);return g.set(h,a).then(function(){return g.get(h)}).then(function(b){o.F=="local"&&(p.b[h]=b)})},e.addListener=function(o,a,u){o=As(o,a),this.l&&(this.b[o]=d.localStorage.getItem(o)),Xr(this.a)&&(fo(this,"local").ca(this.f),this.h||(rm()||!eI())&&d.indexedDB||!this.l||pP(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(u)},e.removeListener=function(o,a,u){o=As(o,a),this.a[o]&&(ei(this.a[o],function(h){return h==u}),this.a[o].length==0&&delete this.a[o]),Xr(this.a)&&(fo(this,"local").ia(this.f),lg(this))};function pP(o){lg(o),o.c=setInterval(function(){for(var a in o.a){var u=d.localStorage.getItem(a),h=o.b[a];u!=h&&(o.b[a]=u,u=new Jr({type:"storage",key:a,target:window,oldValue:h,newValue:u,a:!0}),o.Zb(u))}},1e3)}function lg(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var a=o.a.key;if(a==null)for(var u in this.a){var h=this.b[u];typeof h>"u"&&(h=null);var p=d.localStorage.getItem(u);p!==h&&(this.b[u]=p,this.nb(u))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof o.a.a<"u"?fo(this,"local").ia(this.f):lg(this),this.m){if(u=d.localStorage.getItem(a),h=o.a.newValue,h!==u)h!==null?d.localStorage.setItem(a,h):d.localStorage.removeItem(a);else if(this.b[a]===h&&typeof o.a.a>"u")return}var g=this;u=function(){(typeof o.a.a<"u"||g.b[a]!==d.localStorage.getItem(a))&&(g.b[a]=d.localStorage.getItem(a),g.nb(a))},ni&&nr&&nr==10&&d.localStorage.getItem(a)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(u,10):u()}}else Jt(o,V(this.nb,this))},e.nb=function(o){this.a[o]&&Jt(this.a[o],function(a){a()})};function mP(o){this.a=o,this.b=Xc()}var dg={name:"authEvent",F:"local"};function gP(o){return o.b.get(dg,o.a).then(function(a){return NI(a)})}function vP(){this.a=Xc()}function bP(){this.b=-1}function Md(o,a){this.b=DE,this.f=d.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=a,this.l=d.Int32Array?new Int32Array(64):Array(64),Od===void 0&&(d.Int32Array?Od=new Int32Array(RE):Od=RE),this.reset()}var Od;Y(Md,bP);for(var DE=64,yP=DE-1,AE=[],hg=0;hg<yP;hg++)AE[hg]=0;var kE=kp(128,AE);Md.prototype.reset=function(){this.g=this.c=0,this.a=d.Int32Array?new Int32Array(this.h):Yr(this.h)};function fg(o){for(var a=o.f,u=o.l,h=0,p=0;p<a.length;)u[h++]=a[p]<<24|a[p+1]<<16|a[p+2]<<8|a[p+3],p=4*h;for(a=16;64>a;a++){p=u[a-15]|0,h=u[a-2]|0;var g=(u[a-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,b=(u[a-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;u[a]=g+b|0}h=o.a[0]|0,p=o.a[1]|0;var w=o.a[2]|0,x=o.a[3]|0,M=o.a[4]|0,ut=o.a[5]|0,Pt=o.a[6]|0;for(g=o.a[7]|0,a=0;64>a;a++){var At=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&w^p&w)|0;b=M&ut^~M&Pt,g=g+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))|0,b=b+(Od[a]|0)|0,b=g+(b+(u[a]|0)|0)|0,g=Pt,Pt=ut,ut=M,M=x+b|0,x=w,w=p,p=h,h=b+At|0}o.a[0]=o.a[0]+h|0,o.a[1]=o.a[1]+p|0,o.a[2]=o.a[2]+w|0,o.a[3]=o.a[3]+x|0,o.a[4]=o.a[4]+M|0,o.a[5]=o.a[5]+ut|0,o.a[6]=o.a[6]+Pt|0,o.a[7]=o.a[7]+g|0}function pg(o,a,u){u===void 0&&(u=a.length);var h=0,p=o.c;if(typeof a=="string")for(;h<u;)o.f[p++]=a.charCodeAt(h++),p==o.b&&(fg(o),p=0);else if(I(a))for(;h<u;){var g=a[h++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");o.f[p++]=g,p==o.b&&(fg(o),p=0)}else throw Error("message must be string or array");o.c=p,o.g+=u}var RE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ME(){Md.call(this,8,_P)}Y(ME,Md);var _P=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function OE(o,a,u,h,p,g){this.v=o,this.i=a,this.l=u,this.m=h||null,this.u=p||null,this.s=g,this.h=a+":"+u,this.C=new vP,this.g=new mP(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nd(o){return new C("invalid-cordova-configuration",o)}e=OE.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=hO().then(function(){if(typeof $t("universalLinks.subscribe",d)!="function")throw Nd("cordova-universal-links-plugin-fix is not installed");if(typeof $t("BuildInfo.packageName",d)>"u")throw Nd("cordova-plugin-buildinfo is not installed");if(typeof $t("cordova.plugins.browsertab.openUrl",d)!="function")throw Nd("cordova-plugin-browsertab is not installed");if(typeof $t("cordova.InAppBrowser.open",d)!="function")throw Nd("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})};function wP(){for(var o=20,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}function IP(o){var a=new ME;pg(a,o),o=[];var u=8*a.g;56>a.c?pg(a,kE,56-a.c):pg(a,kE,a.b-(a.c-56));for(var h=63;56<=h;h--)a.f[h]=u&255,u/=256;for(fg(a),h=u=0;h<a.i;h++)for(var p=24;0<=p;p-=8)o[u++]=a.a[h]>>p&255;return MO(o)}e.Pb=function(o,a){return a(new C("operation-not-supported-in-this-environment")),tt()},e.Nb=function(){return Wt(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,a,u,h){if(this.c)return Wt(new C("redirect-operation-pending"));var p=this,g=d.document,b=null,w=null,x=null,M=null;return this.c=tt().then(function(){return km(a),PE(p)}).then(function(){return EP(p,o,a,u,h)}).then(function(){return new yt(function(ut,Pt){w=function(){var At=$t("cordova.plugins.browsertab.close",d);return ut(),typeof At=="function"&&At(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(w),x=function(){b||(b=vs(2e3).then(function(){Pt(new C("redirect-cancelled-by-user"))}))},M=function(){um()&&x()},g.addEventListener("resume",x,!1),Pe().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",M,!1)}).o(function(ut){return mg(p).then(function(){throw ut})})}).oa(function(){x&&g.removeEventListener("resume",x,!1),M&&g.removeEventListener("visibilitychange",M,!1),b&&b.cancel(),w&&p.Ta(w),p.c=null})};function EP(o,a,u,h,p){var g=wP(),b=new ri(a,h,null,g,new C("no-auth-event"),null,p),w=$t("BuildInfo.packageName",d);if(typeof w!="string")throw new C("invalid-cordova-configuration");var x=$t("BuildInfo.displayName",d),M={};if(Pe().toLowerCase().match(/iphone|ipad|ipod/))M.ibi=w;else if(Pe().toLowerCase().match(/android/))M.apn=w;else return Wt(new C("operation-not-supported-in-this-environment"));x&&(M.appDisplayName=x),g=IP(g),M.sessionId=g;var ut=Wc(o.v,o.i,o.l,a,u,null,h,o.m,M,o.u,p,o.s);return o.ma().then(function(){var Pt=o.h;return o.C.a.set(dg,b.w(),Pt)}).then(function(){var Pt=$t("cordova.plugins.browsertab.isAvailable",d);if(typeof Pt!="function")throw new C("invalid-cordova-configuration");var At=null;Pt(function(De){if(De){if(At=$t("cordova.plugins.browsertab.openUrl",d),typeof At!="function")throw new C("invalid-cordova-configuration");At(ut)}else{if(At=$t("cordova.InAppBrowser.open",d),typeof At!="function")throw new C("invalid-cordova-configuration");De=Pe(),o.a=At(ut,De.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||De.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function NE(o,a){for(var u=0;u<o.b.length;u++)try{o.b[u](a)}catch{}}function PE(o){return o.f||(o.f=o.ma().then(function(){return new yt(function(a){function u(h){return a(h),o.Ta(u),!1}o.Ea(u),CP(o)})})),o.f}function mg(o){var a=null;return gP(o.g).then(function(u){return a=u,u=o.g,ks(u.b,dg,u.a)}).then(function(){return a})}function CP(o){function a(b){h=!0,p&&p.cancel(),mg(o).then(function(w){var x=u;if(w&&b&&b.url){var M=null;x=TI(b.url),x.indexOf("/__/auth/callback")!=-1&&(M=pn(x),M=Es(qn(M,"firebaseError")||null),M=(M=typeof M=="object"?N0(M):null)?new ri(w.c,w.b,null,null,M,null,w.T()):new ri(w.c,w.b,x,w.f,null,null,w.T())),x=M||u}NE(o,x)})}var u=new ri("unknown",null,null,null,new C("no-auth-event")),h=!1,p=vs(500).then(function(){return mg(o).then(function(){h||NE(o,u)})}),g=d.handleOpenURL;d.handleOpenURL=function(b){if(b.toLowerCase().indexOf($t("BuildInfo.packageName",d).toLowerCase()+"://")==0&&a({url:b}),typeof g=="function")try{g(b)}catch(w){console.error(w)}},Rm||(Rm=new UO),BO(a)}e.Ea=function(o){this.b.push(o),PE(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new ri("unknown",null,null,null,new C("no-auth-event")),o(a))})},e.Ta=function(o){ei(this.b,function(a){return a==o})};function SP(o){this.a=o,this.b=Xc()}var gg={name:"pendingRedirect",F:"session"};function TP(o){return o.b.set(gg,"pending",o.a)}function vg(o){return ks(o.b,gg,o.a)}function xP(o){return o.b.get(gg,o.a).then(function(a){return a=="pending"})}function Pd(o,a,u,h){this.i={},this.u=0,this.D=o,this.v=a,this.m=u,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new Ld,this.C=new GE,this.g=new SP(zE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=FE(this.D,this.v,this.m,yc,this.J)}function FE(o,a,u,h,p){var g=it.SDK_VERSION||null;return om()?new OE(o,a,u,g,h,p):new cE(o,a,u,g,h,p)}Pd.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=FE(this.D,this.v,this.m,null,this.J),this.i={}};function LE(o){o.f||(o.f=!0,o.a.Ea(o.l));var a=o.a;return o.a.ma().o(function(u){throw o.a==a&&o.reset(),u})}function jE(o){o.a.Yb()&&LE(o).o(function(a){var u=new ri("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));yg(a)&&o.s(u)}),o.a.Ub()||qE(o.b)}function Fd(o,a){Mi(o.h,a)||o.h.push(a),o.f||xP(o.g).then(function(u){u?vg(o.g).then(function(){LE(o).o(function(h){var p=new ri("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));yg(h)&&o.s(p)})}):jE(o)}).o(function(){jE(o)})}function bg(o,a){ei(o.h,function(u){return u==a})}Pd.prototype.s=function(o){if(!o)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var a=!1,u=0;u<this.h.length;u++){var h=this.h[u];if(h.Gb(o.c,o.b)){(a=this.c[o.c])&&(a.h(o,h),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),a=!0;break}}return qE(this.b),a};var DP=new or(2e3,1e4),AP=new or(3e4,6e4);Pd.prototype.ra=function(){return this.b.ra()};function VE(o,a,u,h,p,g,b){return o.a.Nb(a,u,h,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},p,g,b)}function yg(o){return!!(o&&o.code=="auth/cordova-not-ready")}function UE(o,a,u,h,p){var g;return TP(o.g).then(function(){return o.a.Ob(a,u,h,p).o(function(b){if(yg(b))throw new C("operation-not-supported-in-this-environment");return g=b,vg(o.g).then(function(){throw g})}).then(function(){return o.a.ac()?new yt(function(){}):vg(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function BE(o,a,u,h,p){return o.a.Pb(h,function(g){a.na(u,null,g,p)},DP.get())}var _g={};function zE(o,a,u){return o=o+":"+a,u&&(o=o+":"+u.url),o}function wg(o,a,u,h){var p=zE(a,u,h);return _g[p]||(_g[p]=new Pd(o,a,u,h)),_g[p]}function Ld(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Ld.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ld.prototype.h=function(o,a){if(o){this.reset(),this.g=!0;var u=o.c,h=o.b,p=o.a&&o.a.code=="auth/web-storage-unsupported",g=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!g),u!="unknown"||p||g?o.a?(po(this,!0,null,o.a),tt()):a.Fa(u,h)?kP(this,o,a):Wt(new C("invalid-auth-event")):(po(this,!1,null,null),tt())}else Wt(new C("invalid-auth-event"))};function qE(o){o.g||(o.g=!0,po(o,!1,null,null))}function jd(o){o.g&&!o.i&&po(o,!1,null,null)}function kP(o,a,u){u=u.Fa(a.c,a.b);var h=a.g,p=a.f,g=a.i,b=a.T(),w=!!a.c.match(/Redirect$/);u(h,p,b,g).then(function(x){po(o,w,x,null)}).o(function(x){po(o,w,null,x)})}function RP(o,a){if(o.b=function(){return Wt(a)},o.c.length)for(var u=0;u<o.c.length;u++)o.c[u](a)}function HE(o,a){if(o.b=function(){return tt(a)},o.f.length)for(var u=0;u<o.f.length;u++)o.f[u](a)}function po(o,a,u,h){a?h?RP(o,h):HE(o,u):HE(o,{user:null}),o.f=[],o.c=[]}Ld.prototype.ra=function(){var o=this;return new yt(function(a,u){o.b?o.b().then(a,u):(o.f.push(a),o.c.push(u),MP(o))})};function MP(o){var a=new C("timeout");o.a&&o.a.cancel(),o.a=vs(AP.get()).then(function(){o.b||(o.g=!0,po(o,!0,null,a))})}function GE(){}GE.prototype.h=function(o,a){if(o){var u=o.c,h=o.b;o.a?(a.na(o.c,null,o.a,o.b),tt()):a.Fa(u,h)?OP(o,a):Wt(new C("invalid-auth-event"))}else Wt(new C("invalid-auth-event"))};function OP(o,a){var u=o.b,h=o.c;a.Fa(h,u)(o.g,o.f,o.T(),o.i).then(function(p){a.na(h,p,null,u)}).o(function(p){a.na(h,null,p,u)})}function WE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function Ig(o,a){this.a=a,K(this,"verificationId",o)}Ig.prototype.confirm=function(o){return o=OI(this.verificationId,o),this.a(o)};function Eg(o,a,u,h){return new Pi(o).gb(a,u).then(function(p){return new Ig(p,h)})}function NP(o){var a=bI(o);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");en(this,{token:o,expirationTime:Rc(1e3*a.exp),authTime:Rc(1e3*a.auth_time),issuedAtTime:Rc(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Cg(o,a,u){var h=a&&a[KE];if(!h)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=er(a),this.g=u,this.c=new fd(null,h),this.b=[];var p=this;Jt(a[$E]||[],function(g){(g=mm(g))&&p.b.push(g)}),K(this,"auth",this.a),K(this,"session",this.c),K(this,"hints",this.b)}var $E="mfaInfo",KE="mfaPendingCredential";Cg.prototype.Rc=function(o){var a=this;return o.tb(this.a.a,this.c).then(function(u){var h=er(a.f);return delete h[$E],delete h[KE],dn(h,u),a.g(h)})};function Sg(o,a,u,h){C.call(this,"multi-factor-auth-required",h,a),this.b=new Cg(o,a,u),K(this,"resolver",this.b)}Y(Sg,C);function YE(o,a,u){if(o&&S(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new Sg(a,o.serverResponse,u,o.message)}catch{}return null}function XE(){}XE.prototype.tb=function(o,a,u){return a.type==Pc?PP(this,o,a,u):FP(this,o,a)};function PP(o,a,u,h){return u.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),dn(p,{phoneVerificationInfo:Fc(o.a)}),It(a,CN,p)})}function FP(o,a,u){return u.Ha().then(function(h){return h={mfaPendingCredential:h},dn(h,{phoneVerificationInfo:Fc(o.a)}),It(a,SN,h)})}function Tg(o){K(this,"factorId",o.fa),this.a=o}Y(Tg,XE);function QE(o){if(Tg.call(this,o),this.a.fa!=Pi.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}Y(QE,Tg);function Rs(o,a){fn.call(this,o);for(var u in a)this[u]=a[u]}Y(Rs,fn);function xg(o,a){this.a=o,this.b=[],this.c=V(this.yc,this),zn(this.a,"userReloaded",this.c);var u=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Jt(a.multiFactor.enrolledFactors,function(h){var p=null,g={};if(h){h.uid&&(g[vm]=h.uid),h.displayName&&(g[iI]=h.displayName),h.enrollmentTime&&(g[gm]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(g[bm]=h.phoneNumber);try{p=new Mc(g)}catch{}h=p}else h=null;h&&u.push(h)}),Vd(this,u)}function LP(o){var a=[];return Jt(o.mfaInfo||[],function(u){(u=mm(u))&&a.push(u)}),a}e=xg.prototype,e.yc=function(o){Vd(this,LP(o.hd))};function Vd(o,a){o.b=a,K(o,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(o){return new fd(o,null)})},e.fc=function(o,a){var u=this,h=this.a.a;return this.Sb().then(function(p){return o.tb(h,p,a)}).then(function(p){return _i(u.a,p),u.a.reload()})},e.bd=function(o){var a=this,u=typeof o=="string"?o:o.uid,h=this.a.a;return this.a.I().then(function(p){return It(h,GN,{idToken:p,mfaEnrollmentId:u})}).then(function(p){var g=pM(a.b,function(b){return b.uid!=u});return Vd(a,g),_i(a.a,p),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Hl(this.b,function(o){return o.w()})}}};function Dg(o,a,u){if(this.h=o,this.i=a,this.g=u,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Dg.prototype.start=function(){this.a=this.c,Ag(this,!0)};function jP(o,a){return a?(o.a=o.c,o.g()):(a=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),a)}function Ag(o,a){o.stop(),o.b=vs(jP(o,a)).then(function(){return pO()}).then(function(){return o.h()}).then(function(){Ag(o,!0)}).o(function(u){o.i(u)&&Ag(o,!1)})}Dg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function kg(o){this.f=o,this.b=this.a=null,this.c=Date.now()}kg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function ZE(o,a){typeof a>"u"&&(o.b?(a=o.b,a=a.a-a.g):a=0),o.c=Date.now()+1e3*a}function JE(o,a){o.b=dd(a[si]||""),o.a=a.refreshToken,a=a.expiresIn,ZE(o,typeof a<"u"?Number(a):void 0)}function VP(o,a){o.b=a.b,o.a=a.a,o.c=a.c}function UP(o,a){return cN(o.f,a).then(function(u){return o.b=dd(u.access_token),o.a=u.refresh_token,ZE(o,u.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(u){throw u.code=="auth/user-token-expired"&&(o.a=null),u})}kg.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Wt(new C("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?UP(this,{grant_type:"refresh_token",refresh_token:this.a}):tt(null):tt({accessToken:this.b.toString(),refreshToken:this.a})};function Ud(o,a){this.a=o||null,this.b=a||null,en(this,{lastSignInTime:Rc(a||null),creationTime:Rc(o||null)})}function BP(o){return new Ud(o.a,o.b)}Ud.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function zP(o,a,u,h,p,g){en(this,{uid:o,displayName:h||null,photoURL:p||null,email:u||null,phoneNumber:g||null,providerId:a})}function Tn(o,a,u){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var h=it.SDK_VERSION?ws(it.SDK_VERSION):null;this.a=new oi(this.l,bc(yc),h),(this.u=o.emulatorConfig||null)&&Dd(this.a,this.u),this.h=new kg(this.a),Lg(this,a[si]),JE(this.h,a),K(this,"refreshToken",this.h.a),eC(this,u||{}),tn.call(this),this.P=!1,this.s&&io()&&(this.b=wg(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=qP(this),this.ba=V(this.ib,this);var p=this;this.za=null,this.Pa=function(g){p.xa(g.h)},this.qa=null,this.Ba=function(g){Rg(p,g.c)},this.$=null,this.aa=[],this.Oa=function(g){Qc(p,g.f)},this.ja=null,this.S=new xg(this,u),K(this,"multiFactor",this.S)}Y(Tn,tn),Tn.prototype.xa=function(o){this.za=o,YI(this.a,o)};function Rg(o,a){o.u=a,Dd(o.a,a),o.b&&(a=o.b,o.b=wg(o.s,o.l,o.m,o.u),o.P&&(bg(a,o),Fd(o.b,o)))}Tn.prototype.la=function(){return this.za};function Mg(o,a){o.qa&&Cn(o.qa,"languageCodeChanged",o.Pa),(o.qa=a)&&zn(a,"languageCodeChanged",o.Pa)}function Og(o,a){o.$&&Cn(o.$,"emulatorConfigChanged",o.Ba),(o.$=a)&&zn(a,"emulatorConfigChanged",o.Ba)}function Qc(o,a){o.aa=a,XI(o.a,it.SDK_VERSION?ws(it.SDK_VERSION,o.aa):null)}Tn.prototype.Ga=function(){return Yr(this.aa)};function Ng(o,a){o.ja&&Cn(o.ja,"frameworkChanged",o.Oa),(o.ja=a)&&zn(a,"frameworkChanged",o.Oa)}Tn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Pg(o){try{return it.app(o.m).auth()}catch{throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function qP(o){return new Dg(function(){return o.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=o.h.c-Date.now()-3e5;return 0<a?a:0})}function tC(o){o.J||o.D.b||(o.D.start(),Cn(o,"tokenChanged",o.ba),zn(o,"tokenChanged",o.ba))}function Fg(o){Cn(o,"tokenChanged",o.ba),o.D.stop()}function Lg(o,a){o.Aa=a,K(o,"_lat",a)}function HP(o,a){ei(o.W,function(u){return u==a})}function mo(o){for(var a=[],u=0;u<o.W.length;u++)a.push(o.W[u](o));return gw(a).then(function(){return o})}function Zc(o){o.b&&!o.P&&(o.P=!0,Fd(o.b,o))}function eC(o,a){en(o,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Ud(a.createdAt,a.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}K(Tn.prototype,"providerId","firebase");function nC(){}function jg(o){return tt().then(function(){if(o.J)throw new C("app-deleted")})}function Vg(o){return Hl(o.providerData,function(a){return a.providerId})}function Ug(o,a){a&&(iC(o,a.providerId),o.providerData.push(a))}function iC(o,a){ei(o.providerData,function(u){return u.providerId==a})}function cr(o,a,u){(a!="uid"||u)&&o.hasOwnProperty(a)&&K(o,a,u)}function Bd(o,a){o!=a&&(en(o,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?K(o,"metadata",BP(a.metadata)):K(o,"metadata",new Ud),Jt(a.providerData,function(u){Ug(o,u)}),VP(o.h,a.h),K(o,"refreshToken",o.h.a),Vd(o.S,a.S.b))}e=Tn.prototype,e.reload=function(){var o=this;return Ce(this,jg(this).then(function(){return Bg(o).then(function(){return mo(o)}).then(nC)}))};function Bg(o){return o.I().then(function(a){var u=o.isAnonymous;return GP(o,a).then(function(){return u||cr(o,"isAnonymous",!1),a})})}e.oc=function(o){return this.I(o).then(function(a){return new NP(a)})},e.I=function(o){var a=this;return Ce(this,jg(this).then(function(){return a.h.getToken(o)}).then(function(u){if(!u)throw new C("internal-error");return u.accessToken!=a.Aa&&(Lg(a,u.accessToken),a.dispatchEvent(new Rs("tokenChanged"))),cr(a,"refreshToken",u.refreshToken),u.accessToken}))};function _i(o,a){a[si]&&o.Aa!=a[si]&&(JE(o.h,a),o.dispatchEvent(new Rs("tokenChanged")),Lg(o,a[si]),cr(o,"refreshToken",o.h.a))}function GP(o,a){return It(o.a,TN,{idToken:a}).then(V(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new C("internal-error");o=o[0],eC(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var a=WP(o),u=0;u<a.length;u++)Ug(this,a[u]);cr(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Rs("userReloaded",{hd:o}))};function WP(o){return(o=o.providerUserInfo)&&o.length?Hl(o,function(a){return new zP(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(o){return lm("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var a=this,u=null;return Ce(this,o.c(this.a,this.uid).then(function(h){return _i(a,h),u=Jc(a,h,"reauthenticate"),a.i=null,a.reload()}).then(function(){return u}),!0)};function zd(o,a){return Bg(o).then(function(){if(Mi(Vg(o),a))return mo(o).then(function(){throw new C("provider-already-linked")})})}e.Cc=function(o){return lm("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var a=this,u=null;return Ce(this,zd(this,o.providerId).then(function(){return a.I()}).then(function(h){return o.b(a.a,h)}).then(function(h){return u=Jc(a,h,"link"),rC(a,h)}).then(function(){return u}))},e.Dc=function(o,a){var u=this;return Ce(this,zd(this,"phone").then(function(){return Eg(Pg(u),o,a,V(u.rb,u))}))},e.Mc=function(o,a){var u=this;return Ce(this,tt().then(function(){return Eg(Pg(u),o,a,V(u.ub,u))}),!0)};function Jc(o,a,u){var h=Am(a);return a=_I(a),bi({user:o,credential:h,additionalUserInfo:a,operationType:u})}function rC(o,a){return _i(o,a),o.reload().then(function(){return o})}e.Cb=function(o){var a=this;return Ce(this,this.I().then(function(u){return a.a.Cb(u,o)}).then(function(u){return _i(a,u),a.reload()}))},e.ed=function(o){var a=this;return Ce(this,this.I().then(function(u){return o.b(a.a,u)}).then(function(u){return _i(a,u),a.reload()}))},e.Db=function(o){var a=this;return Ce(this,this.I().then(function(u){return a.a.Db(u,o)}).then(function(u){return _i(a,u),a.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return jg(this);var a=this;return Ce(this,this.I().then(function(u){return a.a.Eb(u,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(u){return _i(a,u),cr(a,"displayName",u.displayName||null),cr(a,"photoURL",u.photoUrl||null),Jt(a.providerData,function(h){h.providerId==="password"&&(K(h,"displayName",a.displayName),K(h,"photoURL",a.photoURL))}),mo(a)}).then(nC))},e.cd=function(o){var a=this;return Ce(this,Bg(this).then(function(u){return Mi(Vg(a),o)?mN(a.a,u,[o]).then(function(h){var p={};return Jt(h.providerUserInfo||[],function(g){p[g.providerId]=!0}),Jt(Vg(a),function(g){p[g]||iC(a,g)}),p[Pi.PROVIDER_ID]||K(a,"phoneNumber",null),mo(a)}):mo(a).then(function(){throw new C("no-such-provider")})}))},e.delete=function(){var o=this;return Ce(this,this.I().then(function(a){return It(o.a,_N,{idToken:a})}).then(function(){o.dispatchEvent(new Rs("userDeleted"))})).then(function(){for(var a=0;a<o.N.length;a++)o.N[a].cancel("app-deleted");Mg(o,null),Og(o,null),Ng(o,null),o.N=[],o.J=!0,Fg(o),K(o,"refreshToken",null),o.b&&bg(o.b,o)})},e.Gb=function(o,a){return!!(o=="linkViaPopup"&&(this.g||null)==a&&this.f||o=="reauthViaPopup"&&(this.g||null)==a&&this.f||o=="linkViaRedirect"&&(this.ga||null)==a||o=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(o,a,u,h){o!="linkViaPopup"&&o!="reauthViaPopup"||h!=(this.g||null)||(u&&this.C?this.C(u):a&&!u&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="linkViaPopup"&&a==(this.g||null)?V(this.Lb,this):o=="reauthViaPopup"&&a==(this.g||null)?V(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==a?V(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==a?V(this.Mb,this):null},e.Ec=function(o){var a=this;return oC(this,"linkViaPopup",o,function(){return zd(a,o.providerId).then(function(){return mo(a)})},!1)},e.Nc=function(o){return oC(this,"reauthViaPopup",o,function(){return tt()},!0)};function oC(o,a,u,h,p){if(!io())return Wt(new C("operation-not-supported-in-this-environment"));if(o.i&&!p)return Wt(o.i);var g=Em(u.providerId),b=ro(o.uid+":::"),w=null;(!Ac()||sm())&&o.s&&u.isOAuthProvider&&(w=Wc(o.s,o.l,o.m,a,u,null,b,it.SDK_VERSION||null,null,null,o.tenantId,o.u));var x=Kw(w,g&&g.va,g&&g.ua);return h=h().then(function(){if(aC(o),!p)return o.I().then(function(){})}).then(function(){return VE(o.b,x,a,u,b,!!w,o.tenantId)}).then(function(){return new yt(function(M,ut){o.na(a,null,new C("cancelled-popup-request"),o.g||null),o.f=M,o.C=ut,o.g=b,o.c=BE(o.b,o,a,x,b)})}).then(function(M){return x&&no(x),M?bi(M):null}).o(function(M){throw x&&no(x),M}),Ce(o,h,p)}e.Fc=function(o){var a=this;return sC(this,"linkViaRedirect",o,function(){return zd(a,o.providerId)},!1)},e.Oc=function(o){return sC(this,"reauthViaRedirect",o,function(){return tt()},!0)};function sC(o,a,u,h,p){if(!io())return Wt(new C("operation-not-supported-in-this-environment"));if(o.i&&!p)return Wt(o.i);var g=null,b=ro(o.uid+":::");return h=h().then(function(){if(aC(o),!p)return o.I().then(function(){})}).then(function(){return o.ga=b,mo(o)}).then(function(w){return o.ha&&(w=o.ha,w=w.b.set(zg,o.w(),w.a)),w}).then(function(){return UE(o.b,a,u,b,o.tenantId)}).o(function(w){if(g=w,o.ha)return uC(o.ha);throw g}).then(function(){if(g)throw g}),Ce(o,h,p)}function aC(o){if(!o.b||!o.P)throw o.b&&!o.P?new C("internal-error"):new C("auth-domain-config-required")}e.Lb=function(o,a,u,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return u=this.I().then(function(b){return Xm(p.a,{requestUri:o,postBody:h,sessionId:a,idToken:b})}).then(function(b){return g=Jc(p,b,"link"),rC(p,b)}).then(function(){return g}),Ce(this,u)},e.Mb=function(o,a,u,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var g=null,b=tt().then(function(){return Ss(Qm(p.a,{requestUri:o,sessionId:a,postBody:h,tenantId:u}),p.uid)}).then(function(w){return g=Jc(p,w,"reauthenticate"),_i(p,w),p.i=null,p.reload()}).then(function(){return g});return Ce(this,b,!0)},e.vb=function(o){var a=this,u=null;return Ce(this,this.I().then(function(h){return u=h,typeof o>"u"||Xr(o)?{}:ud(new cd(o))}).then(function(h){return a.a.vb(u,h)}).then(function(h){if(a.email!=h)return a.reload()}).then(function(){}))},e.Fb=function(o,a){var u=this,h=null;return Ce(this,this.I().then(function(p){return h=p,typeof a>"u"||Xr(a)?{}:ud(new cd(a))}).then(function(p){return u.a.Fb(h,o,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))};function Ce(o,a,u){var h=$P(o,a,u);return o.N.push(h),h.oa(function(){Gl(o.N,h)}),h.o(function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=YE(p.w(),Pg(o),V(o.jc,o))),g||p})}e.jc=function(o){var a=null,u=this;return o=Ss(tt(o),u.uid).then(function(h){return a=Jc(u,h,"reauthenticate"),_i(u,h),u.i=null,u.reload()}).then(function(){return a}),Ce(this,o,!0)};function $P(o,a,u){return o.i&&!u?(a.cancel(),Wt(o.i)):a.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new Rs("userInvalidated")),o.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&dn(o,this.metadata.w()),Jt(this.providerData,function(a){o.providerData.push(vO(a))}),dn(o,this.S.w()),o};function cC(o){if(!o.apiKey)return null;var a={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},u={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){u[si]=o.stsTokenManager.accessToken,u.refreshToken=o.stsTokenManager.refreshToken||null;var h=o.stsTokenManager.expirationTime;h&&(u.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Tn(a,u,o);return o.providerData&&Jt(o.providerData,function(g){g&&Ug(p,bi(g))}),o.redirectEventId&&(p.ga=o.redirectEventId),p}function KP(o,a,u,h){var p=new Tn(o,a);return u&&(p.ha=u),h&&Qc(p,h),p.reload().then(function(){return p})}function YP(o,a,u,h){var p=o.h,g={};return g[si]=p.b&&p.b.toString(),g.refreshToken=p.a,a=new Tn(a||{apiKey:o.l,authDomain:o.s,appName:o.m},g),u&&(a.ha=u),h&&Qc(a,h),Bd(a,o),a}function XP(o){this.a=o,this.b=Xc()}var zg={name:"redirectUser",F:"session"};function uC(o){return ks(o.b,zg,o.a)}function QP(o,a){return o.b.get(zg,o.a).then(function(u){return u&&a&&(u.authDomain=a),cC(u||{})})}function qg(o){this.a=o,this.b=Xc(),this.c=null,this.f=ZP(this),this.b.addListener(wi("local"),this.a,V(this.g,this))}qg.prototype.g=function(){var o=this,a=wi("local");Ms(this,function(){return tt().then(function(){return o.c&&o.c.F!="local"?o.b.get(a,o.a):null}).then(function(u){if(u)return Hg(o,"local").then(function(){o.c=a})})})};function Hg(o,a){var u=[],h;for(h in Ds)Ds[h]!==a&&u.push(ks(o.b,wi(Ds[h]),o.a));return u.push(ks(o.b,Gg,o.a)),BM(u)}function ZP(o){var a=wi("local"),u=wi("session"),h=wi("none");return fP(o.b,a,o.a).then(function(){return o.b.get(u,o.a)}).then(function(p){return p?u:o.b.get(h,o.a).then(function(g){return g?h:o.b.get(a,o.a).then(function(b){return b?a:o.b.get(Gg,o.a).then(function(w){return w?wi(w):a})})})}).then(function(p){return o.c=p,Hg(o,p.F)}).o(function(){o.c||(o.c=a)})}var Gg={name:"persistence",F:"session"};function wi(o){return{name:"authUser",F:o}}qg.prototype.yb=function(o){var a=null,u=this;return hP(o),Ms(this,function(){return o!=u.c.F?u.b.get(u.c,u.a).then(function(h){return a=h,Hg(u,o)}).then(function(){if(u.c=wi(o),a)return u.b.set(u.c,a,u.a)}):tt()})};function JP(o){return Ms(o,function(){return o.b.set(Gg,o.c.F,o.a)})}function lC(o,a){return Ms(o,function(){return o.b.set(o.c,a.w(),o.a)})}function dC(o){return Ms(o,function(){return ks(o.b,o.c,o.a)})}function hC(o,a,u){return Ms(o,function(){return o.b.get(o.c,o.a).then(function(h){return h&&a&&(h.authDomain=a),h&&u&&(h.emulatorConfig=u),cC(h||{})})})}function Ms(o,a){return o.f=o.f.then(a,a),o.f}function ai(o){if(this.l=!1,K(this,"settings",new WE),K(this,"app",o),Vt(this).options&&Vt(this).options.apiKey)o=it.SDK_VERSION?ws(it.SDK_VERSION):null,this.a=new oi(Vt(this).options&&Vt(this).options.apiKey,bc(yc),o);else throw new C("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=it.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=it.INTERNAL.createSubscribe(V(this.Ac,this)),Os(this,null),this.i=new qg(Vt(this).options.apiKey+":"+Vt(this).name),this.D=new XP(Vt(this).options.apiKey+":"+Vt(this).name),this.$=ne(this,oF(this)),this.h=ne(this,sF(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,nF(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,tn.call(this),eF(this),this.J=[],this.R=null}Y(ai,tn);function fC(o){fn.call(this,"languageCodeChanged"),this.h=o}Y(fC,fn);function pC(o){fn.call(this,"emulatorConfigChanged"),this.c=o}Y(pC,fn);function mC(o){fn.call(this,"frameworkChanged"),this.f=o}Y(mC,fn),e=ai.prototype,e.yb=function(o){return o=this.i.yb(o),ne(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,YI(this.a,this.aa),this.dispatchEvent(new fC(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=d.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,a){if(!this.R){if(!/^https?:\/\//.test(o))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,tF(a),this.R={url:o,ec:a},this.settings.jb=!0,Dd(this.a,this.R),this.dispatchEvent(new pC(this.R))}};function tF(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),d.document&&!o&&od().then(function(){var a=d.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),d.document.body.appendChild(a)})}e.Gc=function(o){this.J.push(o),XI(this.a,it.SDK_VERSION?ws(it.SDK_VERSION,this.J):null),this.dispatchEvent(new mC(this.J))},e.Ga=function(){return Yr(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function eF(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var a=pn(this.R.url);a=bi({protocol:a.c,host:a.a,port:a.g,options:bi({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:Vt(this).options.apiKey,authDomain:Vt(this).options.authDomain,appName:Vt(this).name,currentUser:mt(this)&&mt(this).w()}};function Wg(o){return o.Oa||Wt(new C("auth-domain-config-required"))}function nF(o){var a=Vt(o).options.authDomain,u=Vt(o).options.apiKey;a&&io()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=wg(a,u,Vt(o).name,o.R),Fd(o.b,o),mt(o)&&Zc(mt(o)),o.m){Zc(o.m);var h=o.m;h.xa(o.la()),Mg(h,o),h=o.m,Qc(h,o.J),Ng(h,o),h=o.m,Rg(h,o.R),Og(h,o),o.m=null}return o.b}}))}e.Gb=function(o,a){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(o,a,u,h){o=="signInViaPopup"&&this.g==h&&(u&&this.C?this.C(u):a&&!u&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==a&&this.f?V(this.ic,this):null},e.ic=function(o,a,u,h){var p=this,g={requestUri:o,postBody:h,sessionId:a,tenantId:u};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return go(p,Ym(p.a,g))})},e.Xc=function(o){if(!io())return Wt(new C("operation-not-supported-in-this-environment"));var a=this,u=Em(o.providerId),h=ro(),p=null;(!Ac()||sm())&&Vt(this).options.authDomain&&o.isOAuthProvider&&(p=Wc(Vt(this).options.authDomain,Vt(this).options.apiKey,Vt(this).name,"signInViaPopup",o,null,h,it.SDK_VERSION||null,null,null,this.T(),this.R));var g=Kw(p,u&&u.va,u&&u.ua);return u=Wg(this).then(function(b){return VE(b,g,"signInViaPopup",o,h,!!p,a.T())}).then(function(){return new yt(function(b,w){a.na("signInViaPopup",null,new C("cancelled-popup-request"),a.g),a.f=b,a.C=w,a.g=h,a.c=BE(a.b,a,"signInViaPopup",g,h)})}).then(function(b){return g&&no(g),b?bi(b):null}).o(function(b){throw g&&no(g),b}),ne(this,u)},e.Yc=function(o){if(!io())return Wt(new C("operation-not-supported-in-this-environment"));var a=this,u=Wg(this).then(function(){return JP(a.i)}).then(function(){return UE(a.b,"signInViaRedirect",o,void 0,a.T())});return ne(this,u)};function gC(o){if(!io())return Wt(new C("operation-not-supported-in-this-environment"));var a=Wg(o).then(function(){return o.b.ra()}).then(function(u){return u?bi(u):null});return ne(o,a)}e.ra=function(){var o=this;return gC(this).then(function(a){return o.b&&jd(o.b.b),a}).o(function(a){throw o.b&&jd(o.b.b),a})},e.dd=function(o){if(!o)return Wt(new C("null-user"));if(this.S!=o.tenantId)return Wt(new C("tenant-id-mismatch"));var a=this,u={};u.apiKey=Vt(this).options.apiKey,u.authDomain=Vt(this).options.authDomain,u.appName=Vt(this).name;var h=YP(o,u,a.D,a.Ga());return ne(this,this.h.then(function(){if(Vt(a).options.apiKey!=o.l)return h.reload()}).then(function(){return mt(a)&&o.uid==mt(a).uid?(Bd(mt(a),o),a.da(o)):(Os(a,h),Zc(h),a.da(h))}).then(function(){tu(a)}))};function iF(o,a){var u={};return u.apiKey=Vt(o).options.apiKey,u.authDomain=Vt(o).options.authDomain,u.appName=Vt(o).name,o.R&&(u.emulatorConfig=o.R),o.$.then(function(){return KP(u,a,o.D,o.Ga())}).then(function(h){return mt(o)&&h.uid==mt(o).uid?(Bd(mt(o),h),o.da(h)):(Os(o,h),Zc(h),o.da(h))}).then(function(){tu(o)})}function Os(o,a){mt(o)&&(HP(mt(o),o.Ba),Cn(mt(o),"tokenChanged",o.qa),Cn(mt(o),"userDeleted",o.za),Cn(mt(o),"userInvalidated",o.Aa),Fg(mt(o))),a&&(a.W.push(o.Ba),zn(a,"tokenChanged",o.qa),zn(a,"userDeleted",o.za),zn(a,"userInvalidated",o.Aa),0<o.u&&tC(a)),K(o,"currentUser",a),a&&(a.xa(o.la()),Mg(a,o),Qc(a,o.J),Ng(a,o),Rg(a,o.R),Og(a,o))}e.Bb=function(){var o=this,a=this.h.then(function(){return o.b&&jd(o.b.b),mt(o)?(Os(o,null),dC(o.i).then(function(){tu(o)})):tt()});return ne(this,a)};function rF(o){var a=QP(o.D,Vt(o).options.authDomain).then(function(u){return(o.m=u)&&(u.ha=o.D),uC(o.D)});return ne(o,a)}function oF(o){var a=Vt(o).options.authDomain,u=rF(o).then(function(){return hC(o.i,a,o.R)}).then(function(h){return h?(h.ha=o.D,o.m&&(o.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return lC(o.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:dC(o.i)})):null}).then(function(h){Os(o,h||null)});return ne(o,u)}function sF(o){return o.$.then(function(){return gC(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var a=o.i;a.b.addListener(wi("local"),a.a,o.ja)}})}e.Zc=function(){var o=this;return hC(this.i,Vt(this).options.authDomain).then(function(a){if(!o.l){var u;if(u=mt(o)&&a){u=mt(o).uid;var h=a.uid;u=u==null||u===""||h===void 0||h===null||h===""?!1:u==h}if(u)return Bd(mt(o),a),mt(o).I();(mt(o)||a)&&(Os(o,a),a&&(Zc(a),a.ha=o.D),o.b&&Fd(o.b,o),tu(o))}})},e.da=function(o){return lC(this.i,o)},e.mc=function(){tu(this),this.da(mt(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function go(o,a){var u=null,h=null;return ne(o,a.then(function(p){return u=Am(p),h=_I(p),iF(o,p)},function(p){var g=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(g=YE(p.w(),o,V(o.kc,o))),g||p}).then(function(){return bi({user:mt(o),credential:u,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(o){var a=this;return this.h.then(function(){return go(a,tt(o))})},e.zc=function(o){var a=this;this.addAuthTokenListener(function(){o.next(mt(a))})},e.Ac=function(o){var a=this;aF(this,function(){o.next(mt(a))})},e.Ic=function(o,a,u){var h=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(mt(h)):typeof o.next=="function"&&o.next(mt(h))}),this.Pa(o,a,u)},e.Hc=function(o,a,u){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof o=="function"?o(mt(h)):typeof o.next=="function"&&o.next(mt(h))}),this.ib(o,a,u)},e.nc=function(o){var a=this,u=this.h.then(function(){return mt(a)?mt(a).I(o).then(function(h){return{accessToken:h}}):null});return ne(this,u)},e.Tc=function(o){var a=this;return this.h.then(function(){return go(a,It(a.a,BN,{token:o}))}).then(function(u){var h=u.user;return cr(h,"isAnonymous",!1),a.da(h),u})},e.Uc=function(o,a){var u=this;return this.h.then(function(){return go(u,It(u.a,oE,{email:o,password:a}))})},e.dc=function(o,a){var u=this;return this.h.then(function(){return go(u,It(u.a,bN,{email:o,password:a}))})},e.ab=function(o){var a=this;return this.h.then(function(){return go(a,o.ka(a.a))})},e.Sc=function(o){return lm("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var a=mt(o);if(a&&a.isAnonymous){var u=bi({providerId:null,isNewUser:!1});return bi({user:a,credential:null,additionalUserInfo:u,operationType:"signIn"})}return go(o,o.a.Ab()).then(function(h){var p=h.user;return cr(p,"isAnonymous",!0),o.da(p),h})})};function Vt(o){return o.app}function mt(o){return o.currentUser}e.getUid=function(){return mt(this)&&mt(this).uid||null};function qd(o){return mt(o)&&mt(o)._lat||null}function tu(o){if(o.ba){for(var a=0;a<o.s.length;a++)o.s[a]&&o.s[a](qd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),a=0;a<o.N.length;a++)o.N[a]&&o.N[a](qd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&mt(this)&&tC(mt(this))},e.Pc=function(o){var a=this;Jt(this.s,function(u){u==o&&a.u--}),0>this.u&&(this.u=0),this.u==0&&mt(this)&&Fg(mt(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var a=this;this.s.push(o),ne(this,this.h.then(function(){a.l||Mi(a.s,o)&&o(qd(a))}))},e.removeAuthTokenListener=function(o){ei(this.s,function(a){return a==o})};function aF(o,a){o.N.push(a),ne(o,o.h.then(function(){!o.l&&Mi(o.N,a)&&o.W!==o.getUid()&&(o.W=o.getUid(),a(qd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(wi("local"),o.a,this.ja)),this.b&&(bg(this.b,this),jd(this.b.b)),Promise.resolve()};function ne(o,a){return o.P.push(a),a.oa(function(){Gl(o.P,a)}),a}e.hc=function(o){return ne(this,uN(this.a,o))},e.Bc=function(o){return!!Dm(o)},e.xb=function(o,a){var u=this;return ne(this,tt().then(function(){var h=new cd(a);if(!h.c)throw new C("argument-error",wm+" must be true when sending sign in link to email");return ud(h)}).then(function(h){return u.a.xb(o,h)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(a){return a.data.email})},e.ob=function(o,a){return ne(this,this.a.ob(o,a).then(function(){}))},e.Sa=function(o){return ne(this,this.a.Sa(o).then(function(a){return new yO(a)}))},e.kb=function(o){return ne(this,this.a.kb(o).then(function(){}))},e.wb=function(o,a){var u=this;return ne(this,tt().then(function(){return typeof a>"u"||Xr(a)?{}:ud(new cd(a))}).then(function(h){return u.a.wb(o,h)}).then(function(){}))},e.Wc=function(o,a){return ne(this,Eg(this,o,a,V(this.ab,this)))},e.Vc=function(o,a){var u=this;return ne(this,tt().then(function(){var h=a||Dc(),p=MI(o,h);if(h=Dm(h),!h)throw new C("argument-error","Invalid email link!");if(h.tenantId!==u.T())throw new C("tenant-id-mismatch");return u.ab(p)}))};function eu(){}eu.prototype.render=function(){},eu.prototype.reset=function(){},eu.prototype.getResponse=function(){},eu.prototype.execute=function(){};function Ns(){this.a={},this.b=1e12}var $g=null;Ns.prototype.render=function(o,a){return this.a[this.b.toString()]=new Hd(o,a),this.b++},Ns.prototype.reset=function(o){var a=Kg(this,o);o=vC(o),a&&o&&(a.delete(),delete this.a[o])},Ns.prototype.getResponse=function(o){return(o=Kg(this,o))?o.getResponse():null},Ns.prototype.execute=function(o){(o=Kg(this,o))&&o.execute()};function Kg(o,a){return(a=vC(a))&&o.a[a]||null}function vC(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Hd(o,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=wc(o);var u=this;this.i=function(){u.execute()},this.h?this.execute():zn(this.f,"click",this.i)}Hd.prototype.getResponse=function(){return Yg(this),this.b},Hd.prototype.execute=function(){Yg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=fO();var a=o.c.callback,u=o.c["expired-callback"];if(a)try{a(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,u)try{u()}catch{}o.h&&o.execute()},6e4)},500))},Hd.prototype.delete=function(){Yg(this),this.g=!0,clearTimeout(this.a),this.a=null,Cn(this.f,"click",this.i)};function Yg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Xg(){}K(Xg,"FACTOR_ID","phone");function Qg(){}Qg.prototype.g=function(){return $g||($g=new Ns),tt($g)},Qg.prototype.c=function(){};var Zg=null;function Jg(){this.b=d.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cF=new mi(Wl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),uF=new or(3e4,6e4);Jg.prototype.g=function(o){var a=this;return new yt(function(u,h){var p=setTimeout(function(){h(new C("network-request-failed"))},uF.get());if(!d.grecaptcha||o!==a.f&&!a.b){d[a.a]=function(){if(d.grecaptcha){a.f=o;var b=d.grecaptcha.render;d.grecaptcha.render=function(w,x){return w=b(w,x),a.b++,w},clearTimeout(p),u(d.grecaptcha)}else clearTimeout(p),h(new C("internal-error"));delete d[a.a]};var g=Op(cF,{onload:a.a,hl:o||""});tt(zm(g)).o(function(){clearTimeout(p),h(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),u(d.grecaptcha)})},Jg.prototype.c=function(){this.b--};var tv=null;function ev(o,a,u,h,p,g,b){if(K(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Zg||(Zg=new Qg),b=Zg):(tv||(tv=new Jg),b=tv),this.m=b,this.a=u||{theme:"light",type:"image"},this.h=[],this.a[_C])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[lF]==="invisible",!d.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!wc(a)||!this.i&&wc(a).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new oi(o,g||null,p||null),this.u=h||function(){return null};var w=this;this.l=[];var x=this.a[bC];this.a[bC]=function(ut){if(wC(w,ut),typeof x=="function")x(ut);else if(typeof x=="string"){var Pt=$t(x,d);typeof Pt=="function"&&Pt(ut)}};var M=this.a[yC];this.a[yC]=function(){if(wC(w,null),typeof M=="function")M();else if(typeof M=="string"){var ut=$t(M,d);typeof ut=="function"&&ut()}}}var bC="callback",yC="expired-callback",_C="sitekey",lF="size";function wC(o,a){for(var u=0;u<o.l.length;u++)try{o.l[u](a)}catch{}}function dF(o,a){ei(o.l,function(u){return u==a})}function nv(o,a){return o.h.push(a),a.oa(function(){Gl(o.h,a)}),a}e=ev.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=nv(this,tt().then(function(){if(sd()&&!ii())return od();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(a){return o.g=a,It(o.s,MN,{})}).then(function(a){o.a[_C]=a.recaptchaSiteKey}).o(function(a){throw o.f=null,a}))},e.render=function(){Gd(this);var o=this;return nv(this,this.Ia().then(function(){if(o.c===null){var a=o.v;if(!o.i){var u=wc(a);a=LM("DIV"),u.appendChild(a)}o.c=o.g.render(a,o.a)}return o.c}))},e.verify=function(){Gd(this);var o=this;return nv(this,this.render().then(function(a){return new yt(function(u){var h=o.g.getResponse(a);if(h)u(h);else{var p=function(g){g&&(dF(o,p),u(g))};o.l.push(p),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Gd(this),this.c!==null&&this.g.reset(this.c)};function Gd(o){if(o.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Gd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=wc(this.v);for(var a;a=o.firstChild;)o.removeChild(a)}};function iv(o,a,u){var h=!1;try{this.b=u||it.app()}catch{throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)u=this.b.options.apiKey;else throw new C("invalid-api-key");var p=this,g=null;try{g=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=it.SDK_VERSION?ws(it.SDK_VERSION,g):null,ev.call(this,u,o,a,function(){try{var b=p.b.auth().la()}catch{b=null}return b},g,bc(yc),h)}Y(iv,ev);function IC(o,a,u,h){t:{u=Array.prototype.slice.call(u);for(var p=0,g=!1,b=0;b<a.length;b++)if(a[b].optional)g=!0;else{if(g)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(g=a.length,u.length<p||g<u.length)h="Expected "+(p==g?p==1?"1 argument":p+" arguments":p+"-"+g+" arguments")+" but got "+u.length+".";else{for(p=0;p<u.length;p++)if(g=a[p].optional&&u[p]===void 0,!a[p].M(u[p])&&!g){if(a=a[p],0>p||p>=EC.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");u=EC[p],h=(h?"":u+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break t}h=null}}if(h)throw new C("argument-error",o+" failed: "+h)}var EC="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $(o,a){return{name:o||"",K:"a valid string",optional:!!a,M:function(u){return typeof u=="string"}}}function rv(o,a){return{name:o||"",K:"a boolean",optional:!!a,M:function(u){return typeof u=="boolean"}}}function me(o,a){return{name:o||"",K:"a valid object",optional:!!a,M:S}}function Ps(o,a){return{name:o||"",K:"a function",optional:!!a,M:function(u){return typeof u=="function"}}}function Ii(o,a){return{name:o||"",K:"null",optional:!!a,M:function(u){return u===null}}}function hF(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function fF(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof ai)}}}function pF(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof it.app.App)}}}function ur(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var u=!o||a.providerId===o;return!(!a.ka||!u)}}}function CC(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function Fs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function ov(o,a){return S(o)&&typeof o.type=="string"&&o.type===a&&typeof o.Ha=="function"}function SC(o){return S(o)&&typeof o.uid=="string"}function Wd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ue(o,a,u,h){return{name:u||"",K:o.K+" or "+a.K,optional:!!h,M:function(p){return o.M(p)||a.M(p)}}}function te(o,a){for(var u in a){var h=a[u].name;o[h]=xC(h,o[u],a[u].j)}}function TC(o,a){for(var u in a){var h=a[u].name;h!==u&&Object.defineProperty(o,h,{get:jt(function(p){return this[p]},u),set:jt(function(p,g,b,w){IC(p,[b],[w],!0),this[g]=w},h,u,a[u].lb),enumerable:!0})}}function le(o,a,u,h){o[a]=xC(a,u,h)}function xC(o,a,u){function h(){var b=Array.prototype.slice.call(arguments);return IC(p,u,b),a.apply(this,b)}if(!u)return a;var p=mF(o),g;for(g in a)h[g]=a[g];for(g in a.prototype)h.prototype[g]=a.prototype[g];return h}function mF(o){return o=o.split("."),o[o.length-1]}te(ai.prototype,{kb:{name:"applyActionCode",j:[$("code")]},Sa:{name:"checkActionCode",j:[$("code")]},ob:{name:"confirmPasswordReset",j:[$("code"),$("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$("email"),$("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ue(me(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ue(me(),Ps(),"nextOrObserver"),Ps("opt_error",!0),Ps("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[$("email"),ue(me("opt_actionCodeSettings",!0),Ii(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[$("email"),me("actionCodeSettings")]},yb:{name:"setPersistence",j:[$("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ur()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ur()]},Tc:{name:"signInWithCustomToken",j:[$("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$("email"),$("password")]},Vc:{name:"signInWithEmailLink",j:[$("email"),$("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$("phoneNumber"),Wd()]},Xc:{name:"signInWithPopup",j:[Fs()]},Yc:{name:"signInWithRedirect",j:[Fs()]},dd:{name:"updateCurrentUser",j:[ue(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(a){return!!(a&&a instanceof Tn)}}}(),Ii(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$("url"),me("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$("code")]}}),TC(ai.prototype,{lc:{name:"languageCode",lb:ue($(),Ii(),"languageCode")},ti:{name:"tenantId",lb:ue($(),Ii(),"tenantId")}}),ai.Persistence=Ds,ai.Persistence.LOCAL="local",ai.Persistence.SESSION="session",ai.Persistence.NONE="none",te(Tn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[rv("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[rv("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ur()]},rb:{name:"linkWithCredential",j:[ur()]},Dc:{name:"linkWithPhoneNumber",j:[$("phoneNumber"),Wd()]},Ec:{name:"linkWithPopup",j:[Fs()]},Fc:{name:"linkWithRedirect",j:[Fs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ur()]},ub:{name:"reauthenticateWithCredential",j:[ur()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$("phoneNumber"),Wd()]},Nc:{name:"reauthenticateWithPopup",j:[Fs()]},Oc:{name:"reauthenticateWithRedirect",j:[Fs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ue(me("opt_actionCodeSettings",!0),Ii(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$(null,!0)]},cd:{name:"unlink",j:[$("provider")]},Cb:{name:"updateEmail",j:[$("email")]},Db:{name:"updatePassword",j:[$("password")]},ed:{name:"updatePhoneNumber",j:[ur("phone")]},Eb:{name:"updateProfile",j:[me("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[$("email"),ue(me("opt_actionCodeSettings",!0),Ii(null,!0),"opt_actionCodeSettings",!0)]}}),te(Ns.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),te(eu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),te(yt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),TC(WE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:rv("appVerificationDisabledForTesting")}}),te(Ig.prototype,{confirm:{name:"confirm",j:[$("verificationCode")]}}),le(Cs,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var a,u=[LO,jO,VO,FO],h=0;h<u.length;h++)if(a=u[h](o))return a;return null},[ue($(),me(),"json")]),le(Hn,"credential",function(o,a){return new sr(o,a)},[$("email"),$("password")]),te(sr.prototype,{w:{name:"toJSON",j:[$(null,!0)]}}),te(ao.prototype,{Ca:{name:"addScope",j:[$("scope")]},Ka:{name:"setCustomParameters",j:[me("customOAuthParameters")]}}),le(ao,"credential",DI,[ue($(),me(),"token")]),le(Hn,"credentialWithLink",MI,[$("email"),$("emailLink")]),te(co.prototype,{Ca:{name:"addScope",j:[$("scope")]},Ka:{name:"setCustomParameters",j:[me("customOAuthParameters")]}}),le(co,"credential",AI,[ue($(),me(),"token")]),te(uo.prototype,{Ca:{name:"addScope",j:[$("scope")]},Ka:{name:"setCustomParameters",j:[me("customOAuthParameters")]}}),le(uo,"credential",kI,[ue($(),ue(me(),Ii()),"idToken"),ue($(),Ii(),"accessToken",!0)]),te(Ts.prototype,{Ka:{name:"setCustomParameters",j:[me("customOAuthParameters")]}}),le(Ts,"credential",RI,[ue($(),me(),"token"),$("secret",!0)]),te(Sn.prototype,{Ca:{name:"addScope",j:[$("scope")]},credential:{name:"credential",j:[ue($(),ue(me(),Ii()),"optionsOrIdToken"),ue($(),Ii(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[me("customOAuthParameters")]}}),te(Ni.prototype,{w:{name:"toJSON",j:[$(null,!0)]}}),te(oo.prototype,{w:{name:"toJSON",j:[$(null,!0)]}}),le(Pi,"credential",OI,[$("verificationId"),$("verificationCode")]),te(Pi.prototype,{gb:{name:"verifyPhoneNumber",j:[ue($(),function(o,a){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(u){return u?u.session&&u.phoneNumber?ov(u.session,Pc)&&typeof u.phoneNumber=="string":u.session&&u.multiFactorHint?ov(u.session,pd)&&SC(u.multiFactorHint):u.session&&u.multiFactorUid?ov(u.session,pd)&&typeof u.multiFactorUid=="string":u.phoneNumber?typeof u.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Wd()]}}),te(ar.prototype,{w:{name:"toJSON",j:[$(null,!0)]}}),te(C.prototype,{toJSON:{name:"toJSON",j:[$(null,!0)]}}),te(Lc.prototype,{toJSON:{name:"toJSON",j:[$(null,!0)]}}),te(Mm.prototype,{toJSON:{name:"toJSON",j:[$(null,!0)]}}),te(Sg.prototype,{toJSON:{name:"toJSON",j:[$(null,!0)]}}),te(Cg.prototype,{Rc:{name:"resolveSignIn",j:[CC()]}}),te(xg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[CC(),$("displayName",!0)]},bd:{name:"unenroll",j:[ue({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:SC},$(),"multiFactorInfoIdentifier")]}}),te(iv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),le(_m,"parseLink",lI,[$("link")]),le(Xg,"assertion",function(o){return new QE(o)},[ur("phone")]),function(){if(typeof it<"u"&&it.INTERNAL&&it.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ad,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ym,VERIFY_AND_CHANGE_EMAIL:Oc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ai,AuthCredential:Cs,Error:C};le(o,"EmailAuthProvider",Hn,[]),le(o,"FacebookAuthProvider",ao,[]),le(o,"GithubAuthProvider",co,[]),le(o,"GoogleAuthProvider",uo,[]),le(o,"TwitterAuthProvider",Ts,[]),le(o,"OAuthProvider",Sn,[$("providerId")]),le(o,"SAMLAuthProvider",xI,[$("providerId")]),le(o,"PhoneAuthProvider",Pi,[fF()]),le(o,"RecaptchaVerifier",iv,[ue($(),hF(),"recaptchaContainer"),me("recaptchaParameters",!0),pF()]),le(o,"ActionCodeURL",_m,[]),le(o,"PhoneMultiFactorGenerator",Xg,[]),it.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new ai(a)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),it.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:V(a.getUid,a),getToken:V(a.nc,a),addAuthTokenListener:V(a.cc,a),removeAuthTokenListener:V(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),it.registerVersion("@firebase/auth","0.16.8"),it.INTERNAL.extendNamespace({User:Tn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})});var DV={};var KT=xn(()=>{"use strict";$T()});function AV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$b(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ax(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zh(){}function Kb(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wu(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function RV(e){return Object.prototype.hasOwnProperty.call(e,Vb)&&e[Vb]||(e[Vb]=++MV)}function OV(e,t,n){return e.call.apply(e.bind,arguments)}function NV(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function je(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?je=OV:je=NV,je.apply(null,arguments)}function Fh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Ue(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,r,s){for(var c=Array(arguments.length-2),l=2;l<arguments.length;l++)c[l-2]=arguments[l];return t.prototype[r].apply(i,c)}}function xr(){this.s=this.s,this.o=this.o}function LV(e){t:{for(var t=D2,n=e.length,i=typeof e=="string"?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function XT(e){return Array.prototype.concat.apply([],arguments)}function ay(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function qh(e){return/^[\s\xa0]*$/.test(e)}function nn(e,t){return e.indexOf(t)!=-1}function Ub(e,t){return e<t?-1:e>t?1:0}function cy(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function lx(e){var t={};for(var n in e)t[n]=e[n];return t}function dx(e,t){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(var s=0;s<ZT.length;s++)n=ZT[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function uy(e){return uy[" "](e),e}function jV(e){var t=BV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}function px(){var e=ht.document;return e?e.documentMode:void 0}function zV(){return jV(function(){for(var e=0,t=QT(String(Hh)).split("."),n=QT("9").split("."),i=Math.max(t.length,n.length),r=0;e==0&&r<i;r++){var s=t[r]||"",c=n[r]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],s[0].length==0&&c[0].length==0)break;e=Ub(s[1].length==0?0:parseInt(s[1],10),c[1].length==0?0:parseInt(c[1],10))||Ub(s[2].length==0,c[2].length==0)||Ub(s[2],c[2]),s=s[3],c=c[3]}while(e==0)}return 0<=e})}function $e(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Bu(e,t){if($e.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fx){t:{try{uy(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:GV[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bu.Z.h.call(this)}}function $V(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=r,this.key=++WV,this.ca=this.fa=!1}function Qh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zh(e){this.src=e,this.g={},this.h=0}function Qb(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=cx(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Qh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Zb(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return r}return-1}function mx(e,t,n,i,r){if(i&&i.once)return vx(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)mx(e,t[s],n,i,r);return null}return n=fy(n),e&&e[$u]?e.N(t,n,Wu(i)?!!i.capture:!!i,r):gx(e,t,n,!1,i,r)}function gx(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var c=Wu(r)?!!r.capture:!!r,l=hy(e);if(l||(e[ly]=l=new Zh(e)),n=l.add(t,n,i,c,s),n.proxy)return n;if(i=KV(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)HV||(r=c),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(yx(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KV(){function e(n){return t.call(e.src,e.listener,n)}var t=YV;return e}function vx(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vx(e,t[s],n,i,r);return null}return n=fy(n),e&&e[$u]?e.O(t,n,Wu(i)?!!i.capture:!!i,r):gx(e,t,n,!0,i,r)}function bx(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)bx(e,t[s],n,i,r);else i=Wu(i)?!!i.capture:!!i,n=fy(n),e&&e[$u]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Zb(s,n,i,r),-1<n&&(Qh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=hy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zb(t,n,i,r)),(n=-1<e?t[e]:null)&&dy(n))}function dy(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[$u])Qb(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(yx(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=hy(t))?(Qb(n,e),n.h==0&&(n.src=null,t[ly]=null)):Qh(e)}}}function yx(e){return e in Hb?Hb[e]:Hb[e]="on"+e}function YV(e,t){if(e.ca)e=!0;else{t=new Bu(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&dy(e),e=n.call(i,t)}return e}function hy(e){return e=e[ly],e instanceof Zh?e:null}function fy(e){return typeof e=="function"?e:(e[Gb]||(e[Gb]=function(t){return e.handleEvent(t)}),e[Gb])}function Oe(){xr.call(this),this.i=new Zh(this),this.P=this,this.I=null}function Ve(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new $e(t,e);else if(t instanceof $e)t.target=t.target||e;else{var r=t;t=new $e(i,e),dx(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var c=t.g=n[s];r=Uh(c,i,!0,t)&&r}if(c=t.g=e,r=Uh(c,i,!0,t)&&r,r=Uh(c,i,!1,t)&&r,n)for(s=0;s<n.length;s++)c=t.g=n[s],r=Uh(c,i,!1,t)&&r}function Uh(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==n){var l=c.listener,d=c.ia||c.src;c.fa&&Qb(e.i,c),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}function XV(){var e=wx,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}function JV(e){ht.setTimeout(function(){throw e},0)}function my(e,t){Jb||t2(),ty||(Jb(),ty=!0),wx.add(e,t)}function t2(){var e=ht.Promise.resolve(void 0);Jb=function(){e.then(e2)}}function e2(){for(var e;e=XV();){try{e.h.call(e.g)}catch(n){JV(n)}var t=_x;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ty=!1}function Jh(e,t){Oe.call(this),this.h=e||1,this.g=t||ht,this.j=je(this.kb,this),this.l=Date.now()}function gy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function vy(e,t,n){if(typeof e=="function")n&&(e=je(e,n));else if(e&&typeof e.handleEvent=="function")e=je(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ht.setTimeout(e,t||0)}function Ix(e){e.g=vy(function(){e.g=null,e.i&&(e.i=!1,Ix(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function zu(e){xr.call(this),this.h=e,this.g={}}function Ex(e,t,n,i){Array.isArray(n)||(n&&(JT[0]=n.toString()),n=JT);for(var r=0;r<n.length;r++){var s=mx(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Cx(e){cy(e.g,function(t,n){this.g.hasOwnProperty(n)&&dy(t)},e),e.g={}}function tf(){this.g=!0}function i2(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var c="",l=s.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var m=f[0];f=f[1];var v=m.split("_");c=2<=v.length&&v[1]=="type"?c+(m+"="+f+"&"):c+(m+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+c})}function r2(e,t,n,i,r,s,c){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+c})}function da(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+s2(e,n)+(i?" "+i:"")})}function o2(e,t){e.info(function(){return"TIMEOUT: "+t})}function s2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var c=1;c<r.length;c++)r[c]=""}}}}return py(n)}catch{return t}}function ef(){return tx=tx||new Oe}function Sx(e){$e.call(this,Vo.Ma,e)}function qu(e){var t=ef();Ve(t,new Sx(t,e))}function Tx(e,t){$e.call(this,Vo.STAT_EVENT,e),this.stat=t}function on(e){var t=ef();Ve(t,new Tx(t,e))}function xx(e,t){$e.call(this,Vo.Na,e),this.size=t}function Ku(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){e()},t)}function by(){}function ex(e){return e.h||(e.h=e.i())}function Ax(){}function yy(){$e.call(this,"d")}function _y(){$e.call(this,"c")}function rf(){}function Xu(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new zu(this),this.P=a2,e=Yb?125:void 0,this.W=new Jh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kx}function kx(){this.i=null,this.g="",this.h=!1}function iy(e,t,n){e.K=1,e.v=sf(Gi(t)),e.s=n,e.U=!0,Rx(e,null)}function Rx(e,t){e.F=Date.now(),Qu(e),e.A=Gi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),jx(n.h,"t",i),e.C=0,n=e.l.H,e.h=new kx,e.g=rD(e.l,n?t:null,!e.s),0<e.O&&(e.L=new n2(je(e.Ia,e,e.g),e.O)),Ex(e.V,e.g,"readystatechange",e.gb),t=e.H?lx(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qu(1),i2(e.j,e.u,e.A,e.m,e.X,e.s)}function Mx(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Ox(e,t,n){for(var i=!0,r;!e.I&&e.C<n.length;)if(r=c2(e,n),r==Gh){t==4&&(e.o=4,on(14),i=!1),da(e.j,e.m,null,"[Incomplete Response]");break}else if(r==ny){e.o=4,on(15),da(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else da(e.j,e.m,r,null),ry(e,r);Mx(e)&&r!=Gh&&r!=ny&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,on(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ay(t),t.L=!0,on(11))):(da(e.j,e.m,n,"[Invalid Chunked Response]"),Po(e),Vu(e))}function c2(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Gh:(n=Number(t.substring(n,i)),isNaN(n)?ny:(i+=1,i+n>t.length?Gh:(t=t.substr(i,n),e.C=i+n,t)))}function Qu(e){e.Y=Date.now()+e.P,Nx(e,e.P)}function Nx(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ku(je(e.eb,e),t)}function of(e){e.B&&(ht.clearTimeout(e.B),e.B=null)}function Vu(e){e.l.G==0||e.I||tD(e.l,e)}function Po(e){of(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,gy(e.W),Cx(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ry(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||oy(n.i,e))){if(n.I=e.N,!e.J&&oy(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Yh(n),uf(n);else break t;Dy(n),on(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ku(je(n.ab,n),6e3));if(1>=Bx(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Fo(n,11)}else if((e.J||n.g==e)&&Yh(n),!qh(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){var s=r[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var c=s[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var d=s[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var f=e.g;if(f){var m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var v=i.i;!v.g&&(nn(m,"spdy")||nn(m,"quic")||nn(m,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Ey(v,v.h),v.h=null))}if(i.D){var y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,Qt(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var _=e;if(i.oa=iD(i,i.H?i.la:null,i.W),_.J){zx(i.i,_);var I=_,E=i.K;E&&I.setTimeout(E),I.B&&(of(I),Qu(I)),i.g=_}else Zx(i);0<n.l.length&&lf(n)}else s[0]!="stop"&&s[0]!="close"||Fo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Fo(n,7):xy(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}qu(4)}catch{}}function u2(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Kb(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function wy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Kb(e)||typeof e=="string")ux(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Kb(e)||typeof e=="string"){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;i=u2(e),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}}function fa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof fa)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Iy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Lo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)i=e.g[t],Lo(r,i)||(e.g[n++]=i,r[i]=1),t++;e.g.length=n}}function Lo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function jo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jo){this.g=t!==void 0?t:e.g,Wh(this,e.j),this.s=e.s,$h(this,e.i),Kh(this,e.m),this.l=e.l,t=e.h;var n=new Hu;n.i=t.i,t.g&&(n.g=new fa(t.g),n.h=t.h),nx(this,n),this.o=e.o}else e&&(n=String(e).match(Px))?(this.g=!!t,Wh(this,n[1]||"",!0),this.s=Uu(n[2]||""),$h(this,n[3]||"",!0),Kh(this,n[4]),this.l=Uu(n[5]||"",!0),nx(this,n[6]||"",!0),this.o=Uu(n[7]||"")):(this.g=!!t,this.h=new Hu(null,this.g))}function Gi(e){return new jo(e)}function Wh(e,t,n){e.j=n?Uu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $h(e,t,n){e.i=n?Uu(t,!0):t}function Kh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nx(e,t,n){t instanceof Hu?(e.h=t,b2(e.h,e.g)):(n||(t=ju(t,g2)),e.h=new Hu(t,e.g))}function Qt(e,t,n){e.h.set(t,n)}function sf(e){return Qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function d2(e){return e instanceof jo?Gi(e):new jo(e,void 0)}function h2(e,t,n,i){var r=new jo(null,void 0);return e&&Wh(r,e),t&&$h(r,t),n&&Kh(r,n),i&&(r.l=i),r}function Uu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ju(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,f2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function f2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}function Hu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dr(e){e.g||(e.g=new fa,e.h=0,e.i&&l2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Fx(e,t){Dr(e),t=pa(e,t),Lo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Lo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Iy(e)))}function Lx(e,t){return Dr(e),t=pa(e,t),Lo(e.g.h,t)}function jx(e,t,n){Fx(e,t),0<n.length&&(e.i=null,e.g.set(pa(e,t),ay(n)),e.h+=n.length)}function pa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function b2(e,t){t&&!e.j&&(Dr(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Fx(this,i),jx(this,r,n))},e)),e.j=t}function Vx(e){this.l=e||_2,ht.PerformanceNavigationTiming?(e=ht.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ht.g&&ht.g.Ea&&ht.g.Ea()&&ht.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ux(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Bx(e){return e.h?1:e.g?e.g.size:0}function oy(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ey(e,t){e.g?e.g.add(t):e.h=t}function zx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qx(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var r=ax(e.g.values()),s=r.next();!s.done;s=r.next()){var c=s.value;i=i.concat(c.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}return ay(e.i)}function Cy(){}function w2(){this.g=new Cy}function I2(e,t,n){var i=n||"";try{wy(e,function(r,s){var c=r;Wu(r)&&(c=py(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function E2(e,t){var n=new tf;if(ht.Image){var i=new Image;i.onload=Fh(Bh,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Fh(Bh,n,i,"TestLoadImage: error",!1,t),i.onabort=Fh(Bh,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Fh(Bh,n,i,"TestLoadImage: timeout",!1,t),ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Bh(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Zu(e){this.l=e.$b||null,this.j=e.ib||!1}function af(e,t){Oe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}function Hx(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ju(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gu(e)}function Gu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ve(e){Oe.call(this),this.headers=new fa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gx,this.K=this.L=!1}function x2(e){return ha&&zV()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function D2(e){return e.toLowerCase()=="content-type"}function rx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wx(e),cf(e)}function Wx(e){e.D||(e.D=!0,Ve(e,"complete"),Ve(e,"error"))}function $x(e){if(e.h&&typeof sy<"u"&&(!e.C[1]||Hi(e)!=4||e.ba()!=2)){if(e.v&&Hi(e)==4)vy(e.Fa,0,e);else if(Ve(e,"readystatechange"),Hi(e)==4){e.h=!1;try{var t=e.ba();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var r;if(r=t===0){var s=String(e.H).match(Px)[1]||null;if(!s&&ht.self&&ht.self.location){var c=ht.self.location.protocol;s=c.substr(0,c.length-1)}r=!S2.test(s?s.toLowerCase():"")}i=r}if(i)Ve(e,"complete"),Ve(e,"success");else{e.m=6;try{var l=2<Hi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",Wx(e)}}finally{cf(e)}}}}function cf(e,t){if(e.g){Kx(e);var n=e.g,i=e.C[0]?zh:null;e.g=null,e.C=null,t||Ve(e,"ready");try{n.onreadystatechange=i}catch{}}}function Kx(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ht.clearTimeout(e.A),e.A=null)}function Hi(e){return e.g?e.g.readyState:0}function ox(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Gx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function A2(e){var t="";return cy(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Ty(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=A2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Qt(e,t,n))}function Lu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yx(e){this.za=0,this.l=[],this.h=new tf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lu("baseRetryDelayMs",5e3,e),this.$a=Lu("retryDelaySeedMs",1e4,e),this.Ya=Lu("forwardChannelMaxRetries",2,e),this.ra=Lu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vx(e&&e.concurrentRequestLimit),this.Ca=new w2,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}function xy(e){if(Xx(e),e.G==3){var t=e.V++,n=Gi(e.F);Qt(n,"SID",e.J),Qt(n,"RID",t),Qt(n,"TYPE","terminate"),tl(e,n),t=new Xu(e,e.h,t,void 0),t.K=2,t.v=sf(Gi(n)),n=!1,ht.navigator&&ht.navigator.sendBeacon&&(n=ht.navigator.sendBeacon(t.v.toString(),"")),!n&&ht.Image&&(new Image().src=t.v,n=!0),n||(t.g=rD(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qu(t)}nD(e)}function uf(e){e.g&&(Ay(e),e.g.cancel(),e.g=null)}function Xx(e){uf(e),e.u&&(ht.clearTimeout(e.u),e.u=null),Yh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ht.clearTimeout(e.m),e.m=null)}function Wb(e,t){e.l.push(new y2(e.Za++,t)),e.G==3&&lf(e)}function lf(e){Ux(e.i)||e.m||(e.m=!0,my(e.Ha,e),e.C=0)}function k2(e,t){return Bx(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ku(je(e.Ha,e,t),eD(e,e.C)),e.C++,!0)}function sx(e,t){var n;t?n=t.m:n=e.V++;var i=Gi(e.F);Qt(i,"SID",e.J),Qt(i,"RID",n),Qt(i,"AID",e.U),tl(e,i),e.o&&e.s&&Ty(i,e.o,e.s),n=new Xu(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Qx(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ey(e.i,n),iy(n,i,t)}function tl(e,t){e.j&&wy({},function(n,i){Qt(t,i,n)})}function Qx(e,t,n){n=Math.min(e.l.length,n);var i=e.j?je(e.j.Oa,e.j,e):null;t:for(var r=e.l,s=-1;;){var c=["count="+n];s==-1?0<n?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);for(var l=!0,d=0;d<n;d++){var f=r[d].h,m=r[d].g;if(f-=s,0>f)s=Math.max(0,r[d].h-100),l=!1;else try{I2(m,c,"req"+f+"_")}catch{i&&i(m)}}if(l){i=c.join("&");break t}}return e=e.l.splice(0,n),t.D=e,i}function Zx(e){e.g||e.u||(e.Y=1,my(e.Ga,e),e.A=0)}function Dy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ku(je(e.Ga,e),eD(e,e.A)),e.A++,!0)}function Ay(e){e.B!=null&&(ht.clearTimeout(e.B),e.B=null)}function Jx(e){e.g=new Xu(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Gi(e.oa);Qt(t,"RID","rpc"),Qt(t,"SID",e.J),Qt(t,"CI",e.N?"0":"1"),Qt(t,"AID",e.U),tl(e,t),Qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Ty(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=sf(Gi(t)),n.s=null,n.U=!0,Rx(n,e)}function Yh(e){e.v!=null&&(ht.clearTimeout(e.v),e.v=null)}function tD(e,t){var n=null;if(e.g==t){Yh(e),Ay(e),e.g=null;var i=2}else if(oy(e.i,t))n=t.D,zx(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=ef(),Ve(i,new xx(i,n,t,r)),lf(e)}else Zx(e);else if(r=t.o,r==3||r==0&&0<e.I||!(i==1&&k2(e,t)||i==2&&Dy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Fo(e,5);break;case 4:Fo(e,10);break;case 3:Fo(e,6);break;default:Fo(e,2)}}}function eD(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Fo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=je(e.jb,e);n||(n=new jo("//www.google.com/images/cleardot.gif"),ht.location&&ht.location.protocol=="http"||Wh(n,"https"),sf(n)),E2(n.toString(),i)}else on(2);e.G=0,e.j&&e.j.va(t),nD(e),Xx(e)}function nD(e){e.G=0,e.I=-1,e.j&&((qx(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,ay(e.l),e.l.length=0),e.j.ua())}function iD(e,t,n){var i=d2(n);if(i.i!="")t&&$h(i,t+"."+i.i),Kh(i,i.m);else{var r=ht.location;i=h2(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,n)}return e.aa&&cy(e.aa,function(s,c){Qt(i,c,s)}),t=e.D,n=e.sa,t&&n&&Qt(i,t,n),Qt(i,"VER",e.ma),tl(e,i),i}function rD(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ve(new Zu({ib:!0})):new ve(e.qa),t.L=e.H,t}function oD(){}function Xh(){if(ha&&!(10<=Number(qV)))throw Error("Environmental error: no available transport.")}function Pn(e,t){Oe.call(this),this.g=new Yx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!qh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ma(this)}function sD(e){yy.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}function aD(){_y.call(this),this.status=1}function ma(e){this.g=e}var $b,kV,W,sy,ht,Vb,MV,PV,FV,cx,ux,QT,rn,Bb,zb,ZT,VV,ha,hx,Yb,fx,UV,Hh,Lh,jh,Vh,BV,Xb,qb,qV,HV,GV,$u,WV,ly,Hb,Gb,py,QV,_x,ZV,Jb,ty,wx,n2,JT,Vo,tx,nf,Dx,Yu,ey,a2,ny,Gh,Px,ix,p2,m2,g2,v2,y2,_2,Sy,C2,Gx,S2,T2,cD,uD,df,lD,dD,ky,hD,el,fD,Ry=xn(()=>{"use strict";$b=function(e,t){return $b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},$b(e,t)};kV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sy=sy||{},ht=kV||self;Vb="closure_uid_"+(1e9*Math.random()>>>0),MV=0;PV=0,FV={};xr.prototype.s=!1;xr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),PV!=0)){var e=RV(this);delete FV[e]}};xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};cx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ux=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in r&&t.call(n,r[s],s,e)};QT=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};t:{if(Bb=ht.navigator,Bb&&(zb=Bb.userAgent,zb)){rn=zb;break t}rn=""}ZT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");uy[" "]=zh;VV=nn(rn,"Opera"),ha=nn(rn,"Trident")||nn(rn,"MSIE"),hx=nn(rn,"Edge"),Yb=hx||ha,fx=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),UV=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");t:{if(Lh="",jh=function(){var e=rn;if(fx)return/rv:([^\);]+)(\)|;)/.exec(e);if(hx)return/Edge\/([\d\.]+)/.exec(e);if(ha)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(UV)return/WebKit\/(\S+)/.exec(e);if(VV)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),jh&&(Lh=jh?jh[1]:""),ha&&(Vh=px(),Vh!=null&&Vh>parseFloat(Lh))){Hh=String(Vh);break t}Hh=Lh}BV={};ht.document&&ha?(qb=px(),Xb=qb||parseInt(Hh,10)||void 0):Xb=void 0;qV=Xb,HV=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ht.addEventListener("test",zh,t),ht.removeEventListener("test",zh,t)}catch{}return e}();$e.prototype.h=function(){this.defaultPrevented=!0};Ue(Bu,$e);GV={2:"touch",3:"pen",4:"mouse"};Bu.prototype.h=function(){Bu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};$u="closure_listenable_"+(1e6*Math.random()|0),WV=0;Zh.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var c=Zb(e,t,i,r);return-1<c?(t=e[c],n||(t.fa=!1)):(t=new $V(t,this.src,s,!!i,r),t.fa=n,e.push(t)),t};ly="closure_lm_"+(1e6*Math.random()|0),Hb={};Gb="__closure_events_fn_"+(1e9*Math.random()>>>0);Ue(Oe,xr);Oe.prototype[$u]=!0;Oe.prototype.removeEventListener=function(e,t,n,i){bx(this,e,t,n,i)};Oe.prototype.M=function(){if(Oe.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Qh(n[i]);delete e.g[t],e.h--}}this.I=null};Oe.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Oe.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};py=ht.JSON.stringify;QV=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=_x.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),_x=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new ZV},function(e){return e.reset()}),ZV=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();ty=!1,wx=new QV;Ue(Jh,Oe);W=Jh.prototype;W.da=!1;W.S=null;W.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ve(this,"tick"),this.da&&(gy(this),this.start()))}};W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};W.M=function(){Jh.Z.M.call(this),gy(this),delete this.g};n2=function(e){AV(t,e);function t(n,i){var r=e.call(this)||this;return r.m=n,r.j=i,r.h=null,r.i=!1,r.g=null,r}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:Ix(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(xr);Ue(zu,xr);JT=[];zu.prototype.M=function(){zu.Z.M.call(this),Cx(this)};zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};tf.prototype.Aa=function(){this.g=!1};tf.prototype.info=function(){};Vo={},tx=null;Vo.Ma="serverreachability";Ue(Sx,$e);Vo.STAT_EVENT="statevent";Ue(Tx,$e);Vo.Na="timingevent";Ue(xx,$e);nf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dx={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};by.prototype.h=null;Yu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};Ue(yy,$e);Ue(_y,$e);Ue(rf,by);rf.prototype.g=function(){return new XMLHttpRequest};rf.prototype.i=function(){return{}};ey=new rf;a2=45e3,ny={},Gh={};W=Xu.prototype;W.setTimeout=function(e){this.P=e};W.gb=function(e){e=e.target;var t=this.L;t&&Hi(e)==3?t.l():this.Ia(e)};W.Ia=function(e){try{if(e==this.g)t:{var t=Hi(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Yb||this.g&&(this.h.h||this.g.ga()||ox(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?qu(3):qu(2)),of(this);var r=this.g.ba();this.N=r;e:if(Mx(this)){var s=ox(this.g);e="";var c=s.length,l=Hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),Vu(this);var d="";break e}this.h.i=new ht.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==c-1});s.splice(0,c),this.h.g+=e,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=r==200,r2(this.j,this.u,this.A,this.m,this.X,t,r),this.i){if(this.$&&!this.J){e:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qh(f)){var v=f;break e}}v=null}if(r=v)da(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ry(this,r);else{this.i=!1,this.o=3,on(12),Po(this),Vu(this);break t}}this.U?(Ox(this,t,d),Yb&&this.i&&t==3&&(Ex(this.V,this.W,"tick",this.fb),this.W.start())):(da(this.j,this.m,d,null),ry(this,d)),t==4&&Po(this),this.i&&!this.I&&(t==4?tD(this.l,this):(this.i=!1,Qu(this)))}else r==400&&0<d.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),Po(this),Vu(this)}}}catch{}finally{}};W.fb=function(){if(this.g){var e=Hi(this.g),t=this.g.ga();this.C<t.length&&(of(this),Ox(this,e,t),this.i&&e!=4&&Qu(this))}};W.cancel=function(){this.I=!0,Po(this)};W.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(o2(this.j,this.A),this.K!=2&&(qu(3),on(17)),Po(this),this.o=2,Vu(this)):Nx(this,this.Y-e)};W=fa.prototype;W.R=function(){Iy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};W.T=function(){return Iy(this),this.g.concat()};W.get=function(e,t){return Lo(this.h,e)?this.h[e]:t};W.set=function(e,t){Lo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};W.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);e.call(t,s,r,this)}};Px=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ju(t,ix,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ju(t,ix,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ju(n,n.charAt(0)=="/"?m2:p2,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ju(n,v2)),e.join("")};ix=/[#\/\?@]/g,p2=/[#\?:]/g,m2=/[#\?]/g,g2=/[#\?@]/g,v2=/#/g;W=Hu.prototype;W.add=function(e,t){Dr(this),this.i=null,e=pa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};W.forEach=function(e,t){Dr(this),this.g.forEach(function(n,i){ux(n,function(r){e.call(t,r,i,this)},this)},this)};W.T=function(){Dr(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var r=e[i],s=0;s<r.length;s++)n.push(t[i]);return n};W.R=function(e){Dr(this);var t=[];if(typeof e=="string")Lx(this,e)&&(t=XT(t,this.g.get(pa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=XT(t,e[n])}return t};W.set=function(e,t){return Dr(this),this.i=null,e=pa(this,e),Lx(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};W.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;i[s]!==""&&(c+="="+encodeURIComponent(String(i[s]))),e.push(c)}}return this.i=e.join("&")};y2=function(){function e(t,n){this.h=t,this.g=n}return e}();_2=10;Vx.prototype.cancel=function(){var e,t;if(this.i=qx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=ax(this.g.values()),i=n.next();!i.done;i=n.next()){var r=i.value;r.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};Cy.prototype.stringify=function(e){return ht.JSON.stringify(e,void 0)};Cy.prototype.parse=function(e){return ht.JSON.parse(e,void 0)};Ue(Zu,by);Zu.prototype.g=function(){return new af(this.l,this.j)};Zu.prototype.i=function(e){return function(){return e}}({});Ue(af,Oe);Sy=0;W=af.prototype;W.open=function(e,t){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gu(this)};W.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ht).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ju(this)),this.readyState=Sy};W.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gu(this)),this.g&&(this.readyState=3,Gu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hx(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};W.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ju(this):Gu(this),this.readyState==3&&Hx(this)}};W.Ua=function(e){this.g&&(this.response=this.responseText=e,Ju(this))};W.Ta=function(e){this.g&&(this.response=e,Ju(this))};W.ha=function(){this.g&&Ju(this)};W.setRequestHeader=function(e,t){this.v.append(e,t)};W.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};Object.defineProperty(af.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});C2=ht.JSON.parse;Ue(ve,Oe);Gx="",S2=/^https?$/i,T2=["POST","PUT"];W=ve.prototype;W.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ey.g(),this.C=this.u?ex(this.u):ex(ey),this.g.onreadystatechange=je(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){rx(this,s);return}e=n||"";var r=new fa(this.headers);i&&wy(i,function(s,c){r.set(c,s)}),i=LV(r.T()),n=ht.FormData&&e instanceof ht.FormData,!(0<=cx(T2,t))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kx(this),0<this.B&&((this.K=x2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=je(this.pa,this)):this.A=vy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){rx(this,s)}};W.pa=function(){typeof sy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))};W.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ve(this,"complete"),Ve(this,"abort"),cf(this))};W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),ve.Z.M.call(this)};W.Fa=function(){this.s||(this.F||this.v||this.l?$x(this):this.cb())};W.cb=function(){$x(this)};W.ba=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}};W.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),C2(t)}};W.Da=function(){return this.m};W.La=function(){return typeof this.j=="string"?this.j:String(this.j)};W=Yx.prototype;W.ma=8;W.G=1;W.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};W.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=lx(n),dx(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){e:{var s=this.l[r];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=r;break t}if(i===4096||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Qx(this,t,i),r=Gi(this.F),Qt(r,"RID",e),Qt(r,"CVER",22),this.D&&Qt(r,"X-HTTP-Session-Id",this.D),tl(this,r),this.o&&n&&Ty(r,this.o,n),Ey(this.i,t),this.Ra&&Qt(r,"TYPE","init"),this.ja?(Qt(r,"$req",i),Qt(r,"SID","null"),t.$=!0,iy(t,r,null)):iy(t,r,i),this.G=2}}else this.G==3&&(e?sx(this,e):this.l.length==0||Ux(this.i)||sx(this))};W.Ga=function(){if(this.u=null,Jx(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ku(je(this.bb,this),e)}};W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,on(10),uf(this),Jx(this))};W.ab=function(){this.v!=null&&(this.v=null,uf(this),Dy(this),on(19))};W.jb=function(e){e?(this.h.info("Successfully pinged google.com"),on(2)):(this.h.info("Failed to ping google.com"),on(1))};W=oD.prototype;W.xa=function(){};W.wa=function(){};W.va=function(){};W.ua=function(){};W.Oa=function(){};Xh.prototype.g=function(e,t){return new Pn(e,t)};Ue(Pn,Oe);Pn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),my(je(e.hb,e,t))),on(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=iD(e,null,e.W),lf(e)};Pn.prototype.close=function(){xy(this.g)};Pn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Wb(this.g,t)}else this.v?(t={},t.__data__=py(e),Wb(this.g,t)):Wb(this.g,e)};Pn.prototype.M=function(){this.g.j=null,delete this.j,xy(this.g),delete this.g,Pn.Z.M.call(this)};Ue(sD,yy);Ue(aD,_y);Ue(ma,oD);ma.prototype.xa=function(){Ve(this.g,"a")};ma.prototype.wa=function(e){Ve(this.g,new sD(e))};ma.prototype.va=function(e){Ve(this.g,new aD(e))};ma.prototype.ua=function(){Ve(this.g,"b")};Xh.prototype.createWebChannel=Xh.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;nf.NO_ERROR=0;nf.TIMEOUT=8;nf.HTTP_ERROR=6;Dx.COMPLETE="complete";Ax.EventType=Yu;Yu.OPEN="a";Yu.CLOSE="b";Yu.ERROR="c";Yu.MESSAGE="d";Oe.prototype.listen=Oe.prototype.N;ve.prototype.listenOnce=ve.prototype.O;ve.prototype.getLastError=ve.prototype.La;ve.prototype.getLastErrorCode=ve.prototype.Da;ve.prototype.getStatus=ve.prototype.ba;ve.prototype.getResponseJson=ve.prototype.Qa;ve.prototype.getResponseText=ve.prototype.ga;ve.prototype.send=ve.prototype.ea;cD=function(){return new Xh},uD=function(){return ef()},df=nf,lD=Dx,dD=Vo,ky={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hD=Zu,el=Ax,fD=ve});function Fy(){return ui.logLevel}function U(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ui.logLevel<=kt.DEBUG){var i=t.map(Xy);ui.debug.apply(ui,Ut(["Firestore (8.10.1): "+e],i))}}function _e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ui.logLevel<=kt.ERROR){var i=t.map(Xy);ui.error.apply(ui,Ut(["Firestore (8.10.1): "+e],i))}}function If(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ui.logLevel<=kt.WARN){var i=t.map(Xy);ui.warn.apply(ui,Ut(["Firestore (8.10.1): "+e],i))}}function Xy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}function Q(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw _e(t),new Error(t)}function at(e,t){e||Q()}function H(e,t){return e}function R2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}function Et(e,t){return e<t?-1:e>t?1:0}function Ia(e,t,n){return e.length===t.length&&e.every(function(i,r){return n(i,t[r])})}function EA(e){return e+"\0"}function pD(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function CA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vr(e){if(at(!!e),typeof e=="string"){var t=0,n=O2.exec(e);if(at(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(e.seconds),nanos:ye(e.nanos)}}function ye(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ca(e){return typeof e=="string"?cn.fromBase64String(e):cn.fromUint8Array(e)}function Qy(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TA(e){var t=e.mapValue.fields.__previous_value__;return Qy(t)?TA(t):t}function al(e){var t=Vr(e.mapValue.fields.__local_write_time__.timestampValue);return new an(t.seconds,t.nanos)}function Xo(e){return e==null}function Ef(e){return e===0&&1/e==-1/0}function xA(e){return typeof e=="number"&&Number.isInteger(e)&&!Ef(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Go(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qy(e)?4:10:Q()}function ki(e,t){var n=Go(e);if(n!==Go(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return al(e).isEqual(al(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;var s=Vr(i.timestampValue),c=Vr(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return Ca(i.bytesValue).isEqual(Ca(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return ye(i.geoPointValue.latitude)===ye(r.geoPointValue.latitude)&&ye(i.geoPointValue.longitude)===ye(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ye(i.integerValue)===ye(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){var s=ye(i.doubleValue),c=ye(r.doubleValue);return s===c?Ef(s)===Ef(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return Ia(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:return function(i,r){var s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(pD(s)!==pD(c))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!ki(s[l],c[l])))return!1;return!0}(e,t);default:return Q()}}function cl(e,t){return(e.values||[]).find(function(n){return ki(n,t)})!==void 0}function Sa(e,t){var n=Go(e),i=Go(t);if(n!==i)return Et(n,i);switch(n){case 0:return 0;case 1:return Et(e.booleanValue,t.booleanValue);case 2:return function(r,s){var c=ye(r.integerValue||r.doubleValue),l=ye(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return mD(e.timestampValue,t.timestampValue);case 4:return mD(al(e),al(t));case 5:return Et(e.stringValue,t.stringValue);case 6:return function(r,s){var c=Ca(r),l=Ca(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){for(var c=r.split("/"),l=s.split("/"),d=0;d<c.length&&d<l.length;d++){var f=Et(c[d],l[d]);if(f!==0)return f}return Et(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){var c=Et(ye(r.latitude),ye(s.latitude));return c!==0?c:Et(ye(r.longitude),ye(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,s){for(var c=r.values||[],l=s.values||[],d=0;d<c.length&&d<l.length;++d){var f=Sa(c[d],l[d]);if(f)return f}return Et(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,s){var c=r.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(var m=0;m<l.length&&m<f.length;++m){var v=Et(l[m],f[m]);if(v!==0)return v;var y=Sa(c[l[m]],d[f[m]]);if(y!==0)return y}return Et(l.length,f.length)}(e.mapValue,t.mapValue);default:throw Q()}}function mD(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Et(e,t);var n=Vr(e),i=Vr(t),r=Et(n.seconds,i.seconds);return r!==0?r:Et(n.nanos,i.nanos)}function Zy(e){return Ly(e)}function Ly(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var r=Vr(i);return"time("+r.seconds+","+r.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ca(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,J.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var r="[",s=!0,c=0,l=i.values||[];c<l.length;c++)s?s=!1:r+=",",r+=Ly(l[c]);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var r="{",s=!0,c=0,l=Object.keys(i.fields||{}).sort();c<l.length;c++){var d=l[c];s?s=!1:r+=",",r+=d+":"+Ly(i.fields[d])}return r+"}"}(e.mapValue):Q();var t,n}function Cf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function jy(e){return!!e&&"integerValue"in e}function Jy(e){return!!e&&"arrayValue"in e}function gD(e){return!!e&&"nullValue"in e}function vD(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gf(e){return!!e&&"mapValue"in e}function rl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yo(e.mapValue.fields,function(r,s){return t.mapValue.fields[r]=rl(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=rl(e.arrayValue.values[i]);return n}return Object.assign({},e)}function DA(e){var t=[];return Yo(e.fields,function(n,i){var r=new di([n]);if(gf(i)){var s=DA(i.mapValue).fields;if(s.length===0)t.push(r);else for(var c=0,l=s;c<l.length;c++){var d=l[c];t.push(r.child(d))}}else t.push(r)}),new Ea(t)}function bD(e,t,n,i,r,s,c){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s=null),c===void 0&&(c=null),new N2(e,t,n,i,r,s,c)}function vl(e){var t=H(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(r){return r.field.canonicalString()+r.op.toString()+Zy(r.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(r){return r.field.canonicalString()+r.dir}(i)}).join(","),Xo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Tf(t.startAt)),t.endAt&&(n+="|ub:",n+=Tf(t.endAt)),t.h=n}return t.h}function jf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!z2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(r=e.filters[i],s=t.filters[i],r.op!==s.op||!r.field.isEqual(s.field)||!ki(r.value,s.value))return!1;var r,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_D(e.startAt,t.startAt)&&_D(e.endAt,t.endAt)}function Sf(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function AA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return J.fromName(i.referenceValue)})}function Tf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Zy(t)}).join(",")}function z2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yD(e,t,n){for(var i=0,r=0;r<e.position.length;r++){var s=t[r],c=e.position[r];if(i=s.field.isKeyField()?J.comparator(J.fromName(c.referenceValue),n.key):Sa(c,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function _D(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}function kA(e,t,n,i,r,s,c,l){return new Yi(e,t,n,i,r,s,c,l)}function Ba(e){return new Yi(e)}function vf(e){return!Xo(e.limit)&&e.limitType==="F"}function xf(e){return!Xo(e.limit)&&e.limitType==="L"}function t_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function e_(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function n_(e){return e.collectionGroup!==null}function Ta(e){var t=H(e);if(t.p===null){t.p=[];var n=e_(t),i=t_(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new wa(n)),t.p.push(new wa(di.keyField(),"asc"));else{for(var r=!1,s=0,c=t.explicitOrderBy;s<c.length;s++){var l=c[s];t.p.push(l),l.field.isKeyField()&&(r=!0)}if(!r){var d=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wa(di.keyField(),d))}}}return t.p}function Xn(e){var t=H(e);if(!t.T)if(t.limitType==="F")t.T=bD(t.path,t.collectionGroup,Ta(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,r=Ta(t);i<r.length;i++){var s=r[i],c=s.dir==="desc"?"asc":"desc";n.push(new wa(s.field,c))}var l=t.endAt?new ul(t.endAt.position,!t.endAt.before):null,d=t.startAt?new ul(t.startAt.position,!t.startAt.before):null;t.T=bD(t.path,t.collectionGroup,n,t.filters,t.limit,l,d)}return t.T}function RA(e,t,n){return new Yi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bl(e,t){return jf(Xn(e),Xn(t))&&e.limitType===t.limitType}function MA(e){return vl(Xn(e))+"|lt:"+e.limitType}function Vy(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(r=i).field.canonicalString()+" "+r.op+" "+Zy(r.value);var r}).join(", ")+"]"),Xo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(r){return r.field.canonicalString()+" ("+r.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Tf(t.startAt)),t.endAt&&(n+=", endAt: "+Tf(t.endAt)),"Target("+n+")"}(Xn(e))+"; limitType="+e.limitType+")"}function yl(e,t){return t.isFoundDocument()&&function(n,i){var r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):J.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(var r=0,s=n.explicitOrderBy;r<s.length;r++){var c=s[r];if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var r=0,s=n.filters;r<s.length;r++)if(!s[r].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!yD(n.startAt,Ta(n),i))&&(!n.endAt||!yD(n.endAt,Ta(n),i))}(e,t)}function OA(e){return function(t,n){for(var i=!1,r=0,s=Ta(e);r<s.length;r++){var c=s[r],l=q2(c,t,n);if(l!==0)return l;i=i||c.field.isKeyField()}return 0}}function q2(e,t,n){var i=e.field.isKeyField()?J.comparator(t.key,n.key):function(r,s,c){var l=s.data.field(r),d=c.data.field(r);return l!==null&&d!==null?Sa(l,d):Q()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}function NA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function PA(e){return{integerValue:""+e}}function FA(e,t){return xA(t)?PA(t):NA(e,t)}function H2(e,t,n){return e instanceof xa?function(i,r){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Wo?jA(e,t):e instanceof $o?VA(e,t):function(i,r){var s=LA(i,r),c=wD(s)+wD(i.A);return jy(s)&&jy(i.A)?PA(c):NA(i.R,c)}(e,t)}function G2(e,t,n){return e instanceof Wo?jA(e,t):e instanceof $o?VA(e,t):n}function LA(e,t){return e instanceof Da?jy(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}function jA(e,t){for(var n=UA(t),i=function(c){n.some(function(l){return ki(l,c)})||n.push(c)},r=0,s=e.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}function VA(e,t){for(var n=UA(t),i=function(c){n=n.filter(function(l){return!ki(l,c)})},r=0,s=e.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}function wD(e){return ye(e.integerValue||e.doubleValue)}function UA(e){return Jy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function bf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}function $2(e,t,n){e instanceof wl?function(i,r,s){var c=i.value.clone(),l=CD(i.fieldTransforms,r,s.transformResults);c.setAll(l),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Br?function(i,r,s){if(bf(i.precondition,r)){var c=CD(i.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(BA(i)),l.setAll(c),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else r.convertToUnknownDocument(s.version)}(e,t,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Uy(e,t,n){e instanceof wl?function(i,r,s){if(bf(i.precondition,r)){var c=i.value.clone(),l=SD(i.fieldTransforms,s,r);c.setAll(l),r.convertToFoundDocument(ED(r),c).setHasLocalMutations()}}(e,t,n):e instanceof Br?function(i,r,s){if(bf(i.precondition,r)){var c=SD(i.fieldTransforms,s,r),l=r.data;l.setAll(BA(i)),l.setAll(c),r.convertToFoundDocument(ED(r),l).setHasLocalMutations()}}(e,t,n):function(i,r){bf(i.precondition,r)&&r.convertToNoDocument(bt.min())}(e,t)}function K2(e,t){for(var n=null,i=0,r=e.fieldTransforms;i<r.length;i++){var s=r[i],c=t.data.field(s.field),l=LA(s.transform,c||null);l!=null&&(n==null&&(n=jn.empty()),n.set(s.field,l))}return n||null}function ID(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ia(n,i,function(r,s){return function(c,l){return c.field.isEqual(l.field)&&function(d,f){return d instanceof Wo&&f instanceof Wo||d instanceof $o&&f instanceof $o?Ia(d.elements,f.elements,ki):d instanceof Da&&f instanceof Da?ki(d.A,f.A):d instanceof xa&&f instanceof xa}(c.transform,l.transform)}(r,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ED(e){return e.isFoundDocument()?e.version:bt.min()}function BA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function CD(e,t,n){var i=new Map;at(e.length===n.length);for(var r=0;r<n.length;r++){var s=e[r],c=s.transform,l=t.data.field(s.field);i.set(s.field,G2(c,l,n[r]))}return i}function SD(e,t,n){for(var i=new Map,r=0,s=e;r<s.length;r++){var c=s[r],l=c.transform,d=n.data.field(c.field);i.set(c.field,H2(l,d,t))}return i}function zA(e){switch(e){case T.OK:return Q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0;default:return Q()}}function qA(e){if(e===void 0)return _e("GRPC error has no .code"),T.UNKNOWN;switch(e){case be.OK:return T.OK;case be.CANCELLED:return T.CANCELLED;case be.UNKNOWN:return T.UNKNOWN;case be.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case be.INTERNAL:return T.INTERNAL;case be.UNAVAILABLE:return T.UNAVAILABLE;case be.UNAUTHENTICATED:return T.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case be.NOT_FOUND:return T.NOT_FOUND;case be.ALREADY_EXISTS:return T.ALREADY_EXISTS;case be.PERMISSION_DENIED:return T.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case be.ABORTED:return T.ABORTED;case be.OUT_OF_RANGE:return T.OUT_OF_RANGE;case be.UNIMPLEMENTED:return T.UNIMPLEMENTED;case be.DATA_LOSS:return T.DATA_LOSS;default:return Q()}}function Yn(){return X2}function By(){return Q2}function HA(){return Z2}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=J2,i=0,r=e;i<r.length;i++){var s=r[i];n=n.add(s)}return n}function Bf(){return tU}function DD(){return new Ze(J.comparator)}function AD(){return new Ze(J.comparator)}function ll(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function $A(e,t){return e.I?t.toBase64():t.toUint8Array()}function oU(e,t){return ll(e,t.toTimestamp())}function ze(e){return at(!!e),bt.fromTimestamp(function(t){var n=Vr(t);return new an(n.seconds,n.nanos)}(e))}function s_(e,t){return function(n){return new Rt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function KA(e){var t=Rt.fromString(e);return at(nk(t)),t}function dl(e,t){return s_(e.databaseId,t.path)}function Di(e,t){var n=KA(t);if(n.get(1)!==e.databaseId.projectId)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(XA(n))}function zy(e,t){return s_(e.databaseId,t)}function YA(e){var t=KA(e);return t.length===4?Rt.emptyPath():XA(t)}function hl(e){return new Rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function XA(e){return at(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function kD(e,t,n){return{name:dl(e,t),fields:n.value.mapValue.fields}}function QA(e,t,n){var i=Di(e,t.name),r=ze(t.updateTime),s=new jn({mapValue:{fields:t.fields}}),c=He.newFoundDocument(i,r,s);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function Df(e,t){var n;if(t instanceof wl)n={update:kD(e,t.key,t.value)};else if(t instanceof Il)n={delete:dl(e,t.key)};else if(t instanceof Br)n={update:kD(e,t.key,t.data),updateMask:lU(t.fieldMask)};else{if(!(t instanceof i_))return Q();n={verify:dl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(r,s){var c=s.transform;if(c instanceof xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Da)return{fieldPath:s.field.canonicalString(),increment:c.A};throw Q()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:oU(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q()}(e,t.precondition)),n}function RD(e,t){var n=t.currentDocument?function(f){return f.updateTime!==void 0?Xe.updateTime(ze(f.updateTime)):f.exists!==void 0?Xe.exists(f.exists):Xe.none()}(t.currentDocument):Xe.none(),i=t.updateTransforms?t.updateTransforms.map(function(f){return function(m,v){var y=null;if("setToServerValue"in v)at(v.setToServerValue==="REQUEST_TIME"),y=new xa;else if("appendMissingElements"in v){var _=v.appendMissingElements.values||[];y=new Wo(_)}else if("removeAllFromArray"in v){var I=v.removeAllFromArray.values||[];y=new $o(I)}else"increment"in v?y=new Da(m,v.increment):Q();var E=di.fromServerFormat(v.fieldPath);return new _l(E,y)}(e,f)}):[];if(t.update){t.update.name;var r=Di(e,t.update.name),s=new jn({mapValue:{fields:t.update.fields}});if(t.updateMask){var c=function(f){var m=f.fieldPaths||[];return new Ea(m.map(function(v){return di.fromServerFormat(v)}))}(t.updateMask);return new Br(r,s,c,n,i)}return new wl(r,s,n,i)}if(t.delete){var l=Di(e,t.delete);return new Il(l,n)}if(t.verify){var d=Di(e,t.verify);return new i_(d,n)}return Q()}function ZA(e,t){return{documents:[zy(e,t.path)]}}function JA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=zy(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zy(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(l){if(l.length!==0){var d=l.map(function(f){return function(m){if(m.op==="=="){if(vD(m.value))return{unaryFilter:{field:ga(m.field),op:"IS_NAN"}};if(gD(m.value))return{unaryFilter:{field:ga(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(vD(m.value))return{unaryFilter:{field:ga(m.field),op:"IS_NOT_NAN"}};if(gD(m.value))return{unaryFilter:{field:ga(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(m.field),op:aU(m.op),value:m.value}}}(f)});return d.length===1?d[0]:{compositeFilter:{op:"AND",filters:d}}}}(t.filters);r&&(n.structuredQuery.where=r);var s=function(l){if(l.length!==0)return l.map(function(d){return function(f){return{field:ga(f.field),direction:sU(f.dir)}}(d)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var c=function(l,d){return l.I||Xo(d)?d:{value:d}}(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=MD(t.startAt)),t.endAt&&(n.structuredQuery.endAt=MD(t.endAt)),n}function tk(e){var t=YA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){at(i===1);var s=n.from[0];s.allDescendants?r=s.collectionId:t=t.child(s.collectionId)}var c=[];n.where&&(c=ek(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(y){return new wa(_a(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var d=null;n.limit&&(d=function(v){var y;return Xo(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var f=null;n.startAt&&(f=OD(n.startAt));var m=null;return n.endAt&&(m=OD(n.endAt)),kA(t,r,l,c,d,"F",f,m)}function ek(e){return e?e.unaryFilter!==void 0?[uU(e)]:e.fieldFilter!==void 0?[cU(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return ek(t)}).reduce(function(t,n){return t.concat(n)}):Q():[]}function MD(e){return{before:e.before,values:e.position}}function OD(e){var t=!!e.before,n=e.values||[];return new ul(n,t)}function sU(e){return nU[e]}function aU(e){return iU[e]}function ga(e){return{fieldPath:e.canonicalString()}}function _a(e){return di.fromServerFormat(e.fieldPath)}function cU(e){return Un.create(_a(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}function uU(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_a(e.unaryFilter.field);return Un.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_a(e.unaryFilter.field);return Un.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=_a(e.unaryFilter.field);return Un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=_a(e.unaryFilter.field);return Un.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Q()}}function lU(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function nk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function li(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ND(t)),t=dU(e.get(n),t);return ND(t)}function dU(e,t){for(var n=t,i=e.length,r=0;r<i;r++){var s=e.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function ND(e){return e+""}function Wi(e){var t=e.length;if(at(t>=2),t===2)return at(e.charAt(0)===""&&e.charAt(1)===""),Rt.emptyPath();for(var n=t-2,i=[],r="",s=0;s<t;){var c=e.indexOf("",s);switch((c<0||c>n)&&Q(),e.charAt(c+1)){case"":var l=e.substring(s,c),d=void 0;r.length===0?d=l:(d=r+=l,r=""),i.push(d);break;case"":r+=e.substring(s,c),r+="\0";break;case"":r+=e.substring(s,c+1);break;default:Q()}s=c+2}return new Rt(i)}function Qo(e){return e.name==="IndexedDbTransactionError"}function Uo(e){return new N(function(t,n){e.onsuccess=function(i){var r=i.target.result;t(r)},e.onerror=function(i){var r=a_(i.target.error);n(r)}})}function a_(e){var t=Ra._t(Cr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new O("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return PD||(PD=!0,setTimeout(function(){throw i},0)),i}}return e}function wn(e,t){var n=H(e);return Ra.It(n.Mt,t)}function qy(e,t){if(t.document)return QA(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=J.fromSegments(t.noDocument.path),i=Oa(t.noDocument.readTime),r=He.newNoDocument(n,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){var s=J.fromSegments(t.unknownDocument.path);return i=Oa(t.unknownDocument.version),He.newUnknownDocument(s,i)}return Q()}function LD(e,t,n){var i=u_(n),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,y){return{name:dl(v,y.key),fields:y.data.value.mapValue.fields,updateTime:ll(v,y.version.toTimestamp())}}(e.Lt,t),c=t.hasCommittedMutations;return new ae(null,null,s,c,i,r)}if(t.isNoDocument()){var l=t.key.path.toArray(),d=Ma(t.version);return c=t.hasCommittedMutations,new ae(null,new fU(l,d),null,c,i,r)}if(t.isUnknownDocument()){var f=t.key.path.toArray(),m=Ma(t.version);return new ae(new pU(f,m),null,null,!0,i,r)}return Q()}function u_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ak(e){var t=new an(e[0],e[1]);return bt.fromTimestamp(t)}function Ma(e){var t=e.toTimestamp();return new hU(t.seconds,t.nanoseconds)}function Oa(e){var t=new an(e.seconds,e.nanoseconds);return bt.fromTimestamp(t)}function ba(e,t){for(var n=(t.baseMutations||[]).map(function(d){return RD(e.Lt,d)}),i=0;i<t.mutations.length-1;++i){var r=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];r.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var c=t.mutations.map(function(d){return RD(e.Lt,d)}),l=an.fromMillis(t.localWriteTimeMs);return new c_(t.batchId,l,n,c)}function il(e){var t,n,i=Oa(e.readTime),r=e.lastLimboFreeSnapshotVersion!==void 0?Oa(e.lastLimboFreeSnapshotVersion):bt.min();return e.query.documents!==void 0?(at((n=e.query).documents.length===1),t=Xn(Ba(YA(n.documents[0])))):t=function(s){return Xn(tk(s))}(e.query),new zf(t,e.targetId,0,e.lastListenSequenceNumber,i,r,cn.fromBase64String(e.resumeToken))}function ck(e,t){var n,i=Ma(t.snapshotVersion),r=Ma(t.lastLimboFreeSnapshotVersion);n=Sf(t.target)?ZA(e.Lt,t.target):JA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new _n(t.targetId,vl(t.target),i,s,t.sequenceNumber,r,n)}function l_(e){var t=tk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?RA(t,t.limit,"L"):t}function jD(e){return wn(e,Aa.store)}function VD(e){return wn(e,ka.store)}function UD(e){return wn(e,qo.store)}function uk(e,t,n){var i=e.store(Gt.store),r=e.store(Ke.store),s=[],c=IDBKeyRange.only(n.batchId),l=0,d=i.$t({range:c},function(I,E,S){return l++,S.delete()});s.push(d.next(function(){at(l===1)}));for(var f=[],m=0,v=n.mutations;m<v.length;m++){var y=v[m],_=Ke.key(t,y.key.path,n.batchId);s.push(r.delete(_)),f.push(y.key)}return N.waitFor(s).next(function(){return f})}function Af(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Q();t=e.noDocument}return JSON.stringify(t).length}function lk(e,t,n){var i=Ke.prefixForPath(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),c=!1;return ya(e).$t({range:s,Ft:!0},function(l,d,f){var m=l[0],v=l[1];l[2],m===t&&v===r&&(c=!0),f.done()}).next(function(){return c})}function Ar(e){return wn(e,Gt.store)}function ya(e){return wn(e,Ke.store)}function dk(e){return wn(e,Fr.store)}function va(e){return wn(e,_n.store)}function zD(e){return wn(e,Ln.store)}function Or(e){return wn(e,qe.store)}function Zo(e){return A(this,void 0,void 0,function(){return D(this,function(t){if(e.code!==T.FAILED_PRECONDITION||e.message!==ik)throw e;return U("LocalStore","Unexpectedly lost primary lease"),[2]})})}function qD(e,t){var n=e[0],i=e[1],r=t[0],s=t[1],c=Et(n,r);return c===0?Et(i,s):c}function ff(e,t){return Or(e).put(function(n,i){return new qe(0,li(n.path),i)}(t,e.currentSequenceNumber))}function HD(e){return wn(e,xi.store)}function Rr(e){return wn(e,ae.store)}function pf(e){return e.path.toArray()}function GD(e){e.createObjectStore(qe.store,{keyPath:qe.keyPath}).createIndex(qe.documentTargetsIndex,qe.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(_n.store,{keyPath:_n.keyPath}).createIndex(_n.queryTargetsIndexName,_n.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ln.store)}function nl(e){return wn(e,Fn.store)}function mf(e){return wn(e,$i.store)}function h_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function mk(e,t,n,i){return new NU(e,t,n,i)}function gk(e,t){return A(this,void 0,void 0,function(){var n,i,r,s;return D(this,function(c){switch(c.label){case 0:return n=H(e),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var d;return n._n.getAllMutationBatches(l).next(function(f){return d=f,i=n.persistence.getMutationQueue(t),r=new fk(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(f){for(var m=[],v=[],y=Lt(),_=0,I=d;_<I.length;_++){var E=I[_];m.push(E.batchId);for(var S=0,R=E.mutations;S<R.length;S++){var j=R[S];y=y.add(j.key)}}for(var B=0,et=f;B<et.length;B++){var ft=et[B];v.push(ft.batchId);for(var V=0,jt=ft.mutations;V<jt.length;V++){var ti=jt[V];y=y.add(ti.key)}}return r.pn(l,y).next(function(Y){return{Ln:Y,removedBatchIds:m,addedBatchIds:v}})})})];case 1:return s=c.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),s)]}})})}function PU(e,t){var n=H(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var r=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){var m=d.batch,v=m.keys(),y=N.resolve();return v.forEach(function(_){y=y.next(function(){return f.getEntry(l,_)}).next(function(I){var E=d.docVersions.get(_);at(E!==null),I.version.compareTo(E)<0&&(m.applyToRemoteDocument(I,d),I.isValidDocument()&&f.addEntry(I,d.commitVersion))})}),y.next(function(){return c._n.removeMutationBatch(l,m)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,r)})})}function vk(e){var t=H(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function FU(e,t){var n=H(e),i=t.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var c=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var l=[];t.targetChanges.forEach(function(m,v){var y=r.get(v);if(y){l.push(n.qe.removeMatchingKeys(s,m.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,m.addedDocuments,v)}));var _=m.resumeToken;if(_.approximateByteSize()>0){var I=y.withResumeToken(_,i).withSequenceNumber(s.currentSequenceNumber);r=r.insert(v,I),function(E,S,R){return at(S.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,I,m)&&l.push(n.qe.updateTargetData(s,I))}}});var d=Yn();if(t.documentUpdates.forEach(function(m,v){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(bk(s,c,t.documentUpdates,i,void 0).next(function(m){d=m})),!i.isEqual(bt.min())){var f=n.qe.getLastRemoteSnapshotVersion(s).next(function(m){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(f)}return N.waitFor(l).next(function(){return c.apply(s)}).next(function(){return n.Mn.En(s,d)}).next(function(){return d})}).then(function(s){return n.kn=r,s})}function bk(e,t,n,i,r){var s=Lt();return n.forEach(function(c){return s=s.add(c)}),t.getEntries(e,s).next(function(c){var l=Yn();return n.forEach(function(d,f){var m=c.get(d),v=r?.get(d)||i;f.isNoDocument()&&f.version.isEqual(bt.min())?(t.removeEntry(d,v),l=l.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f,v),l=l.insert(d,f)):U("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),l})}function LU(e,t){var n=H(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Na(e,t){var n=H(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var r;return n.qe.getTargetData(i,t).next(function(s){return s?(r=s,N.resolve(r)):n.qe.allocateTargetId(i).next(function(c){return r=new zf(t,c,0,i.currentSequenceNumber),n.qe.addTargetData(i,r).next(function(){return r})})})}).then(function(i){var r=n.kn.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function Pa(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c;return D(this,function(l){switch(l.label){case 0:i=H(e),r=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(d){return i.persistence.referenceDelegate.removeTarget(d,r)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Qo(c=l.sent()))throw c;return U("LocalStore","Failed to update sequence numbers for target "+t+": "+c),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(r.target),[2]}})})}function Rf(e,t,n){var i=H(e),r=bt.min(),s=Lt();return i.persistence.runTransaction("Execute query","readonly",function(c){return function(l,d,f){var m=H(l),v=m.Fn.get(f);return v!==void 0?N.resolve(m.kn.get(v)):m.qe.getTargetData(d,f)}(i,c,Xn(t)).next(function(l){if(l)return r=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(c,l.targetId).next(function(d){s=d})}).next(function(){return i.xn.getDocumentsMatchingQuery(c,t,n?r:bt.min(),n?s:Lt())}).next(function(l){return{documents:l,Bn:s}})})}function yk(e,t){var n=H(e),i=H(n.qe),r=n.kn.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(c){return c?c.target:null})})}function _k(e){var t=H(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,r,s){var c=H(i),l=Yn(),d=u_(s),f=Rr(r),m=IDBKeyRange.lowerBound(d,!0);return f.$t({index:ae.readTimeIndex,range:m},function(v,y){var _=qy(c.R,y);l=l.insert(_.key,_),d=y.readTime}).next(function(){return{wn:l,readTime:ak(d)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,r=n.readTime;return t.$n=r,i})}function jU(e){return A(this,void 0,void 0,function(){var t;return D(this,function(n){return[2,(t=H(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(r){var s=Rr(r),c=bt.min();return s.$t({index:ae.readTimeIndex,reverse:!0},function(l,d,f){d.readTime&&(c=ak(d.readTime)),f.done()}).next(function(){return c})}(i)}).then(function(i){t.$n=i})]})})}function VU(e,t,n,i){return A(this,void 0,void 0,function(){var r,s,c,l,d,f,m,v,y,_;return D(this,function(I){switch(I.label){case 0:for(r=H(e),s=Lt(),c=Yn(),l=HA(),d=0,f=n;d<f.length;d++)m=f[d],v=t.qn(m.metadata.name),m.document&&(s=s.add(v)),c=c.insert(v,t.Un(m)),l=l.insert(v,t.Kn(m.metadata.readTime));return y=r.On.newChangeBuffer({trackRemovals:!0}),[4,Na(r,function(E){return Xn(Ba(Rt.fromString("__bundle__/docs/"+E)))}(i))];case 1:return _=I.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return bk(E,y,c,bt.min(),l).next(function(S){return y.apply(E),S}).next(function(S){return r.qe.removeMatchingKeysForTargetId(E,_.targetId).next(function(){return r.qe.addMatchingKeys(E,s,_.targetId)}).next(function(){return r.Mn.En(E,S)}).next(function(){return S})})})]}})})}function UU(e,t,n){return n===void 0&&(n=Lt()),A(this,void 0,void 0,function(){var i,r;return D(this,function(s){switch(s.label){case 0:return[4,Na(e,Xn(l_(t.bundledQuery)))];case 1:return i=s.sent(),[2,(r=H(e)).persistence.runTransaction("Save named query","readwrite",function(c){var l=ze(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ke.saveNamedQuery(c,t);var d=i.withResumeToken(cn.EMPTY_BYTE_STRING,l);return r.kn=r.kn.insert(d.targetId,d),r.qe.updateTargetData(c,d).next(function(){return r.qe.removeMatchingKeysForTargetId(c,i.targetId)}).next(function(){return r.qe.addMatchingKeys(c,n,i.targetId)}).next(function(){return r.Ke.saveNamedQuery(c,t)})})]}})})}function WD(e,t){return"firestore_clients_"+e+"_"+t}function $D(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Oy(e,t){return"firestore_targets_"+e+"_"+t}function Ik(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}function qf(e){return new rU(e,!0)}function El(e){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:if(!zr(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function qa(e){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Hf(e,t){var n=H(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),v_(n)?g_(n):Ga(n).er()&&m_(n,t))}function fl(e,t){var n=H(e),i=Ga(n);n.$r.delete(t),i.er()&&Ck(n,t),n.$r.size===0&&(i.er()?i.ir():zr(n)&&n.Br.set("Unknown"))}function m_(e,t){e.qr.U(t.targetId),Ga(e).mr(t)}function Ck(e,t){e.qr.U(t),Ga(e).yr(t)}function g_(e){e.qr=new eU({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ga(e).start(),e.Br.Sr()}function v_(e){return zr(e)&&!Ga(e).tr()&&e.$r.size>0}function zr(e){return H(e).Or.size===0}function Sk(e){e.qr=void 0}function oB(e){return A(this,void 0,void 0,function(){return D(this,function(t){return e.$r.forEach(function(n,i){m_(e,n)}),[2]})})}function sB(e,t){return A(this,void 0,void 0,function(){return D(this,function(n){return Sk(e),v_(e)?(e.Br.Nr(t),g_(e)):e.Br.set("Unknown"),[2]})})}function aB(e,t,n){return A(this,void 0,void 0,function(){var i,r,s;return D(this,function(c){switch(c.label){case 0:if(e.Br.set("Online"),!(t instanceof WA&&t.state===2&&t.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(l,d){return A(this,void 0,void 0,function(){var f,m,v,y;return D(this,function(_){switch(_.label){case 0:f=d.cause,m=0,v=d.targetIds,_.label=1;case 1:return m<v.length?(y=v[m],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,f)]:[3,3]):[3,5];case 2:_.sent(),l.$r.delete(y),l.qr.removeTarget(y),_.label=3;case 3:_.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return c.sent(),[3,5];case 3:return i=c.sent(),U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Mf(e,i)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof yf?e.qr.X(t):t instanceof GA?e.qr.rt(t):e.qr.et(t),n.isEqual(bt.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,vk(e.localStore)];case 8:return r=c.sent(),n.compareTo(r)>=0?[4,function(l,d){var f=l.qr.ut(d);return f.targetChanges.forEach(function(m,v){if(m.resumeToken.approximateByteSize()>0){var y=l.$r.get(v);y&&l.$r.set(v,y.withResumeToken(m.resumeToken,d))}}),f.targetMismatches.forEach(function(m){var v=l.$r.get(m);if(v){l.$r.set(m,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),Ck(l,m);var y=new zf(v.target,m,1,v.sequenceNumber);m_(l,y)}}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return U("RemoteStore","Failed to raise snapshot:",s=c.sent()),[4,Mf(e,s)];case 12:return c.sent(),[3,13];case 13:return[2]}})})}function Mf(e,t,n){return A(this,void 0,void 0,function(){var i=this;return D(this,function(r){switch(r.label){case 0:if(!Qo(t))throw t;return e.Or.add(1),[4,qa(e)];case 1:return r.sent(),e.Br.set("Offline"),n||(n=function(){return vk(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(i,void 0,void 0,function(){return D(this,function(s){switch(s.label){case 0:return U("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,El(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Tk(e,t){return t().catch(function(n){return Mf(e,n,t)})}function Ha(e){return A(this,void 0,void 0,function(){var t,n,i,r,s;return D(this,function(c){switch(c.label){case 0:t=H(e),n=Ur(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,c.label=1;case 1:if(!function(l){return zr(l)&&l.Fr.length<10}(t))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,LU(t.localStore,i)];case 3:return(r=c.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=r.batchId,function(l,d){l.Fr.push(d);var f=Ur(l);f.er()&&f.pr&&f.Er(d.mutations)}(t,r),[3,6]);case 4:return s=c.sent(),[4,Mf(t,s)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return xk(t)&&Dk(t),[2]}})})}function xk(e){return zr(e)&&!Ur(e).tr()&&e.Fr.length>0}function Dk(e){Ur(e).start()}function cB(e){return A(this,void 0,void 0,function(){return D(this,function(t){return Ur(e).Ar(),[2]})})}function uB(e){return A(this,void 0,void 0,function(){var t,n,i,r;return D(this,function(s){for(t=Ur(e),n=0,i=e.Fr;n<i.length;n++)r=i[n],t.Er(r.mutations);return[2]})})}function lB(e,t,n){return A(this,void 0,void 0,function(){var i,r;return D(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),r=bU.from(i,t,n),[4,Tk(e,function(){return e.remoteSyncer.applySuccessfulWrite(r)})];case 1:return s.sent(),[4,Ha(e)];case 2:return s.sent(),[2]}})})}function dB(e,t){return A(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return t&&Ur(e).pr?[4,function(i,r){return A(this,void 0,void 0,function(){var s,c;return D(this,function(l){switch(l.label){case 0:return zA(c=r.code)&&c!==T.ABORTED?(s=i.Fr.shift(),Ur(i).sr(),[4,Tk(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,r)})]):[3,3];case 1:return l.sent(),[4,Ha(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xk(e)&&Dk(e),[2]}})})}function Gy(e,t){return A(this,void 0,void 0,function(){var n;return D(this,function(i){switch(i.label){case 0:return n=H(e),t?(n.Or.delete(2),[4,El(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,qa(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Ga(e){var t=this;return e.Ur||(e.Ur=function(n,i,r){var s=H(n);return s.br(),new tB(i,s.Hi,s.credentials,s.R,r)}(e.datastore,e.asyncQueue,{Ii:oB.bind(null,e),Ri:sB.bind(null,e),_r:aB.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),v_(e)?g_(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),Sk(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Ur(e){var t=this;return e.Kr||(e.Kr=function(n,i,r){var s=H(n);return s.br(),new eB(i,s.Hi,s.credentials,s.R,r)}(e.datastore,e.asyncQueue,{Ii:cB.bind(null,e),Ri:dB.bind(null,e),Ir:uB.bind(null,e),Tr:lB.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Ha(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(U("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}function Wa(e,t){if(_e("AsyncQueue",t+": "+e),Qo(e))return new O(T.UNAVAILABLE,t+": "+e);throw e}function b_(e,t){return A(this,void 0,void 0,function(){var n,i,r,s,c,l,d;return D(this,function(f){switch(f.label){case 0:if(n=H(e),i=t.query,r=!1,(s=n.queries.get(i))||(r=!0,s=new fB),!r)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),c=s,[4,n.onListen(i)];case 2:return c.Wr=f.sent(),[3,4];case 3:return l=f.sent(),d=Wa(l,"Initialization of query '"+Vy(t.query)+"' failed"),[2,void t.onError(d)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&__(n),[2]}})})}function y_(e,t){return A(this,void 0,void 0,function(){var n,i,r,s,c;return D(this,function(l){return n=H(e),i=t.query,r=!1,(s=n.queries.get(i))&&(c=s.listeners.indexOf(t))>=0&&(s.listeners.splice(c,1),r=s.listeners.length===0),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function mB(e,t){for(var n=H(e),i=!1,r=0,s=t;r<s.length;r++){var c=s[r],l=c.query,d=n.queries.get(l);if(d){for(var f=0,m=d.listeners;f<m.length;f++)m[f].Hr(c)&&(i=!0);d.Wr=c}}i&&__(n)}function gB(e,t,n){var i=H(e),r=i.queries.get(t);if(r)for(var s=0,c=r.listeners;s<c.length;s++)c[s].onError(n);i.queries.delete(t)}function __(e){e.Gr.forEach(function(t){t.next()})}function bB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function IB(e,t){return A(this,void 0,void 0,function(){var n,i,r,s,c,l;return D(this,function(d){switch(d.label){case 0:return n=T_(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Na(n.localStore,Xn(t))];case 2:return c=d.sent(),l=n.sharedClientState.addLocalQueryTarget(c.targetId),i=c.targetId,[4,I_(n,t,i,l==="current")];case 3:r=d.sent(),n.isPrimaryClient&&Hf(n.remoteStore,c),d.label=4;case 4:return[2,r]}})})}function I_(e,t,n,i){return A(this,void 0,void 0,function(){var r,s,c,l,d,f;return D(this,function(m){switch(m.label){case 0:return e.Oo=function(v,y,_){return function(I,E,S,R){return A(this,void 0,void 0,function(){var j,B,et;return D(this,function(ft){switch(ft.label){case 0:return j=E.view._o(S),j.Nn?[4,Rf(I.localStore,E.query,!1).then(function(V){var jt=V.documents;return E.view._o(jt,j)})]:[3,2];case 1:j=ft.sent(),ft.label=2;case 2:return B=R&&R.targetChanges.get(E.targetId),et=E.view.applyChanges(j,I.isPrimaryClient,B),[2,(Wy(I,E.targetId,et.To),et.snapshot)]}})})}(e,v,y,_)},[4,Rf(e.localStore,t,!0)];case 1:return r=m.sent(),s=new Mk(t,r.Bn),c=s._o(r.documents),l=o_.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),d=s.applyChanges(c,e.isPrimaryClient,l),Wy(e,n,d.To),f=new yB(t,n,s),[2,(e.Po.set(t,f),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),d.snapshot)]}})})}function EB(e,t){return A(this,void 0,void 0,function(){var n,i,r;return D(this,function(s){switch(s.label){case 0:return n=H(e),i=n.Po.get(t),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter(function(c){return!bl(c,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Pa(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),fl(n.remoteStore,i.targetId),Fa(n,i.targetId)}).catch(Zo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Fa(n,i.targetId),[4,Pa(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function CB(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c;return D(this,function(l){switch(l.label){case 0:i=x_(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(d,f){var m,v=H(d),y=an.now(),_=f.reduce(function(I,E){return I.add(E.key)},Lt());return v.persistence.runTransaction("Locally write mutations","readwrite",function(I){return v.Mn.pn(I,_).next(function(E){m=E;for(var S=[],R=0,j=f;R<j.length;R++){var B=j[R],et=K2(B,m.get(B.key));et!=null&&S.push(new Br(B.key,et,DA(et.value.mapValue),Xe.exists(!0)))}return v._n.addMutationBatch(I,y,S,f)})}).then(function(I){return I.applyToLocalDocumentSet(m),{batchId:I.batchId,changes:m}})}(i.localStore,t)];case 2:return r=l.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(d,f,m){var v=d.xo[d.currentUser.toKey()];v||(v=new Ze(Et)),v=v.insert(f,m),d.xo[d.currentUser.toKey()]=v}(i,r.batchId,n),[4,qr(i,r.changes)];case 3:return l.sent(),[4,Ha(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),c=Wa(s,"Failed to persist write"),n.reject(c),[3,6];case 6:return[2]}})})}function Ok(e,t){return A(this,void 0,void 0,function(){var n,i;return D(this,function(r){switch(r.label){case 0:n=H(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,FU(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach(function(s,c){var l=n.Co.get(c);l&&(at(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?at(l.bo):s.removedDocuments.size>0&&(at(l.bo),l.bo=!1))}),[4,qr(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Zo(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function JD(e,t,n){var i=H(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var r=[];i.Po.forEach(function(s,c){var l=c.view.zr(t);l.snapshot&&r.push(l.snapshot)}),function(s,c){var l=H(s);l.onlineState=c;var d=!1;l.queries.forEach(function(f,m){for(var v=0,y=m.listeners;v<y.length;v++)y[v].zr(c)&&(d=!0)}),d&&__(l)}(i.eventManager,t),r.length&&i.vo._r(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function SB(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c,l,d;return D(this,function(f){switch(f.label){case 0:return(i=H(e)).sharedClientState.updateQueryState(t,"rejected",n),r=i.Co.get(t),(s=r&&r.key)?(c=(c=new Ze(J.comparator)).insert(s,He.newNoDocument(s,bt.min())),l=Lt().add(s),d=new r_(bt.min(),new Map,new xe(Et),c,l),[4,Ok(i,d)]):[3,2];case 1:return f.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),S_(i),[3,4];case 2:return[4,Pa(i.localStore,t,!1).then(function(){return Fa(i,t,n)}).catch(Zo)];case 3:f.sent(),f.label=4;case 4:return[2]}})})}function TB(e,t){return A(this,void 0,void 0,function(){var n,i,r;return D(this,function(s){switch(s.label){case 0:n=H(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,PU(n.localStore,t)];case 2:return r=s.sent(),C_(n,i,null),E_(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,qr(n,r)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function xB(e,t,n){return A(this,void 0,void 0,function(){var i,r;return D(this,function(s){switch(s.label){case 0:i=H(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(c,l){var d=H(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",function(f){var m;return d._n.lookupMutationBatch(f,l).next(function(v){return at(v!==null),m=v.keys(),d._n.removeMutationBatch(f,v)}).next(function(){return d._n.performConsistencyCheck(f)}).next(function(){return d.Mn.pn(f,m)})})}(i.localStore,t)];case 2:return r=s.sent(),C_(i,t,n),E_(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,qr(i,r)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function DB(e,t){return A(this,void 0,void 0,function(){var n,i,r,s,c;return D(this,function(l){switch(l.label){case 0:zr((n=H(e)).remoteStore)||U("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(d){var f=H(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return f._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((r=n.ko.get(i)||[]).push(t),n.ko.set(i,r),[3,4]);case 3:return s=l.sent(),c=Wa(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(c),[3,4];case 4:return[2]}})})}function E_(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function C_(e,t,n){var i=H(e),r=i.xo[i.currentUser.toKey()];if(r){var s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.xo[i.currentUser.toKey()]=r}}function Fa(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,r=e.Vo.get(t);i<r.length;i++){var s=r[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(c){e.No.containsKey(c)||Nk(e,c)})}function Nk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(fl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),S_(e))}function Wy(e,t,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof kk?(e.No.addReference(s.key,t),AB(e,s)):s instanceof Rk?(U("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Nk(e,s.key)):Q()}}function AB(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(U("SyncEngine","New document in limbo: "+n),e.So.add(i),S_(e))}function S_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new J(Rt.fromString(t)),i=e.Fo.next();e.Co.set(i,new _B(n)),e.Do=e.Do.insert(n,i),Hf(e.remoteStore,new zf(Xn(Ba(n.path)),i,2,Vn.o))}}function qr(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c;return D(this,function(l){switch(l.label){case 0:return i=H(e),r=[],s=[],c=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(d,f){c.push(i.Oo(f,t,n).then(function(m){if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m.fromCache?"not-current":"current"),r.push(m);var v=OU.Pn(f.targetId,m);s.push(v)}}))}),[4,Promise.all(c)]);case 1:return l.sent(),i.vo._r(r),[4,function(d,f){return A(this,void 0,void 0,function(){var m,v,y,_,I,E,S,R,j;return D(this,function(B){switch(B.label){case 0:m=H(d),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(et){return N.forEach(f,function(ft){return N.forEach(ft.bn,function(V){return m.persistence.referenceDelegate.addReference(et,ft.targetId,V)}).next(function(){return N.forEach(ft.vn,function(V){return m.persistence.referenceDelegate.removeReference(et,ft.targetId,V)})})})})];case 2:return B.sent(),[3,4];case 3:if(!Qo(v=B.sent()))throw v;return U("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,_=f;y<_.length;y++)I=_[y],E=I.targetId,I.fromCache||(S=m.kn.get(E),R=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(R),m.kn=m.kn.insert(E,j));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function kB(e,t){return A(this,void 0,void 0,function(){var n,i;return D(this,function(r){switch(r.label){case 0:return(n=H(e)).currentUser.isEqual(t)?[3,3]:(U("SyncEngine","User change. New user:",t.toKey()),[4,gk(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(s,c){s.ko.forEach(function(l){l.forEach(function(d){d.reject(new O(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,qr(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function RB(e,t){var n=H(e),i=n.Co.get(t);if(i&&i.bo)return Lt().add(i.key);var r=Lt(),s=n.Vo.get(t);if(!s)return r;for(var c=0,l=s;c<l.length;c++){var d=l[c],f=n.Po.get(d);r=r.unionWith(f.view.wo)}return r}function MB(e,t){return A(this,void 0,void 0,function(){var n,i,r;return D(this,function(s){switch(s.label){case 0:return[4,Rf((n=H(e)).localStore,t.query,!0)];case 1:return i=s.sent(),r=t.view.Ao(i),[2,(n.isPrimaryClient&&Wy(n,t.targetId,r.To),r)]}})})}function OB(e){return A(this,void 0,void 0,function(){var t;return D(this,function(n){return[2,_k((t=H(e)).localStore).then(function(i){return qr(t,i)})]})})}function NB(e,t,n,i){return A(this,void 0,void 0,function(){var r,s;return D(this,function(c){switch(c.label){case 0:return[4,function(l,d){var f=H(l),m=H(f._n);return f.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return m.jt(v,d).next(function(y){return y?f.Mn.pn(v,y):N.resolve(null)})})}((r=H(e)).localStore,t)];case 1:return(s=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ha(r.remoteStore)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(C_(r,t,i||null),E_(r,t),function(l,d){H(H(l)._n).Gt(d)}(r.localStore,t)):Q(),c.label=4;case 4:return[4,qr(r,s)];case 5:return c.sent(),[3,7];case 6:U("SyncEngine","Cannot apply mutation batch with id: "+t),c.label=7;case 7:return[2]}})})}function PB(e,t){return A(this,void 0,void 0,function(){var n,i,r,s,c,l,d,f;return D(this,function(m){switch(m.label){case 0:return T_(n=H(e)),x_(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,tA(n,i.toArray())]);case 1:return r=m.sent(),n.$o=!0,[4,Gy(n.remoteStore,!0)];case 2:for(m.sent(),s=0,c=r;s<c.length;s++)l=c[s],Hf(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(d=[],f=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?d.push(y):f=f.then(function(){return Fa(n,y),Pa(n.localStore,y,!0)}),fl(n.remoteStore,y)}),[4,f]);case 4:return m.sent(),[4,tA(n,d)];case 5:return m.sent(),function(v){var y=H(v);y.Co.forEach(function(_,I){fl(y.remoteStore,I)}),y.No.ts(),y.Co=new Map,y.Do=new Ze(J.comparator)}(n),n.$o=!1,[4,Gy(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function tA(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c,l,d,f,m,v,y,_,I,E,S;return D(this,function(R){switch(R.label){case 0:i=H(e),r=[],s=[],c=0,l=t,R.label=1;case 1:return c<l.length?(d=l[c],f=void 0,(m=i.Vo.get(d))&&m.length!==0?[4,Na(i.localStore,Xn(m[0]))]:[3,7]):[3,13];case 2:f=R.sent(),v=0,y=m,R.label=3;case 3:return v<y.length?(_=y[v],I=i.Po.get(_),[4,MB(i,I)]):[3,6];case 4:(E=R.sent()).snapshot&&s.push(E.snapshot),R.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,yk(i.localStore,d)];case 8:return S=R.sent(),[4,Na(i.localStore,S)];case 9:return f=R.sent(),[4,I_(i,Pk(S),d,!1)];case 10:R.sent(),R.label=11;case 11:r.push(f),R.label=12;case 12:return c++,[3,1];case 13:return[2,(i.vo._r(s),r)]}})})}function Pk(e){return kA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function FB(e){var t=H(e);return H(H(t.localStore).persistence).fn()}function LB(e,t,n,i){return A(this,void 0,void 0,function(){var r,s,c;return D(this,function(l){switch(l.label){case 0:return(r=H(e)).$o?(U("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_k(r.localStore)];case 3:return s=l.sent(),c=r_.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,qr(r,s,c)];case 4:return l.sent(),[3,8];case 5:return[4,Pa(r.localStore,t,!0)];case 6:return l.sent(),Fa(r,t,i),[3,8];case 7:Q(),l.label=8;case 8:return[2]}})})}function jB(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c,l,d,f,m,v,y;return D(this,function(_){switch(_.label){case 0:if(!(i=T_(e)).$o)return[3,10];r=0,s=t,_.label=1;case 1:return r<s.length?(c=s[r],i.Vo.has(c)?(U("SyncEngine","Adding an already active target "+c),[3,5]):[4,yk(i.localStore,c)]):[3,6];case 2:return l=_.sent(),[4,Na(i.localStore,l)];case 3:return d=_.sent(),[4,I_(i,Pk(l),d.targetId,!1)];case 4:_.sent(),Hf(i.remoteStore,d),_.label=5;case 5:return r++,[3,1];case 6:f=function(I){return D(this,function(E){switch(E.label){case 0:return i.Vo.has(I)?[4,Pa(i.localStore,I,!1).then(function(){fl(i.remoteStore,I),Fa(i,I)}).catch(Zo)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},m=0,v=n,_.label=7;case 7:return m<v.length?(y=v[m],[5,f(y)]):[3,10];case 8:_.sent(),_.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function T_(e){var t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ok.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SB.bind(null,t),t.vo._r=mB.bind(null,t.eventManager),t.vo.Mo=gB.bind(null,t.eventManager),t}function x_(e){var t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xB.bind(null,t),t}function jk(e,t){return A(this,void 0,void 0,function(){var n,i,r=this;return D(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(c){return A(r,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return i.isEqual(c)?[3,2]:[4,gk(t.localStore,c)];case 1:l.sent(),i=c,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Vk(e,t){return A(this,void 0,void 0,function(){var n,i;return D(this,function(r){switch(r.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,D_(e)];case 1:return n=r.sent(),U("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=r.sent(),[4,t.initialize(n,i)];case 3:return r.sent(),e.setCredentialChangeListener(function(s){return function(c,l){return A(this,void 0,void 0,function(){var d,f;return D(this,function(m){switch(m.label){case 0:return(d=H(c)).asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials"),f=zr(d),d.Or.add(3),[4,qa(d)];case 1:return m.sent(),f&&d.Br.set("Unknown"),[4,d.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),d.Or.delete(3),[4,El(d)];case 3:return m.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function D_(e){return A(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(U("FirestoreClient","Using default OfflineComponentProvider"),[4,jk(e,new Fk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Wf(e){return A(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(U("FirestoreClient","Using default OnlineComponentProvider"),[4,Vk(e,new $y)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function eA(e){return D_(e).then(function(t){return t.persistence})}function Uk(e){return D_(e).then(function(t){return t.localStore})}function nA(e){return Wf(e).then(function(t){return t.remoteStore})}function Bk(e){return Wf(e).then(function(t){return t.syncEngine})}function La(e){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:return[4,Wf(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=IB.bind(null,t.syncEngine),n.onUnlisten=EB.bind(null,t.syncEngine),n)]}})})}function iA(e,t,n){var i=this;n===void 0&&(n={});var r=new Qe;return e.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var s;return D(this,function(c){switch(c.label){case 0:return s=function(l,d,f,m,v){var y=new Gf({next:function(I){d.enqueueAndForget(function(){return y_(l,_)});var E=I.docs.has(f);!E&&I.fromCache?v.reject(new O(T.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&m&&m.source==="server"?v.reject(new O(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:function(I){return v.reject(I)}}),_=new w_(Ba(f.path),y,{includeMetadataChanges:!0,so:!0});return b_(l,_)},[4,La(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,r])]}})})}),r.promise}function rA(e,t,n){var i=this;n===void 0&&(n={});var r=new Qe;return e.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var s;return D(this,function(c){switch(c.label){case 0:return s=function(l,d,f,m,v){var y=new Gf({next:function(I){d.enqueueAndForget(function(){return y_(l,_)}),I.fromCache&&m.source==="server"?v.reject(new O(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:function(I){return v.reject(I)}}),_=new w_(f,y,{includeMetadataChanges:!0,so:!0});return b_(l,_)},[4,La(e)];case 1:return[2,s.apply(void 0,[c.sent(),e.asyncQueue,t,n,r])]}})})}),r.promise}function A_(e,t,n){if(!n)throw new O(T.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function k_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new O(T.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function qk(e,t,n,i){if(t===!0&&i===!0)throw new O(T.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function aA(e){if(!J.isDocumentKey(e))throw new O(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function cA(e){if(J.isDocumentKey(e))throw new O(T.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function $f(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Q()}function Nt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new O(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$f(e);throw new O(T.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function uA(e,t){if(t<=0)throw new O(T.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}function Hk(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e=Ot(e),A_("collection","path",t),e instanceof pl)return cA(n=Rt.fromString.apply(Rt,Ut([t],i))),new Lr(e,null,n);if(!(e instanceof ee||e instanceof Lr))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cA(n=Rt.fromString.apply(Rt,Ut([e.path],i)).child(Rt.fromString(t))),new Lr(e.firestore,null,n)}function wf(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(e=Ot(e),arguments.length===1&&(t=IA.u()),A_("doc","path",t),e instanceof pl)return aA(n=Rt.fromString.apply(Rt,Ut([t],i))),new ee(e,null,new J(n));if(!(e instanceof ee||e instanceof Lr))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aA(n=e._path.child(Rt.fromString.apply(Rt,Ut([t],i)))),new ee(e.firestore,e instanceof Lr?e.converter:null,new J(n))}function Gk(e,t){return e=Ot(e),t=Ot(t),(e instanceof ee||e instanceof Lr)&&(t instanceof ee||t instanceof Lr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Wk(e,t){return e=Ot(e),t=Ot(t),e instanceof Bn&&t instanceof Bn&&e.firestore===t.firestore&&bl(e._query,t._query)&&e.converter===t.converter}function ja(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,r=0,s=["next","error","complete"];r<s.length;r++){var c=s[r];if(c in i&&typeof i[c]=="function")return!0}return!1}(e)}function Ye(e){return e._firestoreClient||Kk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kk(e){var t,n=e._freezeSettings(),i=function(r,s,c,l){return new qB(r,s,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zB(e._credentials,e._queue,i)}function dA(e,t,n){var i=this,r=new Qe;return e.asyncQueue.enqueue(function(){return A(i,void 0,void 0,function(){var s;return D(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,jk(e,n)];case 1:return c.sent(),[4,Vk(e,t)];case 2:return c.sent(),r.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===T.FAILED_PRECONDITION||l.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=c.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function hA(e){if(e._initialized||e._terminated)throw new O(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}function Xk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}function ts(e){var t=e._freezeSettings(),n=qf(e._databaseId);return new QB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kf(e,t,n,i,r,s){s===void 0&&(s={});var c=e.Uc(s.merge||s.mergeFields?2:0,t,n,r);N_("Data must be an object, but it was:",c,i);var l,d,f=tR(i,c);if(s.merge)l=new Ea(c.fieldMask),d=c.fieldTransforms;else if(s.mergeFields){for(var m=[],v=0,y=s.mergeFields;v<y.length;v++){var _=Ky(t,y[v],n);if(!c.contains(_))throw new O(T.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");nR(m,_)||m.push(_)}l=new Ea(m),d=c.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,d=c.fieldTransforms;return new XB(new jn(f),l,d)}function Zk(e,t,n){return new Qk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}function M_(e,t,n,i){var r=e.Uc(1,t,n);N_("Data must be an object, but it was:",r,i);var s=[],c=jn.empty();Yo(i,function(d,f){var m=P_(t,d,n);f=Ot(f);var v=r.Oc(m);if(f instanceof R_)s.push(m);else{var y=es(f,v);y!=null&&(s.push(m),c.set(m,y))}});var l=new Ea(s);return new Yk(c,l,r.fieldTransforms)}function O_(e,t,n,i,r,s){var c=e.Uc(1,t,n),l=[Ky(t,i,n)],d=[r];if(s.length%2!=0)throw new O(T.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<s.length;f+=2)l.push(Ky(t,s[f])),d.push(s[f+1]);for(var m=[],v=jn.empty(),y=l.length-1;y>=0;--y)if(!nR(m,l[y])){var _=l[y],I=d[y];I=Ot(I);var E=c.Oc(_);if(I instanceof R_)m.push(_);else{var S=es(I,E);S!=null&&(m.push(_),v.set(_,S))}}var R=new Ea(m);return new Yk(v,R,c.fieldTransforms)}function Jk(e,t,n,i){return i===void 0&&(i=!1),es(n,e.Uc(i?4:3,t))}function es(e,t){if(eR(e=Ot(e)))return N_("Unsupported field value:",t,e),tR(e,t);if(e instanceof Jo)return function(n,i){if(!Xk(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var r=[],s=0,c=0,l=n;c<l.length;c++){var d=es(l[c],i.Mc(s));d==null&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=Ot(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return FA(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var r=an.fromDate(n);return{timestampValue:ll(i.R,r)}}if(n instanceof an)return r=new an(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:ll(i.R,r)};if(n instanceof Cl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ko)return{bytesValue:$A(i.R,n._byteString)};if(n instanceof ee){r=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(r))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:s_(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+$f(n))}(e,t)}function tR(e,t){var n={};return CA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yo(e,function(i,r){var s=es(r,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function eR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof an||e instanceof Cl||e instanceof Ko||e instanceof ee||e instanceof Jo)}function N_(e,t,n){if(!eR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){var i=$f(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Ky(e,t,n){if((t=Ot(t))instanceof Ai)return t._internalPath;if(typeof t=="string")return P_(e,t);throw Pf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function P_(e,t,n){if(t.search(n4)>=0)throw Pf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ai.bind.apply(Ai,Ut([void 0],t.split("."))))()._internalPath}catch{throw Pf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Pf(e,t,n,i,r){var s=i&&!i.isEmpty(),c=r!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var d="";return(s||c)&&(d+=" (found",s&&(d+=" in field "+i),c&&(d+=" in document "+r),d+=")"),new O(T.INVALID_ARGUMENT,(l+=". ")+e+d)}function nR(e,t){return e.some(function(n){return n.isEqual(t)})}function Ff(e,t){return typeof t=="string"?P_(e,t):t instanceof Ai?t._internalPath:t._delegate._internalPath}function r4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function iR(e,t){return e instanceof Ki&&t instanceof Ki?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Nr&&t instanceof Nr&&e._firestore===t._firestore&&Wk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function rR(e){if(xf(e)&&e.explicitOrderBy.length===0)throw new O(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function kr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,r=t;i<r.length;i++){var s=r[i];e=s._apply(e)}return e}function oR(e,t,n,i){if(n[0]=Ot(n[0]),n[0]instanceof ml)return function(s,c,l,d,f){if(!d)throw new O(T.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],v=0,y=Ta(s);v<y.length;v++){var _=y[v];if(_.field.isKeyField())m.push(Cf(c,d.key));else{var I=d.data.field(_.field);if(Qy(I))throw new O(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var E=_.field.canonicalString();throw new O(T.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}m.push(I)}}return new ul(m,f)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var r=ts(e.firestore);return function(s,c,l,d,f,m){var v=s.explicitOrderBy;if(f.length>v.length)throw new O(T.INVALID_ARGUMENT,"Too many arguments provided to "+d+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],_=0;_<f.length;_++){var I=f[_];if(v[_].field.isKeyField()){if(typeof I!="string")throw new O(T.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+d+"(), but got a "+typeof I);if(!n_(s)&&I.indexOf("/")!==-1)throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+d+"() must be a plain document ID, but '"+I+"' contains a slash.");var E=s.path.child(Rt.fromString(I));if(!J.isDocumentKey(E))throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+d+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var S=new J(E);y.push(Cf(c,S))}else{var R=Jk(l,d,I);y.push(R)}}return new ul(y,m)}(e._query,e.firestore._databaseId,r,t,n,i)}function gA(e,t,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!n_(t)&&n.indexOf("/")!==-1)throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Rt.fromString(n));if(!J.isDocumentKey(i))throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Cf(e,new J(i))}if(n instanceof ee)return Cf(e,n._key);throw new O(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$f(n)+".")}function vA(e,t){if(!Array.isArray(e)||e.length===0)throw new O(T.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new O(T.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function sR(e,t,n){if(!n.isEqual(t))throw new O(T.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Yf(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function Pr(e,t){if((e=Ot(e)).firestore!==t)throw new O(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function bA(e,t,n){e=Nt(e,ee);var i=Nt(e.firestore,we),r=Yf(e.converter,t,n);return Tl(i,[Kf(ts(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Xe.none())])}function yA(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e=Nt(e,ee);var s=Nt(e.firestore,we),c=ts(s);return Tl(s,[(typeof(t=Ot(t))=="string"||t instanceof Ai?O_(c,"updateDoc",e._key,t,n,i):M_(c,"updateDoc",e._key,t)).toMutation(e._key,Xe.exists(!0))])}function aR(e){for(var t,n,i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];e=Ot(e);var c={includeMetadataChanges:!1},l=0;typeof r[l]!="object"||ja(r[l])||(c=r[l],l++);var d,f,m,v={includeMetadataChanges:c.includeMetadataChanges};if(ja(r[l])){var y=r[l];r[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),r[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),r[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(e instanceof ee)f=Nt(e.firestore,we),m=Ba(e._key.path),d={next:function(E){r[l]&&r[l](Yy(f,e,E))},error:r[l+1],complete:r[l+2]};else{var _=Nt(e,Bn);f=Nt(_.firestore,we),m=_._query;var I=new Ho(f);d={next:function(E){r[l]&&r[l](new Nr(f,I,_,E))},error:r[l+1],complete:r[l+2]},rR(e._query)}return function(E,S,R,j){var B=this,et=new Gf(j),ft=new w_(S,et,R);return E.asyncQueue.enqueueAndForget(function(){return A(B,void 0,void 0,function(){var V;return D(this,function(jt){switch(jt.label){case 0:return V=b_,[4,La(E)];case 1:return[2,V.apply(void 0,[jt.sent(),ft])]}})})}),function(){et.Wo(),E.asyncQueue.enqueueAndForget(function(){return A(B,void 0,void 0,function(){var V;return D(this,function(jt){switch(jt.label){case 0:return V=y_,[4,La(E)];case 1:return[2,V.apply(void 0,[jt.sent(),ft])]}})})})}}(Ye(f),m,v,d)}function Tl(e,t){return function(n,i){var r=this,s=new Qe;return n.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var c;return D(this,function(l){switch(l.label){case 0:return c=CB,[4,Bk(n)];case 1:return[2,c.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(Ye(e),t)}function Yy(e,t,n){var i=n.docs.get(t._key),r=new Ho(e);return new Ki(e,r,t._key,i,new Bo(n.hasPendingWrites,n.fromCache),t.converter)}function _A(){if(typeof Uint8Array>"u")throw new O(T.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wA(){if(typeof atob>"u")throw new O(T.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function uR(e){var t;t=e,ui.setLogLevel(t)}function sn(e,t,n){return e.message=e.message.replace(t,n),e}function lR(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!ja(i))return i}return{}}function dR(e,t){var n,i,r;return{next:function(s){r.next&&r.next(t(s))},error:(n=(r=ja(e[0])?e[0]:ja(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}function zo(e){return Nt(e,ee)}var Vn,T,O,ui,IA,an,bt,SA,Rt,M2,di,Ea,cn,O2,J,jn,He,N2,Un,P2,F2,L2,j2,V2,U2,B2,ul,wa,Yi,Vf,xa,Wo,$o,Da,_l,W2,Xe,Uf,wl,Br,be,xt,Il,i_,Y2,Ze,hf,Mr,xe,TD,X2,Q2,Z2,J2,tU,r_,o_,yf,GA,WA,xD,eU,nU,iU,rU,hU,Fn,Fr,Gt,Ke,fU,pU,ae,xi,_n,qe,Ln,qo,$i,Aa,ka,mU,ik,rk,Qe,N,ok,Ra,gU,ol,vU,PD,FD,c_,bU,zf,sk,yU,_U,d_,wU,BD,Ti,IU,kf,EU,CU,SU,TU,xU,za,hk,DU,AU,kU,My,RU,MU,fk,OU,pk,NU,BU,f_,Ne,zU,qU,HU,GU,WU,$U,KU,Be,KD,Ny,YD,YU,Hy,Py,wk,XU,XD,QU,ZU,JU,p_,Ek,tB,eB,nB,iB,rB,hB,Ak,QD,Of,fB,pB,w_,vB,ZD,$H,kk,Rk,Mk,yB,_B,wB,Fk,Lk,VB,$y,Gf,KH,UB,BB,zB,qB,Nf,oA,zk,sA,HB,GB,WB,$B,lA,pl,ee,Bn,Lr,KB,YH,$k,we,Ai,Ko,Jo,Cl,YB,XB,Yk,Qk,QB,R_,ZB,JB,t4,e4,n4,ml,i4,Bo,Ki,sl,Nr,Sl,o4,s4,fA,pA,mA,F_,a4,c4,Ho,u4,L_,cR,j_,Xf,V_,U_,Qf,jr,Va,Ua,xl,l4,Lf,gl,hR,fR,pR=xn(()=>{"use strict";ru();aa();Oh();Ry();Vn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(r){return i.t(r)},this.i=function(r){return n.writeSequenceNumber(r)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Vn.o=-1;T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(e){function t(n,i){var r=this;return(r=e.call(this,i)||this).code=n,r.message=i,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Z(t,e),t}(Error),ui=new Mh("@firebase/firestore");IA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var r=R2(40),s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length));return i},e}();an=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Et(this.nanoseconds,t.nanoseconds):Et(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),bt=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new an(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();SA=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&Q(),i===void 0?i=t.length-n:i>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),r=0;r<i;r++){var s=t.get(r),c=n.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Rt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.construct=function(n,i,r){return new t(n,i,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=[],s=0,c=n;s<c.length;s++){var l=c[s];if(l.indexOf("//")>=0)throw new O(T.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");r.push.apply(r,l.split("/").filter(function(d){return d.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(SA),M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,di=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.construct=function(n,i,r){return new t(n,i,r)},t.isValidIdentifier=function(n){return M2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],r="",s=0,c=function(){if(r.length===0)throw new O(T.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(r),r=""},l=!1;s<n.length;){var d=n[s];if(d==="\\"){if(s+1===n.length)throw new O(T.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var f=n[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new O(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(c(),s++)}if(c(),l)throw new O(T.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(SA),Ea=function(){function e(t){this.fields=t,t.sort(di.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ia(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),cn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",r=0;r<n.length;++r)i+=String.fromCharCode(n[r]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Et(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();cn.EMPTY_BYTE_STRING=new cn("");O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);J=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Rt.fromString(t))},e.fromName=function(t){return new e(Rt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Rt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Rt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Rt(t.slice()))},e}();jn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!gf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=rl(n)},e.prototype.setAll=function(t){var n=this,i=di.emptyPath(),r={},s=[];t.forEach(function(l,d){if(!i.isImmediateParentOf(d)){var f=n.getFieldsMap(i);n.applyChanges(f,r,s),r={},s=[],i=d.popLast()}l?r[d.lastSegment()]=rl(l):s.push(d.lastSegment())});var c=this.getFieldsMap(i);this.applyChanges(c,r,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ki(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var r=n.mapValue.fields[t.get(i)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Yo(n,function(l,d){return t[l]=d});for(var r=0,s=i;r<s.length;r++){var c=s[r];delete t[c]}},e.prototype.clone=function(){return new e(rl(this.value))},e}();He=function(){function e(t,n,i,r,s){this.key=t,this.documentType=n,this.version=i,this.data=r,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,bt.min(),jn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,jn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,jn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),N2=function(e,t,n,i,r,s,c){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=c,this.h=null};Un=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=r,s}return Z(t,e),t.create=function(n,i,r){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,r):new P2(n,i,r):i==="array-contains"?new j2(n,r):i==="in"?new V2(n,r):i==="not-in"?new U2(n,r):i==="array-contains-any"?new B2(n,r):new t(n,i,r)},t.l=function(n,i,r){return i==="in"?new F2(n,r):new L2(n,r)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Sa(i,this.value)):i!==null&&Go(this.value)===Go(i)&&this.m(Sa(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Q()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),P2=function(e){function t(n,i,r){var s=this;return(s=e.call(this,n,i,r)||this).key=J.fromName(r.referenceValue),s}return Z(t,e),t.prototype.matches=function(n){var i=J.comparator(n.key,this.key);return this.m(i)},t}(Un),F2=function(e){function t(n,i){var r=this;return(r=e.call(this,n,"in",i)||this).keys=AA("in",i),r}return Z(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Un),L2=function(e){function t(n,i){var r=this;return(r=e.call(this,n,"not-in",i)||this).keys=AA("not-in",i),r}return Z(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Un);j2=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Z(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Jy(i)&&cl(i.arrayValue,this.value)},t}(Un),V2=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Z(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&cl(this.value.arrayValue,i)},t}(Un),U2=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Z(t,e),t.prototype.matches=function(n){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!cl(this.value.arrayValue,i)},t}(Un),B2=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Z(t,e),t.prototype.matches=function(n){var i=this,r=n.data.field(this.field);return!(!Jy(r)||!r.arrayValue.values)&&r.arrayValue.values.some(function(s){return cl(i.value.arrayValue,s)})},t}(Un),ul=function(e,t){this.position=e,this.before=t};wa=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};Yi=function(e,t,n,i,r,s,c,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),r===void 0&&(r=null),s===void 0&&(s="F"),c===void 0&&(c=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=c,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};Vf=function(){this._=void 0};xa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t}(Vf),Wo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Z(t,e),t}(Vf);$o=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Z(t,e),t}(Vf);Da=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).R=n,r.A=i,r}return Z(t,e),t}(Vf);_l=function(e,t){this.field=e,this.transform=t},W2=function(e,t){this.version=e,this.transformResults=t},Xe=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();Uf=function(){};wl=function(e){function t(n,i,r,s){s===void 0&&(s=[]);var c=this;return(c=e.call(this)||this).key=n,c.value=i,c.precondition=r,c.fieldTransforms=s,c.type=0,c}return Z(t,e),t}(Uf),Br=function(e){function t(n,i,r,s,c){c===void 0&&(c=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=r,l.precondition=s,l.fieldTransforms=c,l.type=1,l}return Z(t,e),t}(Uf);Il=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).key=n,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return Z(t,e),t}(Uf),i_=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).key=n,r.precondition=i,r.type=3,r.fieldTransforms=[],r}return Z(t,e),t}(Uf),Y2=function(e){this.count=e};(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";Ze=function(){function e(t,n){this.comparator=t,this.root=n||Mr.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mr.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new hf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new hf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new hf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new hf(this.root,t,this.comparator,!0)},e}(),hf=function(){function e(t,n,i,r){this.isReverse=r,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Mr=function(){function e(t,n,i,r,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=r??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,r,s){return new e(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var r=this,s=i(t,r.key);return(r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();var t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)},e}();Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Q()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Q()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,r,s){return this},e.prototype.insert=function(t,n,i){return new Mr(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());xe=function(){function e(t){this.comparator=t,this.data=new Ze(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new TD(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new TD(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),TD=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),X2=new Ze(J.comparator);Q2=new Ze(J.comparator);Z2=new Ze(J.comparator);J2=new xe(J.comparator);tU=new xe(Et);r_=function(){function e(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,o_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(bt.min(),i,Bf(),Yn(),Lt())},e}(),o_=function(){function e(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(cn.EMPTY_BYTE_STRING,n,Lt(),Lt(),Lt())},e}(),yf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},GA=function(e,t){this.targetId=e,this.V=t},WA=function(e,t,n,i){n===void 0&&(n=cn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},xD=function(){function e(){this.S=0,this.D=AD(),this.C=cn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Lt(),n=Lt(),i=Lt();return this.D.forEach(function(r,s){switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q()}}),new o_(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=AD()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),eU=function(){function e(t){this.W=t,this.G=new Map,this.H=Yn(),this.J=DD(),this.Y=new xe(Et)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var r=i[n];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var s=0,c=t.removedTargetIds;s<c.length;s++)r=c[s],this.tt(r,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var r=n.nt(i);switch(t.state){case 0:n.st(i)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||n.removeTarget(i);break;case 3:n.st(i)&&(r.j(),r.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),r.O(t.resumeToken));break;default:Q()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(r,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,r=this.ot(n);if(r){var s=r.target;if(Sf(s))if(i===0){var c=new J(s.path);this.tt(n,c,He.newNoDocument(c,bt.min()))}else at(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(c,l){var d=n.ot(l);if(d){if(c.current&&Sf(d.target)){var f=new J(d.target.path);n.H.get(f)!==null||n.at(l,f)||n.tt(l,f,He.newNoDocument(f,t))}c.$&&(i.set(l,c.M()),c.L())}});var r=Lt();this.J.forEach(function(c,l){var d=!0;l.forEachWhile(function(f){var m=n.ot(f);return!m||m.purpose===2||(d=!1,!1)}),d&&(r=r.add(c))});var s=new r_(t,i,this.Y,this.H,r);return this.H=Yn(),this.J=DD(),this.Y=new xe(Et),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var r=this.nt(t);this.at(t,n)?r.B(n,1):r.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new xD,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new xe(Et),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new xD),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();nU={asc:"ASCENDING",desc:"DESCENDING"},iU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rU=function(e,t){this.databaseId=e,this.I=t};hU=function(e,t){this.seconds=e,this.nanoseconds=t},Fn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Fn.store="owner",Fn.key="owner";Fr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Fr.store="mutationQueues",Fr.keyPath="userId";Gt=function(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Gt.store="mutations",Gt.keyPath="batchId",Gt.userMutationsIndex="userMutationsIndex",Gt.userMutationsKeyPath=["userId","batchId"];Ke=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,li(n)]},e.key=function(t,n,i){return[t,li(n),i]},e}();Ke.store="documentMutations",Ke.PLACEHOLDER=new Ke;fU=function(e,t){this.path=e,this.readTime=t},pU=function(e,t){this.path=e,this.version=t},ae=function(e,t,n,i,r,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};ae.store="remoteDocuments",ae.readTimeIndex="readTimeIndex",ae.readTimeIndexPath="readTime",ae.collectionReadTimeIndex="collectionReadTimeIndex",ae.collectionReadTimeIndexPath=["parentPath","readTime"];xi=function(e){this.byteSize=e};xi.store="remoteDocumentGlobal",xi.key="remoteDocumentGlobalKey";_n=function(e,t,n,i,r,s,c){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=c};_n.store="targets",_n.keyPath="targetId",_n.queryTargetsIndexName="queryTargetsIndex",_n.queryTargetsKeyPath=["canonicalId","targetId"];qe=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};qe.store="targetDocuments",qe.keyPath=["targetId","path"],qe.documentTargetsIndex="documentTargetsIndex",qe.documentTargetsKeyPath=["path","targetId"];Ln=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Ln.key="targetGlobalKey",Ln.store="targetGlobal";qo=function(e,t){this.collectionId=e,this.parent=t};qo.store="collectionParents",qo.keyPath=["collectionId","parent"];$i=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};$i.store="clientMetadata",$i.keyPath="clientId";Aa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Aa.store="bundles",Aa.keyPath="bundleId";ka=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ka.store="namedQueries",ka.keyPath="name";mU=Ut(Ut([],Ut(Ut([],Ut(Ut([],Ut(Ut([],[Fr.store,Gt.store,Ke.store,ae.store,_n.store,Fn.store,Ln.store,qe.store]),[$i.store])),[xi.store])),[qo.store])),[Aa.store,ka.store]),ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rk=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Qe=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},N=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(r,s){i.nextCallback=function(c){i.wrapSuccess(t,c).next(r,s)},i.catchCallback=function(c){i.wrapFailure(n,c).next(r,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var r=0,s=0,c=!1;t.forEach(function(l){++r,l.next(function(){++s,c&&s===r&&n()},function(d){return i(d)})}),c=!0,s===r&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(c){n=n.next(function(l){return l?e.resolve(l):c()})},r=0,s=t;r<s.length;r++)i(s[r]);return n},e.forEach=function(t,n){var i=this,r=[];return t.forEach(function(s,c){r.push(n.call(i,s,c))}),this.waitFor(r)},e}(),ok=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Qe,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ol(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(r){var s=a_(r.target.error);i.ft.reject(new ol(t,s))}}return e.open=function(t,n,i,r){try{return new e(n,t.transaction(r,i))}catch(s){throw new ol(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(U("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new vU(n)},e}(),Ra=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Cr())===12.2&&_e("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return U("SimpleDb","Removing database:",t),Uo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Cr(),n=e._t(t),i=0<n&&n<10,r=e.Et(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return A(this,void 0,void 0,function(){var n,i=this;return D(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(U("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,c){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(d){var f=d.target.result;s(f)},l.onblocked=function(){c(new ol(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(d){var f=d.target.error;f.name==="VersionError"?c(new O(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new ol(t,f))},l.onupgradeneeded=function(d){U("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',d.oldVersion);var f=d.target.result;i.wt.Rt(f,l.transaction,d.oldVersion,i.version).next(function(){U("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,r){return A(this,void 0,void 0,function(){var s,c,l,d,f;return D(this,function(m){switch(m.label){case 0:s=n==="readonly",c=0,l=function(){var v,y,_,I,E;return D(this,function(S){switch(S.label){case 0:++c,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,d.At(t)];case 2:return d.db=S.sent(),v=ok.open(d.db,t,s?"readonly":"readwrite",i),y=r(v).catch(function(R){return v.abort(R),N.reject(R)}).toPromise(),_={},y.catch(function(){}),[4,v.dt];case 3:return[2,(_.value=(S.sent(),y),_)];case 4:return I=S.sent(),E=I.name!=="FirebaseError"&&c<3,U("SimpleDb","Transaction failed with error:",I.message,"Retrying:",E),d.close(),E?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},d=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(f=m.sent())=="object")return[2,f.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gU=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Uo(this.Pt.delete())},e}(),ol=function(e){function t(n,i){var r=this;return(r=e.call(this,T.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",r}return Z(t,e),t}(O);vU=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(U("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(U("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Uo(i)},e.prototype.add=function(t){return U("SimpleDb","ADD",this.store.name,t,t),Uo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Uo(this.store.get(t)).next(function(i){return i===void 0&&(i=null),U("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return U("SimpleDb","DELETE",this.store.name,t),Uo(this.store.delete(t))},e.prototype.count=function(){return U("SimpleDb","COUNT",this.store.name),Uo(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),r=[];return this.xt(i,function(s,c){r.push(c)}).next(function(){return r})},e.prototype.kt=function(t,n){U("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var r=this.cursor(i);return this.xt(r,function(s,c,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var r=this.cursor(i);return this.xt(r,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new N(function(i,r){n.onerror=function(s){var c=a_(s.target.error);r(c)},n.onsuccess=function(s){var c=s.target.result;c?t(c.primaryKey,c.value).next(function(l){l?c.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new N(function(r,s){t.onerror=function(c){s(c.target.error)},t.onsuccess=function(c){var l=c.target.result;if(l){var d=new gU(l),f=n(l.primaryKey,l.value,d);if(f instanceof N){var m=f.catch(function(v){return d.done(),N.reject(v)});i.push(m)}d.isDone?r():d.Dt===null?l.continue():l.continue(d.Dt)}else r()}}).next(function(){return N.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();PD=!1;FD=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).Mt=n,r.currentSequenceNumber=i,r}return Z(t,e),t}(rk);c_=function(){function e(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t.key)&&$2(s,t,i[r])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(c=i[n]).key.isEqual(t.key)&&Uy(c,t,this.localWriteTime);for(var r=0,s=this.mutations;r<s.length;r++){var c;(c=s[r]).key.isEqual(t.key)&&Uy(c,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var r=t.get(i.key),s=r;n.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(bt.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Lt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ia(this.mutations,t.mutations,function(n,i){return ID(n,i)})&&Ia(this.baseMutations,t.baseMutations,function(n,i){return ID(n,i)})},e}(),bU=function(){function e(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}return e.from=function(t,n,i){at(t.mutations.length===i.length);for(var r=HA(),s=t.mutations,c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new e(t,n,i,r)},e}(),zf=function(){function e(t,n,i,r,s,c,l){s===void 0&&(s=bt.min()),c===void 0&&(c=bt.min()),l===void 0&&(l=cn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),sk=function(e){this.Lt=e};yU=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return jD(t).get(n).next(function(i){if(i)return{id:(r=i).bundleId,createTime:Oa(r.createTime),version:r.version};var r})},e.prototype.saveBundleMetadata=function(t,n){return jD(t).put({bundleId:(i=n).id,createTime:Ma(ze(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return VD(t).get(n).next(function(i){if(i)return{name:(r=i).name,query:l_(r.bundledQuery),readTime:Oa(r.readTime)};var r})},e.prototype.saveNamedQuery=function(t,n){return VD(t).put(function(i){return{name:i.name,readTime:Ma(ze(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();_U=function(){function e(){this.Bt=new d_}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),N.resolve()},e.prototype.getCollectionParents=function(t,n){return N.resolve(this.Bt.getEntries(n))},e}(),d_=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new xe(Rt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new xe(Rt.comparator)).toArray()},e}(),wU=function(){function e(){this.qt=new d_}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var r=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var c={collectionId:r,parent:li(s)};return UD(t).put(c)}return N.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],r=IDBKeyRange.bound([n,""],[EA(n),""],!1,!0);return UD(t).Nt(r).next(function(s){for(var c=0,l=s;c<l.length;c++){var d=l[c];if(d.collectionId!==n)break;i.push(Wi(d.parent))}return i})},e}();BD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ti=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(41943040,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);IU=function(){function e(t,n,i,r){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,i,r){return at(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,r)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).$t({index:Gt.userMutationsIndex,range:i},function(r,s,c){n=!1,c.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,r){var s=this,c=ya(t),l=Ar(t);return l.add({}).next(function(d){at(typeof d=="number");for(var f=new c_(d,n,i,r),m=function(R,j,B){var et=B.baseMutations.map(function(V){return Df(R.Lt,V)}),ft=B.mutations.map(function(V){return Df(R.Lt,V)});return new Gt(j,B.batchId,B.localWriteTime.toMillis(),et,ft)}(s.R,s.userId,f),v=[],y=new xe(function(R,j){return Et(R.canonicalString(),j.canonicalString())}),_=0,I=r;_<I.length;_++){var E=I[_],S=Ke.key(s.userId,E.key.path,d);y=y.add(E.key.path.popLast()),v.push(l.put(m)),v.push(c.put(S,Ke.PLACEHOLDER))}return y.forEach(function(R){v.push(s.Ut.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(function(){s.Kt[d]=f.keys()}),N.waitFor(v).next(function(){return f})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ar(t).get(n).next(function(r){return r?(at(r.userId===i.userId),ba(i.R,r)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?N.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(r){if(r){var s=r.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]),c=null;return Ar(t).$t({index:Gt.userMutationsIndex,range:s},function(l,d,f){d.userId===i.userId&&(at(d.batchId>=r),c=ba(i.R,d)),f.done()}).next(function(){return c})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ar(t).$t({index:Gt.userMutationsIndex,range:n,reverse:!0},function(r,s,c){i=s.batchId,c.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ar(t).Nt(Gt.userMutationsIndex,i).next(function(r){return r.map(function(s){return ba(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,r=Ke.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(r),c=[];return ya(t).$t({range:s},function(l,d,f){var m=l[0],v=l[1],y=l[2],_=Wi(v);if(m===i.userId&&n.path.isEqual(_))return Ar(t).get(y).next(function(I){if(!I)throw Q();at(I.userId===i.userId),c.push(ba(i.R,I))});f.done()}).next(function(){return c})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,r=new xe(Et),s=[];return n.forEach(function(c){var l=Ke.prefixForPath(i.userId,c.path),d=IDBKeyRange.lowerBound(l),f=ya(t).$t({range:d},function(m,v,y){var _=m[0],I=m[1],E=m[2],S=Wi(I);_===i.userId&&c.path.isEqual(S)?r=r.add(E):y.done()});s.push(f)}),N.waitFor(s).next(function(){return i.Wt(t,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,r=n.path,s=r.length+1,c=Ke.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(c),d=new xe(Et);return ya(t).$t({range:l},function(f,m,v){var y=f[0],_=f[1],I=f[2],E=Wi(_);y===i.userId&&r.isPrefixOf(E)?E.length===s&&(d=d.add(I)):v.done()}).next(function(){return i.Wt(t,d)})},e.prototype.Wt=function(t,n){var i=this,r=[],s=[];return n.forEach(function(c){s.push(Ar(t).get(c).next(function(l){if(l===null)throw Q();at(l.userId===i.userId),r.push(ba(i.R,l))}))}),N.waitFor(s).next(function(){return r})},e.prototype.removeMutationBatch=function(t,n){var i=this;return uk(t.Mt,this.userId,n).next(function(r){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),N.forEach(r,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return N.resolve();var r=IDBKeyRange.lowerBound(Ke.prefixForUser(n.userId)),s=[];return ya(t).$t({range:r},function(c,l,d){if(c[0]===n.userId){var f=Wi(c[1]);s.push(f)}else d.done()}).next(function(){at(s.length===0)})})},e.prototype.containsKey=function(t,n){return lk(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return dk(t).get(this.userId).next(function(i){return i||new Fr(n.userId,-1,"")})},e}();kf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),EU=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var r=new kf(i.highestTargetId);return i.highestTargetId=r.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return bt.fromTimestamp(new an(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var r=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),r.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(r){return r.targetCount+=1,i.ee(n,r),i.Zt(t,r)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return va(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(r){return at(r.targetCount>0),r.targetCount-=1,i.Zt(t,r)})},e.prototype.removeTargets=function(t,n,i){var r=this,s=0,c=[];return va(t).$t(function(l,d){var f=il(d);f.sequenceNumber<=n&&i.get(f.targetId)===null&&(s++,c.push(r.removeTargetData(t,f)))}).next(function(){return N.waitFor(c)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return va(t).$t(function(i,r){var s=il(r);n(s)})},e.prototype.Xt=function(t){return zD(t).get(Ln.key).next(function(n){return at(n!==null),n})},e.prototype.Zt=function(t,n){return zD(t).put(Ln.key,n)},e.prototype.te=function(t,n){return va(t).put(ck(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=vl(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return va(t).$t({range:r,index:_n.queryTargetsIndexName},function(c,l,d){var f=il(l);jf(n,f.target)&&(s=f,d.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var r=this,s=[],c=Or(t);return n.forEach(function(l){var d=li(l.path);s.push(c.put(new qe(i,d))),s.push(r.referenceDelegate.addReference(t,i,l))}),N.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var r=this,s=Or(t);return N.forEach(n,function(c){var l=li(c.path);return N.waitFor([s.delete([i,l]),r.referenceDelegate.removeReference(t,i,c)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Or(t),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Or(t),s=Lt();return r.$t({range:i,Ft:!0},function(c,l,d){var f=Wi(c[1]),m=new J(f);s=s.add(m)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=li(n.path),r=IDBKeyRange.bound([i],[EA(i)],!1,!0),s=0;return Or(t).$t({index:qe.documentTargetsIndex,Ft:!0,range:r},function(c,l,d){var f=c[0];c[1],f!==0&&(s++,d.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return va(t).get(n).next(function(i){return i?il(i):null})},e}();CU=function(){function e(t){this.ne=t,this.buffer=new xe(qD),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();qD(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),SU=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;U("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return A(n,void 0,void 0,function(){var r;return D(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Qo(r=s.sent())?(U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r),[3,6]):[3,4];case 4:return[4,Zo(r)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),TU=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return N.resolve(Vn.o);var r=new CU(n);return this.ae.forEachTarget(t,function(s){return r.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return r.re(s)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(BD)):this.getCacheSize(t).next(function(r){return r<i.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),BD):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,r,s,c,l,d,f,m=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(y){return y>m.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+y),r=m.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),m.nthSequenceNumber(t,r)}).next(function(y){return i=y,l=Date.now(),m.removeTargets(t,i,n)}).next(function(y){return s=y,d=Date.now(),m.removeOrphanedDocuments(t,i)}).next(function(y){return f=Date.now(),Fy()<=kt.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-v)+`ms
	Determined least recently used `+r+" in "+(l-c)+`ms
	Removed `+s+" targets in "+(d-l)+`ms
	Removed `+y+" documents in "+(f-d)+`ms
Total Duration: `+(f-v)+"ms"),N.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})})},e}(),xU=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,r){return new TU(i,r)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(r){return i+r})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,r){return n(r)})},e.prototype.addReference=function(t,n,i){return ff(t,i)},e.prototype.removeReference=function(t,n,i){return ff(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return ff(t,n)},e.prototype._e=function(t,n){return function(i,r){var s=!1;return dk(i).Ot(function(c){return lk(i,c,r).next(function(l){return l&&(s=!0),N.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],c=0;return this.we(t,function(l,d){if(d<=n){var f=i._e(t,l).next(function(m){if(!m)return c++,r.getEntry(t,l).next(function(){return r.removeEntry(l),Or(t).delete([0,li(l.path)])})});s.push(f)}}).next(function(){return N.waitFor(s)}).next(function(){return r.apply(t)}).next(function(){return c})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return ff(t,n)},e.prototype.we=function(t,n){var i,r=Or(t),s=Vn.o;return r.$t({index:qe.documentTargetsIndex},function(c,l){var d=c[0];c[1];var f=l.path,m=l.sequenceNumber;d===0?(s!==Vn.o&&n(new J(Wi(i)),s),s=m,i=f):s=Vn.o}).next(function(){s!==Vn.o&&n(new J(Wi(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();za=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var r=0,s=i;r<s.length;r++){var c=s[r],l=c[0],d=c[1];if(this.equalsFn(l,t))return d}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(var s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),!0;return!1},e.prototype.forEach=function(t){Yo(this.inner,function(n,i){for(var r=0,s=i;r<s.length;r++){var c=s[r],l=c[0],d=c[1];t(l,d)}})},e.prototype.isEmpty=function(){return CA(this.inner)},e}(),hk=function(){function e(){this.changes=new za(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:bt.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:He.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?N.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),DU=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Rr(t).put(pf(n),i)},e.prototype.removeEntry=function(t,n){var i=Rr(t),r=pf(n);return i.delete(r)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(r){return r.byteSize+=n,i.me(t,r)})},e.prototype.getEntry=function(t,n){var i=this;return Rr(t).get(pf(n)).next(function(r){return i.ye(n,r)})},e.prototype.ge=function(t,n){var i=this;return Rr(t).get(pf(n)).next(function(r){return{document:i.ye(n,r),size:Af(r)}})},e.prototype.getEntries=function(t,n){var i=this,r=Yn();return this.pe(t,n,function(s,c){var l=i.ye(s,c);r=r.insert(s,l)}).next(function(){return r})},e.prototype.Ee=function(t,n){var i=this,r=Yn(),s=new Ze(J.comparator);return this.pe(t,n,function(c,l){var d=i.ye(c,l);r=r.insert(c,d),s=s.insert(c,Af(l))}).next(function(){return{documents:r,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return N.resolve();var r=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),c=s.getNext();return Rr(t).$t({range:r},function(l,d,f){for(var m=J.fromSegments(l);c&&J.comparator(c,m)<0;)i(c,null),c=s.getNext();c&&c.isEqual(m)&&(i(c,d),c=s.hasNext()?s.getNext():null),c?f.Ct(c.path.toArray()):f.done()}).next(function(){for(;c;)i(c,null),c=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var r=this,s=Yn(),c=n.path.length+1,l={};if(i.isEqual(bt.min())){var d=n.path.toArray();l.range=IDBKeyRange.lowerBound(d)}else{var f=n.path.toArray(),m=u_(i);l.range=IDBKeyRange.lowerBound([f,m],!0),l.index=ae.collectionReadTimeIndex}return Rr(t).$t(l,function(v,y,_){if(v.length===c){var I=qy(r.R,y);n.path.isPrefixOf(I.key.path)?yl(n,I)&&(s=s.insert(I.key,I)):_.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new AU(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return HD(t).get(xi.key).next(function(n){return at(!!n),n})},e.prototype.me=function(t,n){return HD(t).put(xi.key,n)},e.prototype.ye=function(t,n){if(n){var i=qy(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(bt.min()))return i}return He.newInvalidDocument(t)},e}(),AU=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).Ie=n,r.trackRemovals=i,r.Ae=new za(function(s){return s.toString()},function(s,c){return s.isEqual(c)}),r}return Z(t,e),t.prototype.applyChanges=function(n){var i=this,r=[],s=0,c=new xe(function(l,d){return Et(l.canonicalString(),d.canonicalString())});return this.changes.forEach(function(l,d){var f=i.Ae.get(l);if(d.document.isValidDocument()){var m=LD(i.Ie.R,d.document,i.getReadTime(l));c=c.add(l.path.popLast());var v=Af(m);s+=v-f,r.push(i.Ie.addEntry(n,l,m))}else if(s-=f,i.trackRemovals){var y=LD(i.Ie.R,He.newNoDocument(l,bt.min()),i.getReadTime(l));r.push(i.Ie.addEntry(n,l,y))}else r.push(i.Ie.removeEntry(n,l))}),c.forEach(function(l){r.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),r.push(this.Ie.updateMetadata(n,s)),N.waitFor(r)},t.prototype.getFromCache=function(n,i){var r=this;return this.Ie.ge(n,i).next(function(s){return r.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var r=this;return this.Ie.Ee(n,i).next(function(s){var c=s.documents;return s.Te.forEach(function(l,d){r.Ae.set(l,d)}),c})},t}(hk);kU=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,r){var s=this;at(i<r&&i>=0&&r<=11);var c=new ok("createOrUpgrade",n);i<1&&r>=1&&(function(d){d.createObjectStore(Fn.store)}(t),function(d){d.createObjectStore(Fr.store,{keyPath:Fr.keyPath}),d.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0}),d.createObjectStore(Ke.store)}(t),GD(t),function(d){d.createObjectStore(ae.store)}(t));var l=N.resolve();return i<3&&r>=3&&(i!==0&&(function(d){d.deleteObjectStore(qe.store),d.deleteObjectStore(_n.store),d.deleteObjectStore(Ln.store)}(t),GD(t)),l=l.next(function(){return function(d){var f=d.store(Ln.store),m=new Ln(0,0,bt.min().toTimestamp(),0);return f.put(Ln.key,m)}(c)})),i<4&&r>=4&&(i!==0&&(l=l.next(function(){return function(d,f){return f.store(Gt.store).Nt().next(function(m){d.deleteObjectStore(Gt.store),d.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0});var v=f.store(Gt.store),y=m.map(function(_){return v.put(_)});return N.waitFor(y)})}(t,c)})),l=l.next(function(){(function(d){d.createObjectStore($i.store,{keyPath:$i.keyPath})})(t)})),i<5&&r>=5&&(l=l.next(function(){return s.Re(c)})),i<6&&r>=6&&(l=l.next(function(){return function(d){d.createObjectStore(xi.store)}(t),s.be(c)})),i<7&&r>=7&&(l=l.next(function(){return s.ve(c)})),i<8&&r>=8&&(l=l.next(function(){return s.Pe(t,c)})),i<9&&r>=9&&(l=l.next(function(){(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t),function(d){var f=d.objectStore(ae.store);f.createIndex(ae.readTimeIndex,ae.readTimeIndexPath,{unique:!1}),f.createIndex(ae.collectionReadTimeIndex,ae.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&r>=10&&(l=l.next(function(){return s.Ve(c)})),i<11&&r>=11&&(l=l.next(function(){(function(d){d.createObjectStore(Aa.store,{keyPath:Aa.keyPath})})(t),function(d){d.createObjectStore(ka.store,{keyPath:ka.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(ae.store).$t(function(i,r){n+=Af(r)}).next(function(){var i=new xi(n);return t.store(xi.store).put(xi.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Fr.store),r=t.store(Gt.store);return i.Nt().next(function(s){return N.forEach(s,function(c){var l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Nt(Gt.userMutationsIndex,l).next(function(d){return N.forEach(d,function(f){at(f.userId===c.userId);var m=ba(n.R,f);return uk(t,c.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(qe.store),i=t.store(ae.store);return t.store(Ln.store).get(Ln.key).next(function(r){var s=[];return i.$t(function(c,l){var d=new Rt(c),f=function(m){return[0,li(m)]}(d);s.push(n.get(f).next(function(m){return m?N.resolve():function(v){return n.put(new qe(0,li(v),r.highestListenSequenceNumber))}(d)}))}).next(function(){return N.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(qo.store,{keyPath:qo.keyPath});var i=n.store(qo.store),r=new d_,s=function(c){if(r.add(c)){var l=c.lastSegment(),d=c.popLast();return i.put({collectionId:l,parent:li(d)})}};return n.store(ae.store).$t({Ft:!0},function(c,l){var d=new Rt(c);return s(d.popLast())}).next(function(){return n.store(Ke.store).$t({Ft:!0},function(c,l){c[0];var d=c[1];c[2];var f=Wi(d);return s(f.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(_n.store);return i.$t(function(r,s){var c=il(s),l=ck(n.R,c);return i.put(l)})},e}();My="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RU=function(){function e(t,n,i,r,s,c,l,d,f,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=c,this.document=l,this.De=f,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new O(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xU(this,r),this.Le=n+"main",this.R=new sk(d),this.Be=new Ra(this.Le,11,new kU(this.R)),this.qe=new EU(this.referenceDelegate,this.R),this.Ut=new wU,this.Ue=function(v,y){return new DU(v,y)}(this.R,this.Ut),this.Ke=new yU,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&_e("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new O(T.FAILED_PRECONDITION,My);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Vn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return A(n,void 0,void 0,function(){return D(this,function(r){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return A(n,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return mf(n).put(new $i(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Qo(n))return U("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return U("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return nl(t).get(Fn.key).next(function(i){return N.resolve(n.tn(i))})},e.prototype.en=function(t){return mf(t).delete(this.clientId)},e.prototype.nn=function(){return A(this,void 0,void 0,function(){var t,n,i,r,s=this;return D(this,function(c){switch(c.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var d=wn(l,$i.store);return d.Nt().next(function(f){var m=s.rn(f,18e5),v=f.filter(function(y){return m.indexOf(y)===-1});return N.forEach(v,function(y){return d.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=c.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)r=i[n],this.Qe.removeItem(this.on(r.clientId));c.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?N.resolve(!0):nl(t).get(Fn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new O(T.FAILED_PRECONDITION,My);return!1}}return!(!n.networkEnabled||!n.inForeground)||mf(t).Nt().next(function(r){return n.rn(r,5e3).find(function(s){if(n.clientId!==s.clientId){var c=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,d=n.networkEnabled===s.networkEnabled;if(c||l&&d)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&U("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return D(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fn.store,$i.store],function(i){var r=new FD(i,Vn.o);return t.Xe(r).next(function(){return t.en(r)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(r){return i.sn(r.updateTimeMs,n)&&!i.cn(r.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return mf(n).Nt().next(function(i){return t.rn(i,18e5).map(function(r){return r.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return IU.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var r=this;U("IndexedDbPersistence","Starting transaction:",t);var s,c=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,c,mU,function(l){return s=new FD(l,r.Ne?r.Ne.next():Vn.o),n==="readwrite-primary"?r.Je(s).next(function(d){return!!d||r.Ye(s)}).next(function(d){if(!d)throw _e("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new O(T.FAILED_PRECONDITION,ik);return i(s)}).next(function(d){return r.Ze(s).next(function(){return d})}):r.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return nl(t).get(Fn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new O(T.FAILED_PRECONDITION,My)})},e.prototype.Ze=function(t){var n=new Fn(this.clientId,this.allowTabSynchronization,Date.now());return nl(t).put(Fn.key,n)},e.yt=function(){return Ra.yt()},e.prototype.Xe=function(t){var n=this,i=nl(t);return i.get(Fn.key).next(function(r){return n.tn(r)?(U("IndexedDbPersistence","Releasing primary lease."),i.delete(Fn.key)):N.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(_e("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),PT()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return U("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(r){return _e("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){_e("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();MU=function(e,t){this.progress=e,this.wn=t},fk=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(r){return i.yn(t,n,r)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(r){for(var s=0,c=i;s<c.length;s++)c[s].applyToLocalView(r);return r})},e.prototype.gn=function(t,n){t.forEach(function(i,r){for(var s=0,c=n;s<c.length;s++)c[s].applyToLocalView(r)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(r){return i.En(t,r).next(function(){return r})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(r){return i.gn(n,r)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(r){return J.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.Tn(t,n.path):n_(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new J(n)).next(function(i){var r=By();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})},e.prototype.In=function(t,n,i){var r=this,s=n.collectionGroup,c=By();return this.Ut.getCollectionParents(t,s).next(function(l){return N.forEach(l,function(d){var f=function(m,v){return new Yi(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,d.child(s));return r.An(t,f,i).next(function(m){m.forEach(function(v,y){c=c.insert(v,y)})})}).next(function(){return c})})},e.prototype.An=function(t,n,i){var r,s,c=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return r=l,c._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,c.Rn(t,s,r).next(function(d){r=d;for(var f=0,m=s;f<m.length;f++)for(var v=m[f],y=0,_=v.mutations;y<_.length;y++){var I=_[y],E=I.key,S=r.get(E);S==null&&(S=He.newInvalidDocument(E),r=r.insert(E,S)),Uy(I,S,v.localWriteTime),S.isFoundDocument()||(r=r.remove(E))}})}).next(function(){return r.forEach(function(l,d){yl(n,d)||(r=r.remove(l))}),r})},e.prototype.Rn=function(t,n,i){for(var r=Lt(),s=0,c=n;s<c.length;s++)for(var l=0,d=c[s].mutations;l<d.length;l++){var f=d[l];f instanceof Br&&i.get(f.key)===null&&(r=r.add(f.key))}var m=i;return this.Ue.getEntries(t,r).next(function(v){return v.forEach(function(y,_){_.isFoundDocument()&&(m=m.insert(y,_))}),m})},e}(),OU=function(){function e(t,n,i,r){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=r}return e.Pn=function(t,n){for(var i=Lt(),r=Lt(),s=0,c=n.docChanges;s<c.length;s++){var l=c[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}}return new e(t,n.fromCache,i,r)},e}(),pk=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,r){var s=this;return function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.explicitOrderBy.length===0||c.explicitOrderBy.length===1&&c.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(bt.min())?this.Dn(t,n):this.Sn.pn(t,r).next(function(c){var l=s.Cn(n,c);return(vf(n)||xf(n))&&s.Nn(n.limitType,l,r,i)?s.Dn(t,n):(Fy()<=kt.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vy(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(d){return l.forEach(function(f){d=d.insert(f.key,f)}),d}))})},e.prototype.Cn=function(t,n){var i=new xe(OA(t));return n.forEach(function(r,s){yl(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,r){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)},e.prototype.Dn=function(t,n){return Fy()<=kt.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Vy(n)),this.Sn.getDocumentsMatchingQuery(t,n,bt.min())},e}(),NU=function(){function e(t,n,i,r){this.persistence=t,this.xn=n,this.R=r,this.kn=new Ze(Et),this.Fn=new za(function(s){return vl(s)},jf),this.$n=bt.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new fk(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();BU=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return N.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:ze(i.createTime)}),N.resolve()},e.prototype.getNamedQuery=function(t,n){return N.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:l_(i.bundledQuery),readTime:ze(i.readTime)}}(n)),N.resolve()},e}(),f_=function(){function e(){this.Wn=new xe(Ne.Gn),this.zn=new xe(Ne.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Ne(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(r){return i.addReference(r,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Ne(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(r){return i.removeReference(r,n)})},e.prototype.Zn=function(t){var n=this,i=new J(new Rt([])),r=new Ne(i,t),s=new Ne(i,t+1),c=[];return this.zn.forEachInRange([r,s],function(l){n.Yn(l),c.push(l.key)}),c},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new J(new Rt([])),i=new Ne(n,t),r=new Ne(n,t+1),s=Lt();return this.zn.forEachInRange([i,r],function(c){s=s.add(c.key)}),s},e.prototype.containsKey=function(t){var n=new Ne(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Ne=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return J.comparator(t.key,n.key)||Et(t.ns,n.ns)},e.Hn=function(t,n){return Et(t.ns,n.ns)||J.comparator(t.key,n.key)},e}(),zU=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new xe(Ne.Gn)}return e.prototype.checkEmpty=function(t){return N.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,r){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var c=new c_(s,n,i,r);this._n.push(c);for(var l=0,d=r;l<d.length;l++){var f=d[l];this.rs=this.rs.add(new Ne(f.key,s)),this.Ut.addToCollectionParentIndex(t,f.key.path.popLast())}return N.resolve(c)},e.prototype.lookupMutationBatch=function(t,n){return N.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,r=this.cs(i),s=r<0?0:r;return N.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return N.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return N.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,r=new Ne(n,0),s=new Ne(n,Number.POSITIVE_INFINITY),c=[];return this.rs.forEachInRange([r,s],function(l){var d=i.os(l.ns);c.push(d)}),N.resolve(c)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,r=new xe(Et);return n.forEach(function(s){var c=new Ne(s,0),l=new Ne(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([c,l],function(d){r=r.add(d.ns)})}),N.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,r=i.length+1,s=i;J.isDocumentKey(s)||(s=s.child(""));var c=new Ne(new J(s),0),l=new xe(Et);return this.rs.forEachWhile(function(d){var f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.ns)),!0)},c),N.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(r){var s=n.os(r);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;at(this.hs(n.batchId,"removed")===0),this._n.shift();var r=this.rs;return N.forEach(n.mutations,function(s){var c=new Ne(s.key,n.batchId);return r=r.delete(c),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=r})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Ne(n,0),r=this.rs.firstAfterOrEqual(i);return N.resolve(n.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,N.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),qU=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Ze(J.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var r=n.key,s=this.docs.get(r),c=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(r,{document:n.clone(),size:l,readTime:i}),this.size+=l-c,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return N.resolve(i?i.document.clone():He.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,r=Yn();return n.forEach(function(s){var c=i.docs.get(s);r=r.insert(s,c?c.document.clone():He.newInvalidDocument(s))}),N.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var r=Yn(),s=new J(n.path.child("")),c=this.docs.getIteratorFrom(s);c.hasNext();){var l=c.getNext(),d=l.key,f=l.value,m=f.document,v=f.readTime;if(!n.path.isPrefixOf(d.path))break;v.compareTo(i)<=0||yl(n,m)&&(r=r.insert(m.key,m.clone()))}return N.resolve(r)},e.prototype.fs=function(t,n){return N.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new HU(this)},e.prototype.getSize=function(t){return N.resolve(this.size)},e}(),HU=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Z(t,e),t.prototype.applyChanges=function(n){var i=this,r=[];return this.changes.forEach(function(s,c){c.document.isValidDocument()?r.push(i.Ie.addEntry(n,c.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),N.waitFor(r)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(hk),GU=function(){function e(t){this.persistence=t,this.ds=new za(function(n){return vl(n)},jf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ws=0,this._s=new f_,this.targetCount=0,this.ys=kf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,r){return n(r)}),N.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return N.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return N.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),N.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),N.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new kf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,N.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),N.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,N.resolve()},e.prototype.removeTargets=function(t,n,i){var r=this,s=0,c=[];return this.ds.forEach(function(l,d){d.sequenceNumber<=n&&i.get(d.targetId)===null&&(r.ds.delete(l),c.push(r.removeMatchingKeysForTargetId(t,d.targetId)),s++)}),N.waitFor(c).next(function(){return s})},e.prototype.getTargetCount=function(t){return N.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return N.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),N.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(function(c){s.push(r.markPotentiallyOrphaned(t,c))}),N.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),N.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return N.resolve(i)},e.prototype.containsKey=function(t,n){return N.resolve(this._s.containsKey(n))},e}(),WU=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Vn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new GU(this),this.Ut=new _U,this.Ue=function(r,s){return new qU(r,function(c){return i.referenceDelegate.ps(c)})}(this.Ut),this.R=new sk(n),this.Ke=new BU(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new zU(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var r=this;U("MemoryPersistence","Starting transaction:",t);var s=new $U(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(c){return r.referenceDelegate.Ts(s).next(function(){return c})}).toPromise().then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.Is=function(t,n){return N.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),$U=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Z(t,e),t}(rk),KU=function(){function e(t){this.persistence=t,this.As=new f_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Q()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),N.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),N.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),N.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(c){return i.vs.add(c.toString())})}).next(function(){return r.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.vs,function(r){var s=J.fromPath(r);return n.Ps(t,s).next(function(c){c||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(r){r?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return N.or([function(){return N.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Be=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");KD=function(){function e(t,n,i,r){this.user=t,this.batchId=n,this.state=i,this.error=r}return e.Vs=function(t,n,i){var r,s=JSON.parse(i),c=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return c&&s.error&&(c=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(r=new O(s.error.code,s.error.message)),c?new e(t,n,s.state,r):(_e("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ny=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,r=JSON.parse(n),s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string")&&(i=new O(r.error.code,r.error.message)),s?new e(t,r.state,i):(_e("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),YD=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=Bf(),c=0;r&&c<i.activeTargetIds.length;++c)r=xA(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new e(t,s):(_e("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),YU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(_e("SharedClientState","Failed to parse online state: "+t),null)},e}(),Hy=function(){function e(){this.activeTargetIds=Bf()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Py=function(){function e(t,n,i,r,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ze(Et),this.started=!1,this.$s=[];var c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=WD(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Hy),this.Ls=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,i,r,s,c,l,d,f,m,v,y=this;return D(this,function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,i=t;n<i.length;n++)(r=i[n])!==this.Ns&&(s=this.getItem(WD(this.persistenceKey,r)))&&(c=YD.Vs(r,s))&&(this.Fs=this.Fs.insert(c.clientId,c));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(d=this.js(l))&&this.Ws(d),f=0,m=this.$s;f<m.length;f++)v=m[f],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,r){r.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Oy(this.persistenceKey,t));if(i){var r=Ny.Vs(t,i);r&&(n=r.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Oy(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var r=this;n.forEach(function(s){r.Hs(s)}),this.currentUser=t,i.forEach(function(s){r.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return U("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){U("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){U("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(U("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void _e("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var r,s,c,l,d,f;return D(this,function(m){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return r=this.ti(i.key),[2,this.ei(r,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(c=this.si(i.key,i.newValue)))return[2,this.ii(c)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(d=this.js(i.newValue)))return[2,this.Ws(d)]}else if(i.key===this.Ms)(f=function(v){var y=Vn.o;if(v!=null)try{var _=JSON.parse(v);at(typeof _=="number"),y=_}catch(I){_e("SharedClientState","Failed to read sequence number from WebStorage",I)}return y}(i.newValue))!==Vn.o&&this.sequenceNumberHandler(f);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var r=new KD(this.currentUser,t,n,i),s=$D(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Ss())},e.prototype.Hs=function(t){var n=$D(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var r=Oy(this.persistenceKey,t),s=new Ny(t,n,i);this.setItem(r,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return YD.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return KD.Vs(new Be(s),r,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),r=Number(i[1]);return Ny.Vs(r,n)},e.prototype.js=function(t){return YU.Vs(t)},e.prototype.ii=function(t){return A(this,void 0,void 0,function(){return D(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(U("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,r=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),c=this.Gs(r),l=[],d=[];return c.forEach(function(f){s.has(f)||l.push(f)}),s.forEach(function(f){c.has(f)||d.push(f)}),this.syncEngine.hi(l,d).then(function(){i.Fs=r})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Bf();return t.forEach(function(i,r){n=n.unionWith(r.activeTargetIds)}),n},e}(),wk=function(){function e(){this.li=new Hy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Hy,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),XU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),XD=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),QU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ZU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),JU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Z(t,e),t.prototype.Fi=function(n,i,r,s){return new Promise(function(c,l){var d=new fD;d.listenOnce(lD.COMPLETE,function(){try{switch(d.getLastErrorCode()){case df.NO_ERROR:var m=d.getResponseJson();U("Connection","XHR received:",JSON.stringify(m)),c(m);break;case df.TIMEOUT:U("Connection",'RPC "'+n+'" timed out'),l(new O(T.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:var v=d.getStatus();if(U("Connection",'RPC "'+n+'" failed with status:',v,"response text:",d.getResponseText()),v>0){var y=d.getResponseJson().error;if(y&&y.status&&y.message){var _=function(I){var E=I.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(E)>=0?E:T.UNKNOWN}(y.status);l(new O(_,y.message))}else l(new O(T.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new O(T.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U("Connection",'RPC "'+n+'" completed.')}});var f=JSON.stringify(s);d.send(i,"POST",f,r,15)})},t.prototype.Oi=function(n,i){var r=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=cD(),c=uD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new hD({})),this.ki(l.initMessageHeaders,i),DT()||RT()||MT()||OT()||NT()||kT()||(l.httpHeadersOverwriteParam="$httpHeaders");var d=r.join("");U("Connection","Creating WebChannel: "+d,l);var f=s.createWebChannel(d,l),m=!1,v=!1,y=new ZU({Ei:function(I){v?U("Connection","Not sending because WebChannel is closed:",I):(m||(U("Connection","Opening WebChannel transport."),f.open(),m=!0),U("Connection","WebChannel sending:",I),f.send(I))},Ti:function(){return f.close()}}),_=function(I,E,S){I.listen(E,function(R){try{S(R)}catch(j){setTimeout(function(){throw j},0)}})};return _(f,el.EventType.OPEN,function(){v||U("Connection","WebChannel transport opened.")}),_(f,el.EventType.CLOSE,function(){v||(v=!0,U("Connection","WebChannel transport closed"),y.Vi())}),_(f,el.EventType.ERROR,function(I){v||(v=!0,If("Connection","WebChannel transport errored:",I),y.Vi(new O(T.UNAVAILABLE,"The operation could not be completed")))}),_(f,el.EventType.MESSAGE,function(I){var E;if(!v){var S=I.data[0];at(!!S);var R=S,j=R.error||((E=R[0])===null||E===void 0?void 0:E.error);if(j){U("Connection","WebChannel received error:",j);var B=j.status,et=function(V){var jt=be[V];if(jt!==void 0)return qA(jt)}(B),ft=j.message;et===void 0&&(et=T.INTERNAL,ft="Unknown error status: "+B+" with message "+j.message),v=!0,y.Vi(new O(et,ft)),f.close()}else U("Connection","WebChannel received:",S),y.Si(S)}}),_(c,dD.STAT_EVENT,function(I){I.stat===ky.PROXY?U("Connection","Detected buffering proxy"):I.stat===ky.NOPROXY&&U("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,r){var s=this.xi(t,n);U("RestConnection","Sending: ",s,i);var c={};return this.ki(c,r),this.Fi(t,s,c,i).then(function(l){return U("RestConnection","Received: ",l),l},function(l){throw If("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,r){return this.Ni(t,n,i,r)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=QU[t];return this.Di+"/v1/"+n+":"+i},e}());p_=function(){function e(t,n,i,r,s){i===void 0&&(i=1e3),r===void 0&&(r=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=r,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-r);s>0&&U("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ek=function(){function e(t,n,i,r,s,c){this.Se=t,this.zi=i,this.Hi=r,this.Ji=s,this.listener=c,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new p_(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return A(this,void 0,void 0,function(){return D(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(_e(n.toString()),_e("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===T.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(r){t.Yi===i&&t.lr(r)},function(r){n(function(){var s=new O(T.UNKNOWN,"Fetching auth token failed: "+r.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(r){i(function(){return n.dr(r)})}),this.stream.onMessage(function(r){i(function(){return n.onMessage(r)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return A(t,void 0,void 0,function(){return D(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return U("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),tB=function(e){function t(n,i,r,s,c){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,r,c)||this).R=s,l}return Z(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,c){var l;if("targetChange"in c){c.targetChange;var d=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Q()}(c.targetChange.targetChangeType||"NO_CHANGE"),f=c.targetChange.targetIds||[],m=function(S,R){return S.I?(at(R===void 0||typeof R=="string"),cn.fromBase64String(R||"")):(at(R===void 0||R instanceof Uint8Array),cn.fromUint8Array(R||new Uint8Array))}(s,c.targetChange.resumeToken),v=(y=c.targetChange.cause)&&function(S){var R=S.code===void 0?T.UNKNOWN:qA(S.code);return new O(R,S.message||"")}(y);l=new WA(d,f,m,v||null)}else if("documentChange"in c){c.documentChange,(d=c.documentChange).document,d.document.name,d.document.updateTime,f=Di(s,d.document.name),m=ze(d.document.updateTime);var y=new jn({mapValue:{fields:d.document.fields}}),_=(v=He.newFoundDocument(f,m,y),d.targetIds||[]),I=d.removedTargetIds||[];l=new yf(_,I,v.key,v)}else if("documentDelete"in c)c.documentDelete,(d=c.documentDelete).document,f=Di(s,d.document),m=d.readTime?ze(d.readTime):bt.min(),y=He.newNoDocument(f,m),v=d.removedTargetIds||[],l=new yf([],v,y.key,y);else if("documentRemove"in c)c.documentRemove,(d=c.documentRemove).document,f=Di(s,d.document),m=d.removedTargetIds||[],l=new yf([],m,f,null);else{if(!("filter"in c))return Q();c.filter;var E=c.filter;E.targetId,d=E.count||0,f=new Y2(d),m=E.targetId,l=new GA(m,f)}return l}(this.R,n),r=function(s){if(!("targetChange"in s))return bt.min();var c=s.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?ze(c.readTime):bt.min()}(n);return this.listener._r(i,r)},t.prototype.mr=function(n){var i={};i.database=hl(this.R),i.addTarget=function(s,c){var l,d=c.target;return(l=Sf(d)?{documents:ZA(s,d)}:{query:JA(s,d)}).targetId=c.targetId,c.resumeToken.approximateByteSize()>0?l.resumeToken=$A(s,c.resumeToken):c.snapshotVersion.compareTo(bt.min())>0&&(l.readTime=ll(s,c.snapshotVersion.toTimestamp())),l}(this.R,n);var r=function(s,c){var l=function(d,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Q()}}(0,c.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);r&&(i.labels=r),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=hl(this.R),i.removeTarget=n,this.cr(i)},t}(Ek),eB=function(e){function t(n,i,r,s,c){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,r,c)||this).R=s,l.gr=!1,l}return Z(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(at(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,c){return s&&s.length>0?(at(c!==void 0),s.map(function(l){return function(d,f){var m=d.updateTime?ze(d.updateTime):ze(f);return m.isEqual(bt.min())&&(m=ze(f)),new W2(m,d.transformResults||[])}(l,c)})):[]}(n.writeResults,n.commitTime),r=ze(n.commitTime);return this.listener.Tr(r,i)}return at(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=hl(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,r={streamToken:this.lastStreamToken,writes:n.map(function(s){return Df(i.R,s)})};this.cr(r)},t}(Ek),nB=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=r,s.Rr=!1,s}return Z(t,e),t.prototype.br=function(){if(this.Rr)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,r){var s=this;return this.br(),this.credentials.getToken().then(function(c){return s.Hi.Ni(n,i,r,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===T.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new O(T.UNKNOWN,c.toString())})},t.prototype.$i=function(n,i,r){var s=this;return this.br(),this.credentials.getToken().then(function(c){return s.Hi.$i(n,i,r,c)}).catch(function(c){throw c.name==="FirebaseError"?(c.code===T.UNAUTHENTICATED&&s.credentials.invalidateToken(),c):new O(T.UNKNOWN,c.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),iB=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(_e(n),this.Vr=!1):U("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),rB=function(e,t,n,i,r){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=r,this.Lr.di(function(c){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return zr(this)?(U("RemoteStore","Restarting streams for network reachability change."),[4,function(d){return A(this,void 0,void 0,function(){var f;return D(this,function(m){switch(m.label){case 0:return(f=H(d)).Or.add(4),[4,qa(f)];case 1:return m.sent(),f.Br.set("Unknown"),f.Or.delete(4),[4,El(f)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new iB(n,i)};hB=function(){function e(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Qe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(c){})}return e.createAndSchedule=function(t,n,i,r,s){var c=new e(t,n,Date.now()+i,r,s);return c.start(i),c},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(T.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();Ak=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||J.comparator(n.key,i.key)}:function(n,i){return J.comparator(n.key,i.key)},this.keyedMap=By(),this.sortedSet=new Ze(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),QD=function(){function e(){this.Qr=new Ze(J.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Q():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Of=function(){function e(t,n,i,r,s,c,l,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=l,this.excludesMetadataChanges=d}return e.fromInitialDocuments=function(t,n,i,r){var s=[];return n.forEach(function(c){s.push({type:0,doc:c})}),new e(t,n,Ak.emptySet(n),s,i,r,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0},e}(),fB=function(){this.Wr=void 0,this.listeners=[]},pB=function(){this.queries=new za(function(e){return MA(e)},bl),this.onlineState="Unknown",this.Gr=new Set};w_=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,r=t.docChanges;i<r.length;i++){var s=r[i];s.type!==3&&n.push(s)}t=new Of(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var c=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),c=!0):this.eo(t,this.onlineState)&&(this.no(t),c=!0),this.Xr=t,c},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Of.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),vB=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ZD=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Di(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?QA(this.R,t.document,!1):He.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return ze(t)},e}(),$H=function(){function e(t,n,i){this.ro=t,this.localStore=n,this.R=i,this.queries=[],this.documents=[],this.progress=bB(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,i=new ZD(this.R),r=0,s=t;r<s.length;r++){var c=s[r];if(c.metadata.queries)for(var l=i.qn(c.metadata.name),d=0,f=c.metadata.queries;d<f.length;d++){var m=f[d],v=(n.get(m)||Lt()).add(l);n.set(m,v)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,i,r,s;return D(this,function(c){switch(c.label){case 0:return[4,VU(this.localStore,new ZD(this.R),this.documents,this.ro.id)];case 1:t=c.sent(),n=this.co(this.documents),i=0,r=this.queries,c.label=2;case 2:return i<r.length?(s=r[i],[4,UU(this.localStore,s,n.get(s.name))]):[3,5];case 3:c.sent(),c.label=4;case 4:return i++,[3,2];case 5:return[2,(this.progress.taskState="Success",new MU(Object.assign({},this.progress),t))]}})})},e}();kk=function(e){this.key=e},Rk=function(e){this.key=e},Mk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Lt(),this.mutatedKeys=Lt(),this.lo=OA(t),this.fo=new Ak(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,r=n?n.mo:new QD,s=n?n.fo:this.fo,c=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1,f=vf(this.query)&&s.size===this.query.limit?s.last():null,m=xf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(y,_){var I=s.get(y),E=yl(i.query,_)?_:null,S=!!I&&i.mutatedKeys.has(I.key),R=!!E&&(E.hasLocalMutations||i.mutatedKeys.has(E.key)&&E.hasCommittedMutations),j=!1;I&&E?I.data.isEqual(E.data)?S!==R&&(r.track({type:3,doc:E}),j=!0):i.yo(I,E)||(r.track({type:2,doc:E}),j=!0,(f&&i.lo(E,f)>0||m&&i.lo(E,m)<0)&&(d=!0)):!I&&E?(r.track({type:0,doc:E}),j=!0):I&&!E&&(r.track({type:1,doc:I}),j=!0,(f||m)&&(d=!0)),j&&(E?(l=l.add(E),c=R?c.add(y):c.delete(y)):(l=l.delete(y),c=c.delete(y)))}),vf(this.query)||xf(this.query))for(;l.size>this.query.limit;){var v=vf(this.query)?l.last():l.first();l=l.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{fo:l,mo:r,Nn:d,mutatedKeys:c}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var r=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var c=t.mo.jr();c.sort(function(m,v){return function(y,_){var I=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return I(y)-I(_)}(m.type,v.type)||r.lo(m.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],d=this.ho.size===0&&this.current?1:0,f=d!==this.ao;return this.ao=d,c.length!==0||f?{snapshot:new Of(this.query,t.fo,s,c,t.mutatedKeys,d===0,f,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new QD,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Lt(),this.fo.forEach(function(r){t.Io(r.key)&&(t.ho=t.ho.add(r.key))});var i=[];return n.forEach(function(r){t.ho.has(r)||i.push(new Rk(r))}),this.ho.forEach(function(r){n.has(r)||i.push(new kk(r))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Lt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Of.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),yB=function(e,t,n){this.query=e,this.targetId=t,this.view=n},_B=function(e){this.key=e,this.bo=!1},wB=function(){function e(t,n,i,r,s,c){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.vo={},this.Po=new za(function(l){return MA(l)},bl),this.Vo=new Map,this.So=new Set,this.Do=new Ze(J.comparator),this.Co=new Map,this.No=new f_,this.xo={},this.ko=new Map,this.Fo=kf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();Fk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return D(this,function(n){switch(n.label){case 0:return this.R=qf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return mk(this.persistence,new pk,t.initialUser,this.R)},e.prototype.qo=function(t){return new WU(KU.bs,this.R)},e.prototype.Bo=function(t){return new wk},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Lk=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=r,s.synchronizeTabs=!1,s}return Z(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var i=this;return D(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,jU(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,x_(this.Qo.syncEngine)];case 4:return r.sent(),[4,Ha(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(n){return mk(this.persistence,new pk,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new SU(i,n.asyncQueue)},t.prototype.qo=function(n){var i=h_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new RU(this.synchronizeTabs,i,n.clientId,r,n.asyncQueue,Ik(),_f(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new wk},t}(Fk),VB=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i,!1)||this).Qo=n,r.cacheSizeBytes=i,r.synchronizeTabs=!0,r}return Z(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var i,r=this;return D(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Py?(this.sharedClientState.syncEngine={ui:NB.bind(null,i),ai:LB.bind(null,i),hi:jB.bind(null,i),fn:FB.bind(null,i),ci:OB.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(c){return A(r,void 0,void 0,function(){return D(this,function(l){switch(l.label){case 0:return[4,PB(this.Qo.syncEngine,c)];case 1:return l.sent(),this.gcScheduler&&(c&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):c||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=Ik();if(!Py.yt(i))throw new O(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var r=h_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Py(i,n.asyncQueue,r,n.clientId,n.initialUser)},t}(Lk),$y=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var i=this;return D(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return JD(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kB.bind(null,this.syncEngine),[4,Gy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new pB},e.prototype.createDatastore=function(t){var n,i=qf(t.databaseInfo.databaseId),r=(n=t.databaseInfo,new JU(n));return function(s,c,l){return new nB(s,c,l)}(t.credentials,r,i)},e.prototype.createRemoteStore=function(t){var n,i,r,s,c,l=this;return n=this.localStore,i=this.datastore,r=t.asyncQueue,s=function(d){return JD(l.syncEngine,d,0)},c=XD.yt()?new XD:new XU,new rB(n,i,r,s,c)},e.prototype.createSyncEngine=function(t,n){return function(i,r,s,c,l,d,f){var m=new wB(i,r,s,c,l,d);return f&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return D(this,function(i){switch(i.label){case 0:return n=H(t),U("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,qa(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();Gf=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),KH=function(){function e(t,n){var i=this;this.Go=t,this.R=n,this.metadata=new Qe,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(r){r&&r.io()?i.metadata.resolve(r.payload.metadata):i.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(r?.payload)))},function(r){return i.metadata.reject(r)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return D(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return A(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return A(this,void 0,void 0,function(){var t,n,i,r;return D(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),i=Number(n),isNaN(i)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(i)]);case 2:return r=s.sent(),[2,new vB(JSON.parse(r),t.length+i)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(i.sent())return[3,3];i.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return A(this,void 0,void 0,function(){var n;return D(this,function(i){switch(i.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:i.sent()&&this.Yo("Reached the end of bundle when more is expected."),i.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:return[4,this.Go.read()];case 1:return(t=i.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),UB=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,i=this;return D(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new O(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,c){return A(this,void 0,void 0,function(){var l,d,f,m,v,y;return D(this,function(_){switch(_.label){case 0:return l=H(s),d=hl(l.R)+"/documents",f={documents:c.map(function(I){return dl(l.R,I)})},[4,l.$i("BatchGetDocuments",d,f)];case 1:return m=_.sent(),v=new Map,m.forEach(function(I){var E=function(S,R){return"found"in R?function(j,B){at(!!B.found),B.found.name,B.found.updateTime;var et=Di(j,B.found.name),ft=ze(B.found.updateTime),V=new jn({mapValue:{fields:B.found.fields}});return He.newFoundDocument(et,ft,V)}(S,R):"missing"in R?function(j,B){at(!!B.missing),at(!!B.readTime);var et=Di(j,B.missing),ft=ze(B.readTime);return He.newNoDocument(et,ft)}(S,R):Q()}(l.R,I);v.set(E.key.toString(),E)}),y=[],[2,(c.forEach(function(I){var E=v.get(I.toString());at(!!E),y.push(E)}),y)]}})})}(this.datastore,t)];case 1:return[2,((n=r.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Il(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return D(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(r){t.delete(r.key.toString())}),t.forEach(function(r,s){var c=J.fromPath(s);n.mutations.push(new i_(c,n.precondition(c)))}),[4,function(r,s){return A(this,void 0,void 0,function(){var c,l,d;return D(this,function(f){switch(f.label){case 0:return c=H(r),l=hl(c.R)+"/documents",d={writes:s.map(function(m){return Df(c.R,m)})},[4,c.Ni("Commit",l,d)];case 1:return f.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Q();n=bt.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new O(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Xe.updateTime(n):Xe.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(bt.min()))throw new O(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xe.updateTime(n)}return Xe.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),BB=function(){function e(t,n,i,r){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=r,this.ec=5,this.Zi=new p_(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return A(t,void 0,void 0,function(){var n,i,r=this;return D(this,function(s){return n=new UB(this.datastore),(i=this.sc(n))&&i.then(function(c){r.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){r.deferred.resolve(c)}).catch(function(l){r.ic(l)})})}).catch(function(c){r.ic(c)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Xo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!zA(n)}return!1},e}(),zB=function(){function e(t,n,i){var r=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=IA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return A(r,void 0,void 0,function(){return D(this,function(c){switch(c.label){case 0:return U("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return c.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return D(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Qe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var i,r;return D(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),r=Wa(i,"Failed to shutdown persistence"),n.reject(r),[3,6];case 6:return[2]}})})}),n.promise},e}();qB=function(e,t,n,i,r,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.useFetchStreams=l},Nf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),oA=new Map,zk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},sA=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Be.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),HB=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),GB=function(){function e(t){var n=this;this.currentUser=Be.UNAUTHENTICATED,this.oc=new Qe,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(r){U("FirebaseCredentialsProvider","Auth detected"),n.auth=r,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(r){return i(r)}),setTimeout(function(){if(!n.auth){var r=t.getImmediate({optional:!0});r?i(r):(U("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(r){return t.cc!==n?(U("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):r?(at(typeof r.accessToken=="string"),new zk(r.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return A(i,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return[4,this.oc.promise];case 1:return r.sent(),[4,n(this.currentUser)];case 2:return r.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return at(t===null||typeof t=="string"),new Be(t)},e}(),WB=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Be.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),$B=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new WB(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Be.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();lA=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new O(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new O(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),pl=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lA({}),this._settingsFrozen=!1,t instanceof Nf?(this._databaseId=t,this._credentials=new sA):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new O(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(i.options.projectId)}(t),this._credentials=new GB(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new O(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new O(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lA(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new sA;switch(n.type){case"gapi":var i=n.client;return at(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new $B(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new O(T.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=oA.get(t))&&(U("ComponentProvider","Removing Datastore"),oA.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),ee=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Bn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Lr=function(e){function t(n,i,r){var s=this;return(s=e.call(this,n,i,Ba(r))||this)._path=r,s.type="collection",s}return Z(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ee(this.firestore,null,new J(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Bn);KB=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new p_(this,"async_queue_retry"),this.Ic=function(){var i=_f();i&&U("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=_f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Qe;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return A(this,void 0,void 0,function(){var t,n=this;return D(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qo(t=i.sent()))throw t;return U("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(r){throw n.yc=r,n.gc=!1,_e("INTERNAL UNHANDLED ERROR: ",function(s){var c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r)),r}).then(function(r){return n.gc=!1,r})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=hB.createAndSchedule(this,t,n,i,function(c){return r.vc(c)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Q()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return A(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(c,l){return c.targetTimeMs-l.targetTimeMs});for(var i=0,r=n.mc;i<r.length;i++){var s=r[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();YH=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Qe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,i){this._progressObserver={next:t,error:n,complete:i}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),$k=-1,we=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this).type="firestore",r._queue=new KB,r._persistenceKey="name"in n?n.name:"[DEFAULT]",r}return Z(t,e),t.prototype._terminate=function(){return this._firestoreClient||Kk(this),this._firestoreClient.terminate()},t}(pl);Ai=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new O(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ko=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(cn.fromBase64String(t))}catch(n){throw new O(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(cn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Jo=function(e){this._methodName=e},Cl=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new O(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new O(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Et(this._lat,t._lat)||Et(this._long,t._long)},e}(),YB=/^__.*__$/,XB=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,n,this.fieldTransforms):new wl(t,this.data,n,this.fieldTransforms)},e}(),Yk=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Br(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();Qk=function(){function e(t,n,i,r,s,c){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.xc({path:i,Fc:!1});return r.$c(t),r},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.xc({path:i,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Pf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Xk(this.Nc)&&YB.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),QB=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||qf(t)}return e.prototype.Uc=function(t,n,i,r){return r===void 0&&(r=!1),new Qk({Nc:t,methodName:n,qc:i,path:di.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();R_=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Jo);ZB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype._toFieldTransform=function(n){return new _l(n.path,new xa)},t.prototype.isEqual=function(n){return n instanceof t},t}(Jo),JB=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Kc=i,r}return Z(t,e),t.prototype._toFieldTransform=function(n){var i=Zk(this,n,!0),r=this.Kc.map(function(c){return es(c,i)}),s=new Wo(r);return new _l(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Jo),t4=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Kc=i,r}return Z(t,e),t.prototype._toFieldTransform=function(n){var i=Zk(this,n,!0),r=this.Kc.map(function(c){return es(c,i)}),s=new $o(r);return new _l(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Jo),e4=function(e){function t(n,i){var r=this;return(r=e.call(this,n)||this).Qc=i,r}return Z(t,e),t.prototype._toFieldTransform=function(n){var i=new Da(n.R,FA(n.R,this.Qc));return new _l(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Jo);n4=new RegExp("[~\\*/\\[\\]]");ml=function(){function e(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ee(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new i4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Ff("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),i4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ml);Bo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Ki=function(e){function t(n,i,r,s,c,l){var d=this;return(d=e.call(this,n,i,r,s,l)||this)._firestore=n,d._firestoreImpl=n,d.metadata=c,d}return Z(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var r=this._document.data.field(Ff("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}},t}(ml),sl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Ki),Nr=function(){function e(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Bo(r.hasPendingWrites,r.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(r){t.call(n,new sl(i._firestore,i._userDataWriter,r.key,r,new Bo(i._snapshot.mutatedKeys.has(r.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new sl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return r||l.type!==3}).map(function(l){var d=new sl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,m=-1;return l.type!==0&&(f=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(m=(c=c.add(l.doc)).indexOf(l.doc.key)),{type:r4(l.type),doc:d,oldIndex:f,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();Sl=function(){};o4=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=r,s.type="where",s}return Z(t,e),t.prototype._apply=function(n){var i=ts(n.firestore),r=function(s,c,l,d,f,m,v){var y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new O(T.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){vA(v,m);for(var _=[],I=0,E=v;I<E.length;I++){var S=E[I];_.push(gA(d,s,S))}y={arrayValue:{values:_}}}else y=gA(d,s,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||vA(v,m),y=Jk(l,"where",v,m==="in"||m==="not-in");var R=Un.create(f,m,y);return function(j,B){if(B.g()){var et=e_(j);if(et!==null&&!et.isEqual(B.field))throw new O(T.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+et.toString()+"' and '"+B.field.toString()+"'");var ft=t_(j);ft!==null&&sR(j,B.field,ft)}var V=function(jt,ti){for(var Y=0,ds=jt.filters;Y<ds.length;Y++){var C=ds[Y];if(ti.indexOf(C.op)>=0)return C.op}return null}(j,function(jt){switch(jt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(V!==null)throw V===B.op?new O(T.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+B.op.toString()+"' filter."):new O(T.INVALID_ARGUMENT,"Invalid query. You cannot use '"+B.op.toString()+"' filters with '"+V.toString()+"' filters.")}(s,R),R}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Bn(n.firestore,n.converter,function(s,c){var l=s.filters.concat([c]);return new Yi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))},t}(Sl),s4=function(e){function t(n,i){var r=this;return(r=e.call(this)||this).jc=n,r.zc=i,r.type="orderBy",r}return Z(t,e),t.prototype._apply=function(n){var i=function(r,s,c){if(r.startAt!==null)throw new O(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new O(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new wa(s,c);return function(d,f){if(t_(d)===null){var m=e_(d);m!==null&&sR(d,m,f.field)}}(r,l),l}(n._query,this.jc,this.zc);return new Bn(n.firestore,n.converter,function(r,s){var c=r.explicitOrderBy.concat([s]);return new Yi(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(n._query,i))},t}(Sl),fA=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=r,s}return Z(t,e),t.prototype._apply=function(n){return new Bn(n.firestore,n.converter,RA(n._query,this.Hc,this.Jc))},t}(Sl),pA=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=r,s}return Z(t,e),t.prototype._apply=function(n){var i=oR(n,this.type,this.Yc,this.Xc);return new Bn(n.firestore,n.converter,function(r,s){return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(n._query,i))},t}(Sl),mA=function(e){function t(n,i,r){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=r,s}return Z(t,e),t.prototype._apply=function(n){var i=oR(n,this.type,this.Yc,this.Xc);return new Bn(n.firestore,n.converter,function(r,s){return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(n._query,i))},t}(Sl);F_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Go(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}},e.prototype.convertObject=function(t,n){var i=this,r={};return Yo(t.fields,function(s,c){r[s]=i.convertValue(c,n)}),r},e.prototype.convertGeoPoint=function(t){return new Cl(ye(t.latitude),ye(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(r){return i.convertValue(r,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=TA(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(al(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Vr(t);return new an(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Rt.fromString(t);at(nk(i));var r=new Nf(i.get(1),i.get(3)),s=new J(i.popFirst(5));return r.isEqual(n)||_e("Document "+s+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();a4=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Z(t,e),t.prototype.convertBytes=function(n){return new Ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new ee(this.firestore,null,i)},t}(F_),c4=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ts(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var r=Pr(t,this._firestore),s=Yf(r.converter,n,i),c=Kf(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(c.toMutation(r._key,Xe.none())),this},e.prototype.update=function(t,n,i){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];this._verifyNotCommitted();var c,l=Pr(t,this._firestore);return c=typeof(n=Ot(n))=="string"||n instanceof Ai?O_(this._dataReader,"WriteBatch.update",l._key,n,i,r):M_(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Xe.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Pr(t,this._firestore);return this._mutations=this._mutations.concat(new Il(n._key,Xe.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new O(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();Ho=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Z(t,e),t.prototype.convertBytes=function(n){return new Ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new ee(this.firestore,null,i)},t}(F_);u4=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this)._firestore=n,r}return Z(t,e),t.prototype.get=function(n){var i=this,r=Pr(n,this._firestore),s=new Ho(this._firestore);return e.prototype.get.call(this,n).then(function(c){return new Ki(i._firestore,s,r._key,c._document,new Bo(!1,!1),r.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ts(t)}return e.prototype.get=function(t){var n=this,i=Pr(t,this._firestore),r=new a4(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return Q();var c=s[0];if(c.isFoundDocument())return new ml(n._firestore,r,c.key,c,i.converter);if(c.isNoDocument())return new ml(n._firestore,r,i._key,null,i.converter);throw Q()})},e.prototype.set=function(t,n,i){var r=Pr(t,this._firestore),s=Yf(r.converter,n,i),c=Kf(this._dataReader,"Transaction.set",r._key,s,r.converter!==null,i);return this._transaction.set(r._key,c),this},e.prototype.update=function(t,n,i){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var c,l=Pr(t,this._firestore);return c=typeof(n=Ot(n))=="string"||n instanceof Ai?O_(this._dataReader,"Transaction.update",l._key,n,i,r):M_(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this},e.prototype.delete=function(t){var n=Pr(t,this._firestore);return this._transaction.delete(n._key),this},e}());L_=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return wA(),new e(Ko.fromBase64String(t))},e.fromUint8Array=function(t){return _A(),new e(Ko.fromUint8Array(t))},e.prototype.toBase64=function(){return wA(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return _A(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),cR=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,r){hA(i=Nt(i,we));var s=Ye(i),c=i._freezeSettings(),l=new $y;return dA(s,l,new Lk(l,c.cacheSizeBytes,r?.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){hA(n=Nt(n,we));var i=Ye(n),r=n._freezeSettings(),s=new $y;return dA(i,s,new VB(s,r.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new O(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Qe;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(i,void 0,void 0,function(){var s;return D(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,function(l){return A(this,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return Ra.yt()?(d=l+"main",[4,Ra.delete(d)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(h_(n._databaseId,n._persistenceKey))];case 1:return c.sent(),r.resolve(),[3,3];case 2:return s=c.sent(),r.reject(s),[3,3];case 3:return[2]}})})}),r.promise}(t._delegate)},e}(),j_=function(){function e(t,n,i){var r=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Nf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||If("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(r,s,c,l){var d;l===void 0&&(l={});var f=(r=Nt(r,pl))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==s&&If("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},f),{host:s+":"+c,ssl:!1})),l.mockUserToken){var m,v;if(typeof l.mockUserToken=="string")m=l.mockUserToken,v=Be.MOCK_USER;else{m=Ah(l.mockUserToken,(d=r._app)===null||d===void 0?void 0:d.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new O(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Be(y)}r._credentials=new HB(new zk(m,v))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var i,r;return D(this,function(s){switch(s.label){case 0:return[4,eA(t)];case 1:return i=s.sent(),[4,nA(t)];case 2:return r=s.sent(),[2,(i.setNetworkEnabled(!0),function(c){var l=H(c);return l.Or.delete(0),El(l)}(r))]}})})})}(Ye(Nt(this._delegate,we)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var i,r;return D(this,function(s){switch(s.label){case 0:return[4,eA(t)];case 1:return i=s.sent(),[4,nA(t)];case 2:return r=s.sent(),[2,(i.setNetworkEnabled(!1),function(c){return A(this,void 0,void 0,function(){var l;return D(this,function(d){switch(d.label){case 0:return(l=H(c)).Or.add(0),[4,qa(l)];case 1:return d.sent(),l.Br.set("Offline"),[2]}})})}(r))]}})})})}(Ye(Nt(this._delegate,we)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&qk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Qe;return t.asyncQueue.enqueueAndForget(function(){return A(n,void 0,void 0,function(){var r;return D(this,function(s){switch(s.label){case 0:return r=DB,[4,Bk(t)];case 1:return[2,r.apply(void 0,[s.sent(),i])]}})})}),i.promise}(Ye(Nt(this._delegate,we)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(r,s){var c=this,l=new Gf(s);return r.asyncQueue.enqueueAndForget(function(){return A(c,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return d=function(m,v){H(m).Gr.add(v),v.next()},[4,La(r)];case 1:return[2,d.apply(void 0,[f.sent(),l])]}})})}),function(){l.Wo(),r.asyncQueue.enqueueAndForget(function(){return A(c,void 0,void 0,function(){var d;return D(this,function(f){switch(f.label){case 0:return d=function(m,v){H(m).Gr.delete(v)},[4,La(r)];case 1:return[2,d.apply(void 0,[f.sent(),l])]}})})})}}(Ye(n=Nt(n,we)),ja(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new O(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gl(this,Hk(this._delegate,t))}catch(n){throw sn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new jr(this,wf(this._delegate,t))}catch(n){throw sn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xl(this,function(n,i){if(n=Nt(n,pl),A_("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new O(T.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bn(n,null,function(r){return new Yi(Rt.emptyPath(),r)}(i))}(this._delegate,t))}catch(n){throw sn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,r){return function(s,c){var l=this,d=new Qe;return s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var f;return D(this,function(m){switch(m.label){case 0:return[4,function(v){return Wf(v).then(function(y){return y.datastore})}(s)];case 1:return f=m.sent(),new BB(s.asyncQueue,f,c,d).run(),[2]}})})}),d.promise}(Ye(i),function(s){return r(new u4(i,s))})}(this._delegate,function(i){return t(new V_(n,i))})},e.prototype.batch=function(){var t=this;return Ye(this._delegate),new U_(new c4(this._delegate,function(n){return Tl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new O(T.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new O(T.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Xf=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Z(t,e),t.prototype.convertBytes=function(n){return new L_(new Ko(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return jr.eu(i,this.firestore,null)},t}(F_);V_=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Xf(t)}return e.prototype.get=function(t){var n=this,i=zo(t);return this._delegate.get(i).then(function(r){return new Va(n._firestore,new Ki(n._firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,i.converter))})},e.prototype.set=function(t,n,i){var r=zo(t);return i?(k_("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this},e.prototype.update=function(t,n,i){for(var r,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var l=zo(t);return arguments.length===2?this._delegate.update(l,n):(r=this._delegate).update.apply(r,Ut([l,n,i],s)),this},e.prototype.delete=function(t){var n=zo(t);return this._delegate.delete(n),this},e}(),U_=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var r=zo(t);return i?(k_("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this},e.prototype.update=function(t,n,i){for(var r,s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var l=zo(t);return arguments.length===2?this._delegate.update(l,n):(r=this._delegate).update.apply(r,Ut([l,n,i],s)),this},e.prototype.delete=function(t){var n=zo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Qf=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new sl(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ua(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var s=r.get(n);return s||(s=new e(t,new Xf(t),n),r.set(n,s)),s},e}();Qf.su=new WeakMap;jr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Xf(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new O(T.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ee(n._delegate,i,new J(t)))},e.eu=function(t,n,i){return new e(n,new ee(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gl(this.firestore,Hk(this._delegate,t))}catch(n){throw sn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Ot(t))instanceof ee&&Gk(this._delegate,t)},e.prototype.set=function(t,n){n=k_("DocumentReference.set",n);try{return n?bA(this._delegate,t,n):bA(this._delegate,t)}catch(i){throw sn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];try{return arguments.length===1?yA(this._delegate,t):yA.apply(void 0,Ut([this._delegate,t,n],i))}catch(s){throw sn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Tl(Nt((t=this._delegate).firestore,we),[new Il(t._key,Xe.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=lR(n),s=dR(n,function(c){return new Va(t.firestore,new Ki(t.firestore._delegate,t._userDataWriter,c._key,c._document,c.metadata,t._delegate.converter))});return aR(this._delegate,r,s)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=Nt(i,ee);var r=Nt(i.firestore,we),s=Ye(r),c=new Ho(r);return function(l,d){var f=this,m=new Qe;return l.asyncQueue.enqueueAndForget(function(){return A(f,void 0,void 0,function(){var v;return D(this,function(y){switch(y.label){case 0:return v=function(_,I,E){return A(this,void 0,void 0,function(){var S,R;return D(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,function(B,et){var ft=H(B);return ft.persistence.runTransaction("read document","readonly",function(V){return ft.Mn.mn(V,et)})}(_,I)];case 1:return(R=j.sent()).isFoundDocument()?E.resolve(R):R.isNoDocument()?E.resolve(null):E.reject(new O(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=j.sent(),R=Wa(S,"Failed to get document '"+I+" from cache"),E.reject(R),[3,3];case 3:return[2]}})})},[4,Uk(l)];case 1:return[2,v.apply(void 0,[y.sent(),d,m])]}})})}),m.promise}(s,i._key).then(function(l){return new Ki(r,c,i._key,l,new Bo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):t?.source==="server"?function(i){i=Nt(i,ee);var r=Nt(i.firestore,we);return iA(Ye(r),i._key,{source:"server"}).then(function(s){return Yy(r,i,s)})}(this._delegate):function(i){i=Nt(i,ee);var r=Nt(i.firestore,we);return iA(Ye(r),i._key).then(function(s){return Yy(r,i,s)})}(this._delegate)).then(function(i){return new Va(n.firestore,new Ki(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Qf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();Va=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new jr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return iR(this._delegate,t._delegate)},e}(),Ua=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Va),xl=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Xf(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,kr(this._delegate,function(r,s,c){var l=s,d=Ff("where",r);return new o4(d,l,c)}(t,n,i)))}catch(r){throw sn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,kr(this._delegate,function(i,r){r===void 0&&(r="asc");var s=r,c=Ff("orderBy",i);return new s4(c,s)}(t,n)))}catch(i){throw sn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,kr(this._delegate,function(n){return uA("limit",n),new fA("limit",n,"F")}(t)))}catch(n){throw sn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,kr(this._delegate,function(n){return uA("limitToLast",n),new fA("limitToLast",n,"L")}(t)))}catch(n){throw sn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new pA("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw sn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new pA("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw sn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new mA("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw sn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,kr(this._delegate,(function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return new mA("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw sn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Wk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return(t?.source==="cache"?function(i){i=Nt(i,Bn);var r=Nt(i.firestore,we),s=Ye(r),c=new Ho(r);return function(l,d){var f=this,m=new Qe;return l.asyncQueue.enqueueAndForget(function(){return A(f,void 0,void 0,function(){var v;return D(this,function(y){switch(y.label){case 0:return v=function(_,I,E){return A(this,void 0,void 0,function(){var S,R,j,B,et;return D(this,function(ft){switch(ft.label){case 0:return ft.trys.push([0,2,,3]),[4,Rf(_,I,!0)];case 1:return et=ft.sent(),S=new Mk(I,et.Bn),R=S._o(et.documents),j=S.applyChanges(R,!1),E.resolve(j.snapshot),[3,3];case 2:return B=ft.sent(),et=Wa(B,"Failed to execute query '"+I+" against cache"),E.reject(et),[3,3];case 3:return[2]}})})},[4,Uk(l)];case 1:return[2,v.apply(void 0,[y.sent(),d,m])]}})})}),m.promise}(s,i._query).then(function(l){return new Nr(r,c,i,l)})}(this._delegate):t?.source==="server"?function(i){i=Nt(i,Bn);var r=Nt(i.firestore,we),s=Ye(r),c=new Ho(r);return rA(s,i._query,{source:"server"}).then(function(l){return new Nr(r,c,i,l)})}(this._delegate):function(i){i=Nt(i,Bn);var r=Nt(i.firestore,we),s=Ye(r),c=new Ho(r);return rR(i._query),rA(s,i._query).then(function(l){return new Nr(r,c,i,l)})}(this._delegate)).then(function(i){return new Lf(n.firestore,new Nr(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=lR(n),s=dR(n,function(c){return new Lf(t.firestore,new Nr(t.firestore._delegate,t._userDataWriter,t._delegate,c._snapshot))});return aR(this._delegate,r,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Qf.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),l4=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ua(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Lf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new xl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ua(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new l4(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(r){t.call(n,new Ua(i._firestore,r))})},e.prototype.isEqual=function(t){return iR(this._delegate,t._delegate)},e}(),gl=function(e){function t(n,i){var r=this;return(r=e.call(this,n,i)||this).firestore=n,r._delegate=i,r}return Z(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new jr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new jr(this.firestore,n===void 0?wf(this._delegate):wf(this._delegate,n))}catch(i){throw sn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(r,s){var c=Nt(r.firestore,we),l=wf(r),d=Yf(r.converter,s);return Tl(c,[Kf(ts(r.firestore),"addDoc",l._key,d,r.converter!==null,{}).toMutation(l._key,Xe.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(r){return new jr(i.firestore,r)})},t.prototype.isEqual=function(n){return Gk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Qf.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(xl);hR=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ai.bind.apply(Ai,Ut([void 0],t)))}return e.documentId=function(){return new e(di.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Ot(t))instanceof Ai&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),fR=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new ZB("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new R_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new JB("arrayUnion",r)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return new t4("arrayRemove",r)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new e4("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();});function h4(e){(function(t,n){t.INTERNAL.registerComponent(new Sr("firestore",function(i){var r=i.getProvider("app").getImmediate();return n(r,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},d4)))})(e,function(t,n){return new j_(t,new we(t,n),new cR)}),e.registerVersion("@firebase/firestore","2.4.1")}var d4,mR=xn(()=>{"use strict";la();pR();Rh();aa();Oh();Ry();d4={Firestore:j_,GeoPoint:Cl,Timestamp:an,Blob:L_,Transaction:V_,WriteBatch:U_,DocumentReference:jr,DocumentSnapshot:Va,Query:xl,QueryDocumentSnapshot:Ua,QuerySnapshot:Lf,CollectionReference:gl,FieldPath:hR,FieldValue:fR,setLogLevel:uR,CACHE_SIZE_UNLIMITED:$k};h4(it)});var f4={};var gR=xn(()=>{"use strict";mR()});function v0(e){return"storage/"+e}function I0(){var e="An unknown error occurred, please check the error payload for server response.";return new Ie("unknown",e)}function Rz(e){return new Ie("object-not-found","Object '"+e+"' does not exist.")}function Mz(e){return new Ie("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Oz(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ie("unauthenticated",e)}function Nz(){return new Ie("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Pz(e){return new Ie("unauthorized","User does not have permission to access '"+e+"'.")}function Fz(){return new Ie("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function v1(){return new Ie("canceled","User canceled the upload/download.")}function Lz(e){return new Ie("invalid-url","Invalid URL '"+e+"'.")}function jz(e){return new Ie("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Vz(){return new Ie("no-default-bucket","No default bucket found. Did you set the '"+g1+"' property when initializing the app?")}function b1(){return new Ie("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Uz(){return new Ie("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Bz(){return new Ie("no-download-url","The given file does not have any download URLs.")}function pc(e){return new Ie("invalid-argument",e)}function y1(){return new Ie("app-deleted","The Firebase app was deleted.")}function _1(e){return new Ie("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(e,t){return new Ie("invalid-format","String does not match format '"+e+"': "+t)}function up(e){throw new Ie("internal-error","Internal error: "+e)}function zz(e){return atob(e)}function w1(e,t){switch(e){case Zn.RAW:return new b0(I1(t));case Zn.BASE64:case Zn.BASE64URL:return new b0(E1(e,t));case Zn.DATA_URL:return new b0(Hz(t),Gz(t))}throw I0()}function I1(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var r=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!r)t.push(239,191,189);else{var s=i,c=e.charCodeAt(++n);i=65536|(s&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function qz(e){var t;try{t=decodeURIComponent(e)}catch{throw Ul(Zn.DATA_URL,"Malformed data URL.")}return I1(t)}function E1(e,t){switch(e){case Zn.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var r=n?"-":"_";throw Ul(e,"Invalid character '"+r+"' found: is it base64url encoded?")}break}case Zn.BASE64URL:{var s=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(s||c){var r=s?"+":"/";throw Ul(e,"Invalid character '"+r+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=zz(t)}catch{throw Ul(e,"Invalid character found")}for(var d=new Uint8Array(l.length),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);return d}function Hz(e){var t=new C1(e);return t.base64?E1(Zn.BASE64,t.rest):qz(t.rest)}function Gz(e){var t=new C1(e);return t.contentType}function Wz(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}function y0(e){switch(e){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}function Yz(){return new Kz}function Zz(e,t,n){var i=1,r=null,s=!1,c=0;function l(){return c===2}var d=!1;function f(){for(var I=[],E=0;E<arguments.length;E++)I[E]=arguments[E];d||(d=!0,t.apply(null,I))}function m(I){r=setTimeout(function(){r=null,e(v,l())},I)}function v(I){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];if(!d){if(I){f.call.apply(f,Ut([null,I],E));return}var R=l()||s;if(R){f.call.apply(f,Ut([null,I],E));return}i<64&&(i*=2);var j;c===1?(c=2,j=0):j=(i+Math.random())*1e3,m(j)}}var y=!1;function _(I){y||(y=!0,!d&&(r!==null?(I||(c=2),clearTimeout(r),m(0)):I||(c=1)))}return m(0),setTimeout(function(){s=!0,_(!0)},n),_}function Jz(e){e(!1)}function t3(e){return e!==void 0}function e3(e){return typeof e=="function"}function n3(e){return typeof e=="object"&&!Array.isArray(e)}function pp(e){return typeof e=="string"||e instanceof String}function a1(e){return E0()&&e instanceof Blob}function E0(){return typeof Blob<"u"}function _0(e,t,n,i){if(i<t)throw pc("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw pc("Invalid value for '"+e+"'. Expected "+n+" or less.")}function $r(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n?.[1],r=t;return i==null&&(r="https://"+t),r+"/v0"+e}function S1(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}function r3(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function o3(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function s3(e,t){t&&(e["X-Firebase-GMPID"]=t)}function a3(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function c3(e,t,n,i,r,s){var c=S1(e.urlParams),l=e.url+c,d=Object.assign({},e.headers);return s3(d,t),r3(d,n),o3(d,s),a3(d,i),new i3(l,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}function u3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function l3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=u3();if(n!==void 0){for(var i=new n,r=0;r<e.length;r++)i.append(e[r]);return i.getBlob()}else{if(E0())return new Blob(e);throw new Ie("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function d3(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function S0(e){var t;try{t=JSON.parse(e)}catch{return null}return n3(t)?t:null}function h3(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function f3(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function T1(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function p3(e,t){return t}function m3(e){return!pp(e)||e.length<2?e:T1(e)}function mp(){if(dp)return dp;var e=[];e.push(new un("bucket")),e.push(new un("generation")),e.push(new un("metageneration")),e.push(new un("name","fullPath",!0));function t(s,c){return m3(c)}var n=new un("name");n.xform=t,e.push(n);function i(s,c){return c!==void 0?Number(c):c}var r=new un("size");return r.xform=i,e.push(r),e.push(new un("timeCreated")),e.push(new un("updated")),e.push(new un("md5Hash",null,!0)),e.push(new un("cacheControl",null,!0)),e.push(new un("contentDisposition",null,!0)),e.push(new un("contentEncoding",null,!0)),e.push(new un("contentLanguage",null,!0)),e.push(new un("contentType",null,!0)),e.push(new un("metadata","customMetadata",!0)),dp=e,dp}function g3(e,t){function n(){var i=e.bucket,r=e.fullPath,s=new Jn(i,r);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function v3(e,t,n){var i={};i.type="file";for(var r=n.length,s=0;s<r;s++){var c=n[s];i[c.local]=c.xform(i,t[c.server])}return g3(i,e),i}function x1(e,t,n){var i=S0(t);if(i===null)return null;var r=i;return v3(e,r,n)}function b3(e,t,n){var i=S0(t);if(i===null||!pp(i.downloadTokens))return null;var r=i.downloadTokens;if(r.length===0)return null;var s=encodeURIComponent,c=r.split(","),l=c.map(function(d){var f=e.bucket,m=e.fullPath,v="/b/"+s(f)+"/o/"+s(m),y=$r(v,n),_=S1({alt:"media",token:d});return y+_});return l[0]}function T0(e,t){for(var n={},i=t.length,r=0;r<i;r++){var s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}function y3(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[c1])for(var r=0,s=n[c1];r<s.length;r++){var c=s[r],l=c.replace(/\/$/,""),d=e._makeStorageReference(new Jn(t,l));i.prefixes.push(d)}if(n[u1])for(var f=0,m=n[u1];f<m.length;f++){var v=m[f],d=e._makeStorageReference(new Jn(t,v.name));i.items.push(d)}return i}function _3(e,t,n){var i=S0(n);if(i===null)return null;var r=i;return y3(e,t,r)}function Ri(e){if(!e)throw I0()}function gp(e,t){function n(i,r){var s=x1(e,r,t);return Ri(s!==null),s}return n}function w3(e,t){function n(i,r){var s=_3(e,t,r);return Ri(s!==null),s}return n}function I3(e,t){function n(i,r){var s=x1(e,r,t);return Ri(s!==null),b3(s,r,e.host)}return n}function gc(e){function t(n,i){var r;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?r=Nz():r=Oz():n.getStatus()===402?r=Mz(e.bucket):n.getStatus()===403?r=Pz(e.path):r=i,r.serverResponse=i.serverResponse,r}return t}function vp(e){var t=gc(e);function n(i,r){var s=t(i,r);return i.getStatus()===404&&(s=Rz(e.path)),s.serverResponse=r.serverResponse,s}return n}function D1(e,t,n){var i=t.fullServerUrl(),r=$r(i,e.host),s="GET",c=e.maxOperationRetryTime,l=new Ji(r,s,gp(e,n),c);return l.errorHandler=vp(t),l}function E3(e,t,n,i,r){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);var c=t.bucketOnlyServerUrl(),l=$r(c,e.host),d="GET",f=e.maxOperationRetryTime,m=new Ji(l,d,w3(e,t.bucket),f);return m.urlParams=s,m.errorHandler=gc(t),m}function C3(e,t,n){var i=t.fullServerUrl(),r=$r(i,e.host),s="GET",c=e.maxOperationRetryTime,l=new Ji(r,s,I3(e,n),c);return l.errorHandler=vp(t),l}function S3(e,t,n,i){var r=t.fullServerUrl(),s=$r(r,e.host),c="PATCH",l=T0(n,i),d={"Content-Type":"application/json; charset=utf-8"},f=e.maxOperationRetryTime,m=new Ji(s,c,gp(e,i),f);return m.headers=d,m.body=l,m.errorHandler=vp(t),m}function T3(e,t){var n=t.fullServerUrl(),i=$r(n,e.host),r="DELETE",s=e.maxOperationRetryTime;function c(d,f){}var l=new Ji(i,r,c,s);return l.successCodes=[200,204],l.errorHandler=vp(t),l}function x3(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function A1(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=x3(null,t)),i}function D3(e,t,n,i,r){var s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var B="",et=0;et<2;et++)B=B+Math.random().toString().slice(2);return B}var d=l();c["Content-Type"]="multipart/related; boundary="+d;var f=A1(t,i,r),m=T0(f,n),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",_=C0.getBlob(v,i,y);if(_===null)throw b1();var I={name:f.fullPath},E=$r(s,e.host),S="POST",R=e.maxUploadRetryTime,j=new Ji(E,S,gp(e,n),R);return j.urlParams=I,j.headers=c,j.body=_.uploadData(),j.errorHandler=gc(t),j}function x0(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}var i=t||["active"];return Ri(!!n&&i.indexOf(n)!==-1),n}function A3(e,t,n,i,r){var s=t.bucketOnlyServerUrl(),c=A1(t,i,r),l={name:c.fullPath},d=$r(s,e.host),f="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=T0(c,n),y=e.maxUploadRetryTime;function _(E){x0(E);var S;try{S=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(pp(S)),S}var I=new Ji(d,f,_,y);return I.urlParams=l,I.headers=m,I.body=v,I.errorHandler=gc(t),I}function k3(e,t,n,i){var r={"X-Goog-Upload-Command":"query"};function s(f){var m=x0(f,["active","final"]),v=null;try{v=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}v||Ri(!1);var y=Number(v);return Ri(!isNaN(y)),new fp(y,i.size(),m==="final")}var c="POST",l=e.maxUploadRetryTime,d=new Ji(n,c,s,l);return d.headers=r,d.errorHandler=gc(t),d}function R3(e,t,n,i,r,s,c,l){var d=new fp(0,0);if(c?(d.current=c.current,d.total=c.total):(d.current=0,d.total=i.size()),i.size()!==d.total)throw Uz();var f=d.total-d.current,m=f;r>0&&(m=Math.min(m,r));var v=d.current,y=v+m,_=m===f?"upload, finalize":"upload",I={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":""+d.current},E=i.slice(v,y);if(E===null)throw b1();function S(et,ft){var V=x0(et,["active","final"]),jt=d.current+m,ti=i.size(),Y;return V==="final"?Y=gp(t,s)(et,ft):Y=null,new fp(jt,ti,V==="final",Y)}var R="POST",j=t.maxUploadRetryTime,B=new Ji(n,R,S,j);return B.headers=I,B.body=E.uploadData(),B.progressCallback=l||null,B.errorHandler=gc(e),B}function fc(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}function O3(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new k1(e,new C0(t),n)}function N3(e){var t={prefixes:[],items:[]};return R1(e,t).then(function(){return t})}function R1(e,t,n){return A(this,void 0,void 0,function(){var i,r,s,c;return D(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,M1(e,i)];case 1:return r=l.sent(),(s=t.prefixes).push.apply(s,r.prefixes),(c=t.items).push.apply(c,r.items),r.nextPageToken==null?[3,3]:[4,R1(e,t,r.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function M1(e,t){return A(this,void 0,void 0,function(){var n,i;return D(this,function(r){switch(r.label){case 0:return t!=null&&typeof t.maxResults=="number"&&_0("options.maxResults",1,1e3,t.maxResults),n=t||{},i=E3(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function P3(e){return A(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=D1(e.storage,e._location,mp()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function F3(e,t){return A(this,void 0,void 0,function(){var n;return D(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=S3(e.storage,e._location,t,mp()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function L3(e){return A(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=C3(e.storage,e._location,mp()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw Bz();return i})]}})})}function j3(e){return A(this,void 0,void 0,function(){var t;return D(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=T3(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function O1(e,t){var n=f3(e._location.path,t),i=new Jn(e._location.bucket,n);return new bp(e.storage,i)}function w0(e){return/^[A-Za-z]+:\/\//.test(e)}function V3(e,t){return new bp(e,t)}function N1(e,t){if(e instanceof yp){var n=e;if(n._bucket==null)throw Vz();var i=new bp(n,n._bucket);return t!=null?N1(i,t):i}else return t!==void 0?O1(e,t):e}function U3(e,t){if(t&&w0(t)){if(e instanceof yp)return V3(e,t);throw pc("To use ref(service, url), the first argument must be a Storage instance.")}else return N1(e,t)}function d1(e,t){var n=t?.[g1];return n==null?null:Jn.makeFromBucketSpec(n,e)}function B3(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var r=i.mockUserToken;r&&(e._overrideAuthToken=typeof r=="string"?r:Ah(r,e.app.options.projectId))}function z3(e,t,n){return e=Ot(e),O3(e,t,n)}function q3(e){return e=Ot(e),P3(e)}function H3(e,t){return e=Ot(e),F3(e,t)}function G3(e,t){return e=Ot(e),M1(e,t)}function W3(e){return e=Ot(e),N3(e)}function $3(e){return e=Ot(e),L3(e)}function K3(e){return e=Ot(e),j3(e)}function h1(e,t){return e=Ot(e),U3(e,t)}function Y3(e,t){return O1(e,t)}function X3(e,t,n,i){i===void 0&&(i={}),B3(e,t,n,i)}function eq(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),c=new Q3(i,new yp(i,r,s,new Xz,n,it.SDK_VERSION));return c}function nq(e){var t={TaskState:ln,TaskEvent:$z,StringFormat:Zn,Storage:yp,Reference:Bl};e.INTERNAL.registerComponent(new Sr(tq,eq,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Z3,J3)}var m1,g1,Az,kz,Ie,Zn,b0,C1,$z,ln,mc,Kz,Xz,Jn,Qz,i3,lp,C0,un,dp,c1,u1,Ji,fp,l1,M3,k1,bp,yp,hp,f1,p1,Bl,Q3,Z3,J3,tq,P1=xn(()=>{"use strict";la();ru();aa();Rh();m1="firebasestorage.googleapis.com",g1="storageBucket",Az=2*60*1e3,kz=10*60*1e3,Ie=function(e){Z(t,e);function t(n,i){var r=e.call(this,v0(n),"Firebase Storage: "+i+" ("+v0(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,t.prototype),r}return t.prototype._codeEquals=function(n){return v0(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Nb);Zn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},b0=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();C1=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ul(Zn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=Wz(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();$z={STATE_CHANGED:"state_changed"},ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};mc=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(mc||{});Kz=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=mc.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=mc.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=mc.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,r){if(this.sent_)throw up("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(var s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw up("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw up("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw up("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();Xz=function(){function e(){}return e.prototype.createConnection=function(){return Yz()},e}();Jn=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw jz(t)},e.makeFromUrl=function(t,n){var i=null,r="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}var c="(/(.*))?$",l=new RegExp("^gs://"+r+c,"i"),d={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}for(var m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp("^https?://"+v+"/"+m+"/b/"+r+"/o"+y,"i"),I={bucket:1,path:3},E=n===m1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",R=new RegExp("^https?://"+E+"/"+r+"/"+S,"i"),j={bucket:1,path:2},B=[{regex:l,indices:d,postModify:s},{regex:_,indices:I,postModify:f},{regex:R,indices:j,postModify:f}],et=0;et<B.length;et++){var ft=B[et],V=ft.regex.exec(t);if(V){var jt=V[ft.indices.bucket],ti=V[ft.indices.path];ti||(ti=""),i=new e(jt,ti),ft.postModify(i);break}}if(i==null)throw Lz(t);return i},e}(),Qz=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();i3=function(){function e(t,n,i,r,s,c,l,d,f,m,v){var y=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s.slice(),this.additionalRetryCodes_=c.slice(),this.callback_=l,this.errorCallback_=d,this.progressCallback_=m,this.timeout_=f,this.pool_=v,this.promise_=new Promise(function(_,I){y.resolve_=_,y.reject_=I,y.start_()})}return e.prototype.start_=function(){var t=this;function n(r,s){if(s){r(!1,new lp(!1,null,!0));return}var c=t.pool_.createConnection();t.pendingConnection_=c;function l(d){var f=d.loaded,m=d.lengthComputable?d.total:-1;t.progressCallback_!==null&&t.progressCallback_(f,m)}t.progressCallback_!==null&&c.addUploadProgressListener(l),c.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingConnection_=null;var d=c.getErrorCode()===mc.NO_ERROR,f=c.getStatus();if(!d||t.isRetryStatusCode_(f)){var m=c.getErrorCode()===mc.ABORT;r(!1,new lp(!1,null,m));return}var v=t.successCodes_.indexOf(f)!==-1;r(!0,new lp(v,c))})}function i(r,s){var c=t.resolve_,l=t.reject_,d=s.connection;if(s.wasSuccessCode)try{var f=t.callback_(d,d.getResponseText());t3(f)?c(f):c()}catch(v){l(v)}else if(d!==null){var m=I0();m.serverResponse=d.getResponseText(),t.errorCallback_?l(t.errorCallback_(d,m)):l(m)}else if(s.canceled){var m=t.appDelete_?y1():v1();l(m)}else{var m=Fz();l(m)}}this.canceled_?i(!1,new lp(!1,null,!0)):this.backoffId_=Zz(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Jz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],r=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||r||s},e}(),lp=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();C0=function(){function e(t,n){var i=0,r="";a1(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(a1(this.data_)){var i=this.data_,r=d3(i,t,n);return r===null?null:new e(r)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(E0()){var i=t.map(function(d){return d instanceof e?d.data_:d});return new e(l3.apply(null,i))}else{var r=t.map(function(d){return pp(d)?w1(Zn.RAW,d).data:d.data_}),s=0;r.forEach(function(d){s+=d.byteLength});var c=new Uint8Array(s),l=0;return r.forEach(function(d){for(var f=0;f<d.length;f++)c[l++]=d[f]}),new e(c,!0)}},e.prototype.uploadData=function(){return this.data_},e}();un=function(){function e(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||p3}return e}(),dp=null;c1="prefixes",u1="items";Ji=function(){function e(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();fp=function(){function e(t,n,i,r){this.current=t,this.total=n,this.finalized=!!i,this.metadata=r||null}return e}();l1=256*1024;M3=function(){function e(t,n,i){var r=e3(t)||n!=null||i!=null;if(r)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();k1=function(){function e(t,n,i){var r=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=mp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){r._request=void 0,r._chunkMultiplier=1,s._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=s,r._transition("error"))},this._metadataErrorHandler=function(s){r._request=void 0,s._codeEquals("canceled")?r.completeTransitions_():(r._error=s,r._transition("error"))},this._promise=new Promise(function(s,c){r._resolve=s,r._reject=c,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var r=i[0],s=i[1];switch(n._state){case"running":t(r,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var r=A3(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._uploadUrl=c,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,r){var s=k3(t._ref.storage,t._ref._location,n,t._blob),c=t._ref.storage._makeRequest(s,i,r);t._request=c,c.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=l1*this._chunkMultiplier,i=new fp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(s,c){var l;try{l=R3(t._ref._location,t._ref.storage,r,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(f){t._error=f,t._transition("error");return}var d=t._ref.storage._makeRequest(l,s,c);t._request=d,d.getPromise().then(function(f){t._increaseMultiplier(),t._request=void 0,t._updateProgress(f.current),f.finalized?(t._metadata=f.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=l1*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var r=D1(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var r=D3(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(r,n,i);t._request=s,s.getPromise().then(function(c){t._request=void 0,t._metadata=c,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=v1(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=y0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,r){var s=this,c=new M3(n,i,r);return this._addObserver(c),function(){s._removeObserver(c)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(y0(this._state)){case ln.SUCCESS:fc(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:var n=this._reject;fc(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=y0(this._state);switch(n){case ln.RUNNING:case ln.PAUSED:t.next&&fc(t.next.bind(t,this.snapshot))();break;case ln.SUCCESS:t.complete&&fc(t.complete.bind(t))();break;case ln.CANCELED:case ln.ERROR:t.error&&fc(t.error.bind(t,this._error))();break;default:t.error&&fc(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();bp=function(){function e(t,n){this._service=t,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Jn(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return T1(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=h3(this._location.path);if(t===null)return null;var n=new Jn(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw _1(t)},e}();yp=function(){function e(t,n,i,r,s,c){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=r,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=m1,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Az,this._maxUploadRetryTime=kz,this._requests=new Set,s!=null?this._bucket=Jn.makeFromBucketSpec(s,this._host):this._bucket=d1(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,t):this._bucket=d1(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){_0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){_0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return D(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new bp(this,t)},e.prototype._makeRequest=function(t,n,i){var r=this;if(this._deleted)return new Qz(y1());var s=c3(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return r._requests.delete(s)},function(){return r._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return A(this,void 0,void 0,function(){var n,i,r;return D(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],r=n[1],[2,this._makeRequest(t,i,r)]}})})},e}();hp=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();f1=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new hp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(r){if(t)return t(new hp(r,i,i._ref))},n)},e.prototype.on=function(t,n,i,r){var s=this,c=void 0;return n&&(typeof n=="function"?c=function(l){return n(new hp(l,s,s._ref))}:c={next:n.next?function(l){return n.next(new hp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,c,i||void 0,r||void 0)},e}(),p1=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Bl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Bl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();Bl=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Y3(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new f1(z3(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=Zn.RAW),this._throwIfRoot("putString");var r=w1(n,t),s=vo({},i);return s.contentType==null&&r.contentType!=null&&(s.contentType=r.contentType),new f1(new k1(this._delegate,new C0(r.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return W3(this._delegate).then(function(n){return new p1(n,t.storage)})},e.prototype.list=function(t){var n=this;return G3(this._delegate,t||void 0).then(function(i){return new p1(i,n.storage)})},e.prototype.getMetadata=function(){return q3(this._delegate)},e.prototype.updateMetadata=function(t){return H3(this._delegate,t)},e.prototype.getDownloadURL=function(){return $3(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),K3(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw _1(t)},e}();Q3=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(w0(t))throw pc("ref() expected a child path but got a URL, use refFromURL instead.");return new Bl(h1(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!w0(t))throw pc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Jn.makeFromUrl(t,this._delegate.host)}catch{throw pc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bl(h1(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),X3(this._delegate,t,n,i)},e}(),Z3="@firebase/storage",J3="0.7.1";tq="storage";nq(it)});var iq={};var F1=xn(()=>{"use strict";P1()});var kv=class{};var Ys=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),c=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let c=this.headers.get(n);if(!c)return;c=c.filter(l=>s.indexOf(l)===-1),c.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Rv=class{encodeKey(t){return yS(t)}encodeValue(t){return yS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function vF(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[c,l]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=n.get(c)||[];d.push(l),n.set(c,d)}),n}var bF=/%(\d[a-f0-9])/gi,yF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yS(e){return encodeURIComponent(e).replace(bF,(t,n)=>yF[n]??t)}function sh(e){return`${e}`}var yr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Rv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=vF(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(sh):[sh(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(sh(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(sh(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Mv=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function _F(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _S(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function wS(e){return typeof Blob<"u"&&e instanceof Blob}function IS(e){return typeof FormData<"u"&&e instanceof FormData}function wF(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var hu=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(_F(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ys,this.context??=new Mv,!this.params)this.params=new yr,this.urlWithParams=n;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+c}}}serializeBody(){return this.body===null?null:_S(this.body)||wS(this.body)||IS(this.body)||wF(this.body)||typeof this.body=="string"?this.body:this.body instanceof yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||IS(this.body)?null:wS(this.body)?this.body.type||null:_S(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.body!==void 0?t.body:this.body,c=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,l=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,d=t.headers||this.headers,f=t.params||this.params,m=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((v,y)=>v.set(y,t.setHeaders[y]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((v,y)=>v.set(y,t.setParams[y]),f)),new e(n,i,s,{params:f,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:c})}},ES=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ES||{}),Ov=class{constructor(t,n=CS.Ok,i="OK"){this.headers=t.headers||new Ys,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Nv=class e extends Ov{constructor(t={}){super(t),this.type=ES.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var CS=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(CS||{});function Av(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var SS=(()=>{let t=class t{constructor(i){this.handler=i}request(i,r,s={}){let c;if(i instanceof hu)c=i;else{let f;s.headers instanceof Ys?f=s.headers:f=new Ys(s.headers);let m;s.params&&(s.params instanceof yr?m=s.params:m=new yr({fromObject:s.params})),c=new hu(i,r,s.body!==void 0?s.body:null,{headers:f,context:s.context,params:m,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let l=X(c).pipe(hr(f=>this.handler.handle(f)));if(i instanceof hu||s.observe==="events")return l;let d=l.pipe(Yt(f=>f instanceof Nv));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return d.pipe(vt(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(vt(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(vt(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(vt(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new yr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Av(s,r))}post(i,r,s={}){return this.request("POST",i,Av(s,r))}put(i,r,s={}){return this.request("PUT",i,Av(s,r))}};t.\u0275fac=function(r){return new(r||t)(k(kv))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();var Lv=class extends lS{constructor(){super(...arguments),this.supportsDOMEvents=!0}},jv=class e extends Lv{static makeCurrent(){uS(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=CF();return n==null?null:SF(n)}resetBaseElement(){fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pS(document.cookie,t)}},fu=null;function CF(){return fu=fu||document.querySelector("base"),fu?fu.getAttribute("href"):null}function SF(e){return new URL(e,document.baseURI).pathname}var Vv=class{addToWindow(t){pr.getAngularTestability=(i,r=!0)=>{let s=t.findTestabilityInTree(i,r);if(s==null)throw new Ht(5103,!1);return s},pr.getAllAngularTestabilities=()=>t.getAllTestabilities(),pr.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=pr.getAllAngularTestabilities(),s=r.length,c=function(){s--,s==0&&i()};r.forEach(l=>{l.whenStable(c)})};pr.frameworkStabilizers||(pr.frameworkStabilizers=[]),pr.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?rh().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},TF=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),Uv=new rt(""),DS=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(c=>c.supports(i)),!r)throw new Ht(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(k(Uv),k(dt))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),ah=class{constructor(t){this._doc=t}},Pv="ng-app-id",AS=(()=>{let t=class t{constructor(i,r,s,c={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sv(c),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Pv}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let c=s.get(i);return c.usage+=r,c.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===i)return s.delete(r),c.removeAttribute(Pv),c;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Pv,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),c=this.styleRef,l=c.get(r)?.elements;l?l.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(k(ct),k(su),k(au,8),k(Eo))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),Fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qv=/%COMP%/g,kS="%COMP%",xF=`_nghost-${kS}`,DF=`_ngcontent-${kS}`,AF=!0,kF=new rt("",{providedIn:"root",factory:()=>AF});function RF(e){return DF.replace(qv,e)}function MF(e){return xF.replace(qv,e)}function RS(e,t){return t.map(n=>n.replace(qv,e))}var ch=(()=>{let t=class t{constructor(i,r,s,c,l,d,f,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Sv(d),this.defaultRenderer=new pu(i,l,f,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ou.ShadowDom&&(r=Kt(P({},r),{encapsulation:ou.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof uh?s.applyToHost(i):s instanceof mu&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,c=s.get(r.id);if(!c){let l=this.doc,d=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case ou.Emulated:c=new uh(f,m,r,this.appId,v,l,d,y);break;case ou.ShadowDom:return new Bv(f,m,i,r,l,d,this.nonce,y);default:c=new mu(f,m,r,v,l,d,y);break}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(k(DS),k(AS),k(su),k(kF),k(ct),k(Eo),k(dt),k(au))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),pu=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Fv[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(TS(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(TS(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Ht(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=Fv[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Fv[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(cu.DashCase|cu.Important)?t.style.setProperty(n,i,r&cu.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&cu.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=rh().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function TS(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bv=class extends pu{constructor(t,n,i,r,s,c,l,d){super(t,s,c,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=RS(r.id,r.styles);for(let m of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mu=class extends pu{constructor(t,n,i,r,s,c,l,d){super(t,s,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?RS(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uh=class extends mu{constructor(t,n,i,r,s,c,l,d){let f=r+"-"+i.id;super(t,n,i,s,c,l,d,f),this.contentAttr=RF(f),this.hostAttr=MF(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},OF=(()=>{let t=class t extends ah{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),xS=["alt","control","meta","shift"],NF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},FF=(()=>{let t=class t extends ah{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,s){let c=t.parseEventName(r),l=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rh().onAndCancel(i,c.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let c=t._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),xS.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=c,r.length!=0||c.length===0)return null;let f={};return f.domEventName=s,f.fullKey=l,f}static matchEventFullKeyCode(i,r){let s=NF[i.key]||i.key,c="";return r.indexOf("code.")>-1&&(s=i.code,c="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),xS.forEach(l=>{if(l!==s){let d=PF[l];d(i)&&(c+=l+".")}}),c+=s,c===r)}static eventCallback(i,r,s){return c=>{t.matchEventFullKeyCode(c,i)&&s.runGuarded(()=>r(c))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();function LF(){jv.makeCurrent()}function jF(){return new Io}function VF(){return jC(document),document}var UF=[{provide:Eo,useValue:mS},{provide:VC,useValue:LF,multi:!0},{provide:ct,useFactory:VF,deps:[]}],MS=oS(sS,"browser",UF),BF=new rt(""),zF=[{provide:eh,useClass:Vv,deps:[]},{provide:iS,useClass:nh,deps:[dt,wv,eh]},{provide:nh,useClass:nh,deps:[dt,wv,eh]}],qF=[{provide:LC,useValue:"root"},{provide:Io,useFactory:jF,deps:[]},{provide:Uv,useClass:OF,multi:!0,deps:[ct,dt,Eo]},{provide:Uv,useClass:FF,multi:!0,deps:[ct]},ch,AS,DS,{provide:Jd,useExisting:ch},{provide:bS,useClass:TF,deps:[]},[]],OS=(()=>{let t=class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:su,useValue:i.appId}]}}};t.\u0275fac=function(r){return new(r||t)(k(BF,12))},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[...qF,...zF],imports:[$s,aS]});let e=t;return e})();var NS=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Hv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:function(r){let s=null;return r?s=new(r||t):s=k(HF),s},providedIn:"root"});let e=t;return e})(),HF=(()=>{let t=class t extends Hv{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Rn.NONE:return r;case Rn.HTML:return zs(r,"HTML")?Bs(r):WC(this._doc,String(r)).toString();case Rn.STYLE:return zs(r,"Style")?Bs(r):r;case Rn.SCRIPT:if(zs(r,"Script"))return Bs(r);throw new Ht(5200,!1);case Rn.URL:return zs(r,"URL")?Bs(r):GC(String(r));case Rn.RESOURCE_URL:if(zs(r,"ResourceURL"))return Bs(r);throw new Ht(5201,!1);default:throw new Ht(5202,!1)}}bypassSecurityTrustHtml(i){return UC(i)}bypassSecurityTrustStyle(i){return BC(i)}bypassSecurityTrustScript(i){return zC(i)}bypassSecurityTrustUrl(i){return qC(i)}bypassSecurityTrustResourceUrl(i){return HC(i)}};t.\u0275fac=function(r){return new(r||t)(k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gt="primary",ku=Symbol("RouteTitle"),Xv=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ta(e){return new Xv(e)}function WF(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let s=0;s<i.length;s++){let c=i[s],l=e[s];if(c.startsWith(":"))r[c.substring(1)]=l;else if(c!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function $F(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ci(e[n],t[n]))return!1;return!0}function Ci(e,t){let n=e?Qv(e):void 0,i=t?Qv(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!HS(e[r],t[r]))return!1;return!0}function Qv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function HS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}else return e===t}function GS(e){return e.length>0?e[e.length-1]:null}function Er(e){return uv(e)?e:Iv(e)?vn(Promise.resolve(e)):X(e)}var KF={exact:$S,subset:KS},WS={exact:YF,subset:XF,ignored:()=>!0};function PS(e,t,n){return KF[n.paths](e.root,t.root,n.matrixParams)&&WS[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function YF(e,t){return Ci(e,t)}function $S(e,t,n){if(!Ro(e.segments,t.segments)||!hh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!$S(e.children[i],t.children[i],n))return!1;return!0}function XF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>HS(e[n],t[n]))}function KS(e,t,n){return YS(e,t,t.segments,n)}function YS(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Ro(r,n)||t.hasChildren()||!hh(r,n,i))}else if(e.segments.length===n.length){if(!Ro(e.segments,n)||!hh(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!KS(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!Ro(e.segments,r)||!hh(e.segments,r,i)||!e.children[gt]?!1:YS(e.children[gt],t,s,i)}}function hh(e,t,n){return t.every((i,r)=>WS[n](e[r].parameters,i.parameters))}var _r=class{constructor(t=new Mt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){return JF.serialize(this)}},Mt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fh(this)}},ko=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ta(this.parameters),this._parameterMap}toString(){return QS(this)}};function QF(e,t){return Ro(e,t)&&e.every((n,i)=>Ci(n.parameters,t[i].parameters))}function Ro(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function ZF(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===gt&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==gt&&(n=n.concat(t(r,i)))}),n}var Ru=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>new Iu,providedIn:"root"});let e=t;return e})(),Iu=class{parse(t){let n=new Jv(t);return new _r(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${gu(t.root,!0)}`,i=nL(t.queryParams),r=typeof t.fragment=="string"?`#${tL(t.fragment)}`:"";return`${n}${i}${r}`}},JF=new Iu;function fh(e){return e.segments.map(t=>QS(t)).join("/")}function gu(e,t){if(!e.hasChildren())return fh(e);if(t){let n=e.children[gt]?gu(e.children[gt],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==gt&&i.push(`${r}:${gu(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=ZF(e,(i,r)=>r===gt?[gu(e.children[gt],!1)]:[`${r}:${gu(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[gt]!=null?`${fh(e)}/${n[0]}`:`${fh(e)}/(${n.join("//")})`}}function XS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lh(e){return XS(e).replace(/%3B/gi,";")}function tL(e){return encodeURI(e)}function Zv(e){return XS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ph(e){return decodeURIComponent(e)}function FS(e){return ph(e.replace(/\+/g,"%20"))}function QS(e){return`${Zv(e.path)}${eL(e.parameters)}`}function eL(e){return Object.entries(e).map(([t,n])=>`;${Zv(t)}=${Zv(n)}`).join("")}function nL(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${lh(n)}=${lh(r)}`).join("&"):`${lh(n)}=${lh(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var iL=/^[^\/()?;#]+/;function Wv(e){let t=e.match(iL);return t?t[0]:""}var rL=/^[^\/()?;=#]+/;function oL(e){let t=e.match(rL);return t?t[0]:""}var sL=/^[^=?&#]+/;function aL(e){let t=e.match(sL);return t?t[0]:""}var cL=/^[^&#]+/;function uL(e){let t=e.match(cL);return t?t[0]:""}var Jv=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[gt]=new Mt(t,n)),i}parseSegment(){let t=Wv(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ht(4009,!1);return this.capture(t),new ko(ph(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=oL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Wv(this.remaining);r&&(i=r,this.capture(i))}t[ph(n)]=ph(i)}parseQueryParam(t){let n=aL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let c=uL(this.remaining);c&&(i=c,this.capture(i))}let r=FS(n),s=FS(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Wv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ht(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=gt);let c=this.parseChildren();n[s]=Object.keys(c).length===1?c[gt]:new Mt([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ht(4011,!1)}};function ZS(e){return e.segments.length>0?new Mt([],{[gt]:e}):e}function JS(e){let t={};for(let[i,r]of Object.entries(e.children)){let s=JS(r);if(i===gt&&s.segments.length===0&&s.hasChildren())for(let[c,l]of Object.entries(s.children))t[c]=l;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let n=new Mt(e.segments,t);return lL(n)}function lL(e){if(e.numberOfChildren===1&&e.children[gt]){let t=e.children[gt];return new Mt(e.segments.concat(t.segments),t.children)}return e}function ea(e){return e instanceof _r}function dL(e,t,n=null,i=null){let r=tT(e);return eT(r,t,n,i)}function tT(e){let t;function n(s){let c={};for(let d of s.children){let f=n(d);c[d.outlet]=f}let l=new Mt(s.url,c);return s===e&&(t=l),l}let i=n(e.root),r=ZS(i);return t??r}function eT(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return $v(r,r,r,n,i);let s=hL(t);if(s.toRoot())return $v(r,r,new Mt([],{}),n,i);let c=fL(s,r,e),l=c.processChildren?yu(c.segmentGroup,c.index,s.commands):iT(c.segmentGroup,c.index,s.commands);return $v(r,c.segmentGroup,l,n,i)}function mh(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Eu(e){return typeof e=="object"&&e!=null&&e.outlets}function $v(e,t,n,i,r){let s={};i&&Object.entries(i).forEach(([d,f])=>{s[d]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let c;e===t?c=n:c=nT(e,t,n);let l=ZS(JS(c));return new _r(l,s,r)}function nT(e,t,n){let i={};return Object.entries(e.children).forEach(([r,s])=>{s===t?i[r]=n:i[r]=nT(s,t,n)}),new Mt(e.segments,i)}var gh=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&mh(i[0]))throw new Ht(4003,!1);let r=i.find(Eu);if(r&&r!==GS(i))throw new Ht(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hL(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new gh(!0,0,e);let t=0,n=!1,i=e.reduce((r,s,c)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:c===0?(s.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,s]},[]);return new gh(n,t,i)}var Zs=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function fL(e,t,n){if(e.isAbsolute)return new Zs(t,!0,0);if(!n)return new Zs(t,!1,NaN);if(n.parent===null)return new Zs(n,!0,0);let i=mh(e.commands[0])?0:1,r=n.segments.length-1+i;return pL(n,r,e.numberOfDoubleDots)}function pL(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Ht(4005,!1);r=i.segments.length}return new Zs(i,!1,r-s)}function mL(e){return Eu(e[0])?e[0].outlets:{[gt]:e}}function iT(e,t,n){if(e??=new Mt([],{}),e.segments.length===0&&e.hasChildren())return yu(e,t,n);let i=gL(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let s=new Mt(e.segments.slice(0,i.pathIndex),{});return s.children[gt]=new Mt(e.segments.slice(i.pathIndex),e.children),yu(s,0,r)}else return i.match&&r.length===0?new Mt(e.segments,{}):i.match&&!e.hasChildren()?tb(e,t,n):i.match?yu(e,0,r):tb(e,t,n)}function yu(e,t,n){if(n.length===0)return new Mt(e.segments,{});{let i=mL(n),r={};if(Object.keys(i).some(s=>s!==gt)&&e.children[gt]&&e.numberOfChildren===1&&e.children[gt].segments.length===0){let s=yu(e.children[gt],t,n);return new Mt(e.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(r[s]=iT(e.children[s],t,c))}),Object.entries(e.children).forEach(([s,c])=>{i[s]===void 0&&(r[s]=c)}),new Mt(e.segments,r)}}function gL(e,t,n){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;let c=e.segments[r],l=n[i];if(Eu(l))break;let d=`${l}`,f=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!jS(d,f,c))return s;i+=2}else{if(!jS(d,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function tb(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let s=n[r];if(Eu(s)){let d=vL(s.outlets);return new Mt(i,d)}if(r===0&&mh(n[0])){let d=e.segments[t];i.push(new ko(d.path,LS(n[0]))),r++;continue}let c=Eu(s)?s.outlets[gt]:`${s}`,l=r<n.length-1?n[r+1]:null;c&&l&&mh(l)?(i.push(new ko(c,LS(l))),r+=2):(i.push(new ko(c,{})),r++)}return new Mt(i,{})}function vL(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=tb(new Mt([],{}),0,i))}),t}function LS(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function jS(e,t,n){return e==n.path&&Ci(t,n.parameters)}var _u="imperative",Me=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Me||{}),Kn=class{constructor(t,n){this.id=t,this.url=n}},na=class extends Kn{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Me.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qi=class extends Kn{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Nn||{}),vh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(vh||{}),wr=class extends Kn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends Kn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Me.NavigationSkipped}},Cu=class extends Kn{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bh=class extends Kn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eb=class extends Kn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nb=class extends Kn{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ib=class extends Kn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rb=class extends Kn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ob=class{constructor(t){this.route=t,this.type=Me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sb=class{constructor(t){this.route=t,this.type=Me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ab=class{constructor(t){this.snapshot=t,this.type=Me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cb=class{constructor(t){this.snapshot=t,this.type=Me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ub=class{constructor(t){this.snapshot=t,this.type=Me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lb=class{constructor(t){this.snapshot=t,this.type=Me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yh=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Me.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Su=class{},Tu=class{constructor(t){this.url=t}};var db=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mu,this.attachRef=null}},Mu=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new db,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_h=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=hb(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=hb(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=fb(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return fb(t,this._root).map(n=>n.value)}};function hb(e,t){if(e===t.value)return t;for(let n of t.children){let i=hb(e,n);if(i)return i}return null}function fb(e,t){if(e===t.value)return[t];for(let n of t.children){let i=fb(e,n);if(i.length)return i.unshift(t),i}return[]}var On=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Qs(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var wh=class extends _h{constructor(t,n){super(t),this.snapshot=n,Eb(this,t)}toString(){return this.snapshot.toString()}};function rT(e){let t=bL(e),n=new gn([new ko("",{})]),i=new gn({}),r=new gn({}),s=new gn({}),c=new gn(""),l=new ia(n,i,s,c,r,gt,e,t.root);return l.snapshot=t.root,new wh(new On(l,[]),t)}function bL(e){let t={},n={},i={},r="",s=new xu([],t,i,r,n,gt,e,null,{});return new Ih("",new On(s,[]))}var ia=class{constructor(t,n,i,r,s,c,l,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(vt(f=>f[ku]))??X(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(vt(t=>ta(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(vt(t=>ta(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ib(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:P(P({},t.params),e.params),data:P(P({},t.data),e.data),resolve:P(P(P(P({},e.data),t.data),r?.data),e._resolvedData)}:i={params:P({},e.params),data:P({},e.data),resolve:P(P({},e.data),e._resolvedData??{})},r&&sT(r)&&(i.resolve[ku]=r.title),i}var xu=class{get title(){return this.data?.[ku]}constructor(t,n,i,r,s,c,l,d,f){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ta(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ih=class extends _h{constructor(t,n){super(n),this.url=t,Eb(this,n)}toString(){return oT(this._root)}};function Eb(e,t){t.value._routerState=e,t.children.forEach(n=>Eb(e,n))}function oT(e){let t=e.children.length>0?` { ${e.children.map(oT).join(", ")} } `:"";return`${e.value}${t}`}function Kv(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ci(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ci(t.params,n.params)||e.paramsSubject.next(n.params),$F(t.url,n.url)||e.urlSubject.next(n.url),Ci(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function pb(e,t){let n=Ci(e.params,t.params)&&QF(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||pb(e.parent,t.parent))}function sT(e){return typeof e.title=="string"||e.title===null}var Cb=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=q(Mu),this.location=q(So),this.changeDetector=q(Ei),this.environmentInjector=q(Vs),this.inputBinder=q(xh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ht(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ht(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ht(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Ht(4013,!1);this._activatedRoute=i;let s=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new mb(i,d,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:f,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wo]});let e=t;return e})(),mb=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===ia?this.route:t===Mu?this.childContexts:this.parent.get(t,n)}},xh=new rt(""),VS=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Ls([r.queryParams,r.params,r.data]).pipe(An(([c,l,d],f)=>(d=P(P(P({},c),l),d),f===0?X(d):Promise.resolve(d)))).subscribe(c=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let l=cS(r.component);if(!l){this.unsubscribeFromRouteData(i);return}for(let{templateName:d}of l.inputs)i.activatedComponentRef.setInput(d,c[d])});this.outletDataSubscriptions.set(i,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();function yL(e,t,n){let i=Du(e,t._root,n?n._root:void 0);return new wh(i,t)}function Du(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=_L(e,t,n);return new On(i,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(l=>Du(e,l)),c}}let i=wL(t.value),r=t.children.map(s=>Du(e,s));return new On(i,r)}}function _L(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Du(e,i,r);return Du(e,i)})}function wL(e){return new ia(new gn(e.url),new gn(e.params),new gn(e.queryParams),new gn(e.fragment),new gn(e.data),e.outlet,e.component,e)}var aT="ngNavigationCancelingError";function cT(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=ea(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=uT(!1,Nn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function uT(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[aT]=!0,n.cancellationCode=t,n}function IL(e){return lT(e)&&ea(e.url)}function lT(e){return!!e&&e[aT]}var EL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pt({type:t,selectors:[["ng-component"]],standalone:!0,features:[de],decls:1,vars:0,template:function(r,s){r&1&&wt(0,"router-outlet")},dependencies:[Cb],encapsulation:2});let e=t;return e})();function CL(e,t){return e.providers&&!e._injector&&(e._injector=yv(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Sb(e){let t=e.children&&e.children.map(Sb),n=t?Kt(P({},e),{children:t}):P({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==gt&&(n.component=EL),n}function Si(e){return e.outlet||gt}function SL(e,t){let n=e.filter(i=>Si(i)===t);return n.push(...e.filter(i=>Si(i)!==t)),n}function Ou(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var TL=(e,t,n,i)=>vt(r=>(new gb(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),gb=class{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Kv(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Qs(n);t.children.forEach(s=>{let c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(r===s)if(r.component){let c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Qs(t);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,r);if(i&&i.outlet){let c=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Qs(t);for(let c of Object.values(s))this.deactivateRouteAndItsChildren(c,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Qs(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new lb(s.value.snapshot))}),t.children.length&&this.forwardEvent(new cb(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(Kv(r),r===s)if(r.component){let c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(l.contexts),c.attachRef=l.componentRef,c.route=l.route.value,c.outlet&&c.outlet.attach(l.componentRef,l.route.value),Kv(l.route.value),this.activateChildRoutes(t,null,c.children)}else{let l=Ou(r.snapshot);c.attachRef=null,c.route=r,c.injector=l,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}},Eh=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Js=class{constructor(t,n){this.component=t,this.route=n}};function xL(e,t,n){let i=e._root,r=t?t._root:null;return vu(i,r,n,[i.value])}function DL(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function oa(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!FC(e)?e:t.get(e):i}function vu(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Qs(t);return e.children.forEach(c=>{AL(c,s[c.value.outlet],n,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,l])=>wu(l,n.getContext(c),r)),r}function AL(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,c=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){let d=kL(c,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Eh(i)):(s.data=c.data,s._resolvedData=c._resolvedData),s.component?vu(e,t,l?l.children:null,i,r):vu(e,t,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Js(l.outlet.component,c))}else c&&wu(t,l,r),r.canActivateChecks.push(new Eh(i)),s.component?vu(e,null,l?l.children:null,i,r):vu(e,null,n,i,r);return r}function kL(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ro(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ro(e.url,t.url)||!Ci(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pb(e,t)||!Ci(e.queryParams,t.queryParams);case"paramsChange":default:return!pb(e,t)}}function wu(e,t,n){let i=Qs(e),r=e.value;Object.entries(i).forEach(([s,c])=>{r.component?t?wu(c,t.children.getContext(s),n):wu(c,null,n):wu(c,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Js(t.outlet.component,r)):n.canDeactivateChecks.push(new Js(null,r)):n.canDeactivateChecks.push(new Js(null,r))}function Nu(e){return typeof e=="function"}function RL(e){return typeof e=="boolean"}function ML(e){return e&&Nu(e.canLoad)}function OL(e){return e&&Nu(e.canActivate)}function NL(e){return e&&Nu(e.canActivateChild)}function PL(e){return e&&Nu(e.canDeactivate)}function FL(e){return e&&Nu(e.canMatch)}function dT(e){return e instanceof AC||e?.name==="EmptyError"}var dh=Symbol("INITIAL_VALUE");function ra(){return An(e=>Ls(e.map(t=>t.pipe(ie(1),Vi(dh)))).pipe(vt(t=>{for(let n of t)if(n!==!0){if(n===dh)return dh;if(n===!1||n instanceof _r)return n}return!0}),Yt(t=>t!==dh),ie(1)))}function LL(e,t){return Dn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=n;return c.length===0&&s.length===0?X(Kt(P({},n),{guardsResult:!0})):jL(c,i,r,e).pipe(Dn(l=>l&&RL(l)?VL(i,s,e,t):X(l)),vt(l=>Kt(P({},n),{guardsResult:l})))})}function jL(e,t,n,i){return vn(e).pipe(Dn(r=>HL(r.component,r.route,n,t,i)),fr(r=>r!==!0,!0))}function VL(e,t,n,i){return vn(t).pipe(hr(r=>Yd(BL(r.route.parent,i),UL(r.route,i),qL(e,r.path,n),zL(e,r.route,n))),fr(r=>r!==!0,!0))}function UL(e,t){return e!==null&&t&&t(new ub(e)),X(!0)}function BL(e,t){return e!==null&&t&&t(new ab(e)),X(!0)}function zL(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return X(!0);let r=i.map(s=>yo(()=>{let c=Ou(t)??n,l=oa(s,c),d=OL(l)?l.canActivate(t,e):mr(c,()=>l(t,e));return Er(d).pipe(fr())}));return X(r).pipe(ra())}function qL(e,t,n){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>DL(c)).filter(c=>c!==null).map(c=>yo(()=>{let l=c.guards.map(d=>{let f=Ou(c.node)??n,m=oa(d,f),v=NL(m)?m.canActivateChild(i,e):mr(f,()=>m(i,e));return Er(v).pipe(fr())});return X(l).pipe(ra())}));return X(s).pipe(ra())}function HL(e,t,n,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return X(!0);let c=s.map(l=>{let d=Ou(t)??r,f=oa(l,d),m=PL(f)?f.canDeactivate(e,t,n,i):mr(d,()=>f(e,t,n,i));return Er(m).pipe(fr())});return X(c).pipe(ra())}function GL(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return X(!0);let s=r.map(c=>{let l=oa(c,e),d=ML(l)?l.canLoad(t,n):mr(e,()=>l(t,n));return Er(d)});return X(s).pipe(ra(),hT(i))}function hT(e){return DC(re(t=>{if(ea(t))throw cT(e,t)}),vt(t=>t===!0))}function WL(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return X(!0);let s=r.map(c=>{let l=oa(c,e),d=FL(l)?l.canMatch(t,n):mr(e,()=>l(t,n));return Er(d)});return X(s).pipe(ra(),hT(i))}var Au=class{constructor(t){this.segmentGroup=t||null}},Ch=class extends Error{constructor(t){super(),this.urlTree=t}};function Xs(e){return bo(new Au(e))}function $L(e){return bo(new Ht(4e3,!1))}function KL(e){return bo(uT(!1,Nn.GuardRejected))}var vb=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return X(i);if(r.numberOfChildren>1||!r.children[gt])return $L(t.redirectTo);r=r.children[gt]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new Ch(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let s=this.createSegmentGroup(t,n.root,i,r);return new _r(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let l=s.substring(1);i[r]=n[l]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){let s=this.createSegments(t,n.segments,i,r),c={};return Object.entries(n.children).forEach(([l,d])=>{c[l]=this.createSegmentGroup(t,d,i,r)}),new Mt(s,c)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Ht(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},bb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YL(e,t,n,i,r){let s=Tb(e,t,n);return s.matched?(i=CL(t,i),WL(i,t,n,r).pipe(vt(c=>c===!0?s:P({},bb)))):X(s)}function Tb(e,t,n){if(t.path==="**")return XL(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?P({},bb):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||WF)(n,e,t);if(!r)return P({},bb);let s={};Object.entries(r.posParams??{}).forEach(([l,d])=>{s[l]=d.path});let c=r.consumed.length>0?P(P({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function XL(e){return{matched:!0,parameters:e.length>0?GS(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function US(e,t,n,i){return n.length>0&&JL(e,n,i)?{segmentGroup:new Mt(t,ZL(i,new Mt(n,e.children))),slicedSegments:[]}:n.length===0&&tj(e,n,i)?{segmentGroup:new Mt(e.segments,QL(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Mt(e.segments,e.children),slicedSegments:n}}function QL(e,t,n,i){let r={};for(let s of n)if(Dh(e,t,s)&&!i[Si(s)]){let c=new Mt([],{});r[Si(s)]=c}return P(P({},i),r)}function ZL(e,t){let n={};n[gt]=t;for(let i of e)if(i.path===""&&Si(i)!==gt){let r=new Mt([],{});n[Si(i)]=r}return n}function JL(e,t,n){return n.some(i=>Dh(e,t,i)&&Si(i)!==gt)}function tj(e,t,n){return n.some(i=>Dh(e,t,i))}function Dh(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ej(e,t,n,i){return Si(e)!==i&&(i===gt||!Dh(t,n,e))?!1:Tb(t,e,n).matched}function nj(e,t,n){return t.length===0&&!e.children[n]}var yb=class{};function ij(e,t,n,i,r,s,c="emptyOnly"){return new _b(e,t,n,i,r,c,s).recognize()}var rj=31,_b=class{constructor(t,n,i,r,s,c,l){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=l,this.applyRedirects=new vb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ht(4002,`'${t.segmentGroup}'`)}recognize(){let t=US(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(vt(n=>{let i=new xu([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),r=new On(i,n),s=new Ih("",r),c=dL(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root,null),{state:s,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,gt).pipe(dr(i=>{if(i instanceof Ch)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Au?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=Ib(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe(vt(s=>s instanceof On?[s]:[]))}processChildren(t,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return vn(r).pipe(hr(s=>{let c=i.children[s],l=SL(n,s);return this.processSegmentGroup(t,l,c,s)}),NC((s,c)=>(s.push(...c),s)),fv(null),OC(),Dn(s=>{if(s===null)return Xs(i);let c=fT(s);return oj(c),X(c)}))}processSegment(t,n,i,r,s,c){return vn(n).pipe(hr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,s,c).pipe(dr(d=>{if(d instanceof Au)return X(null);throw d}))),fr(l=>!!l),dr(l=>{if(dT(l))return nj(i,r,s)?X(new yb):Xs(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,s,c,l){return ej(i,r,s,c)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,c):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,c):Xs(r):Xs(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,c){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=Tb(n,r,s);if(!l)return Xs(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rj&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f);return this.applyRedirects.lineralizeSegments(r,v).pipe(Dn(y=>this.processSegment(t,i,n,y.concat(m),c,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){let c=YL(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),c.pipe(An(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(An(({routes:d})=>{let f=i._loadedInjector??t,{consumedSegments:m,remainingSegments:v,parameters:y}=l,_=new xu(m,y,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,aj(i),Si(i),i.component??i._loadedComponent??null,i,cj(i)),{segmentGroup:I,slicedSegments:E}=US(n,m,v,d);if(E.length===0&&I.hasChildren())return this.processChildren(f,d,I).pipe(vt(R=>R===null?null:new On(_,R)));if(d.length===0&&E.length===0)return X(new On(_,[]));let S=Si(i)===s;return this.processSegment(f,d,I,E,S?gt:s,!0).pipe(vt(R=>new On(_,R instanceof On?[R]:[])))}))):Xs(n)))}getChildConfig(t,n,i){return n.children?X({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?X({routes:n._loadedRoutes,injector:n._loadedInjector}):GL(t,n,i,this.urlSerializer).pipe(Dn(r=>r?this.configLoader.loadChildren(t,n).pipe(re(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):KL(n))):X({routes:[],injector:t})}};function oj(e){e.sort((t,n)=>t.value.outlet===gt?-1:n.value.outlet===gt?1:t.value.outlet.localeCompare(n.value.outlet))}function sj(e){let t=e.value.routeConfig;return t&&t.path===""}function fT(e){let t=[],n=new Set;for(let i of e){if(!sj(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=fT(i.children);t.push(new On(i.value,r))}return t.filter(i=>!n.has(i))}function aj(e){return e.data||{}}function cj(e){return e.resolve||{}}function uj(e,t,n,i,r,s){return Dn(c=>ij(e,t,n,i,c.extractedUrl,r,s).pipe(vt(({state:l,tree:d})=>Kt(P({},c),{targetSnapshot:l,urlAfterRedirects:d}))))}function lj(e,t){return Dn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return X(n);let s=new Set(r.map(d=>d.route)),c=new Set;for(let d of s)if(!c.has(d))for(let f of pT(d))c.add(f);let l=0;return vn(c).pipe(hr(d=>s.has(d)?dj(d,i,e,t):(d.data=Ib(d,d.parent,e).resolve,X(void 0))),re(()=>l++),mv(1),Dn(d=>l===c.size?X(n):lr))})}function pT(e){let t=e.children.map(n=>pT(n)).flat();return[e,...t]}function dj(e,t,n,i){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!sT(r)&&(s[ku]=r.title),hj(s,e,t,i).pipe(vt(c=>(e._resolvedData=c,e.data=Ib(e,e.parent,n).resolve,null)))}function hj(e,t,n,i){let r=Qv(e);if(r.length===0)return X({});let s={};return vn(r).pipe(Dn(c=>fj(e[c],t,n,i).pipe(fr(),re(l=>{s[c]=l}))),mv(1),MC(s),dr(c=>dT(c)?lr:bo(c)))}function fj(e,t,n,i){let r=Ou(t)??i,s=oa(e,r),c=s.resolve?s.resolve(t,n):mr(r,()=>s(t,n));return Er(c)}function Yv(e){return An(t=>{let n=e(t);return n?vn(n).pipe(vt(()=>t)):X(t)})}var mT=(()=>{let t=class t{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===gt);return r}getResolvedTitleForRoute(i){return i.data[ku]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>q(pj),providedIn:"root"});let e=t;return e})(),pj=(()=>{let t=class t extends mT{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(k(NS))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Pu=new rt("",{providedIn:"root",factory:()=>({})}),Sh=new rt(""),xb=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(ih)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return X(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Er(i.loadComponent()).pipe(vt(gT),re(c=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=c}),_o(()=>{this.componentLoaders.delete(i)})),s=new cv(r,()=>new Dt).pipe(av());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let c=mj(r,this.compiler,i,this.onLoadEndListener).pipe(_o(()=>{this.childrenLoaders.delete(r)})),l=new cv(c,()=>new Dt).pipe(av());return this.childrenLoaders.set(r,l),l}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function mj(e,t,n,i){return Er(e.loadChildren()).pipe(vt(gT),Dn(r=>r instanceof QC||Array.isArray(r)?X(r):vn(t.compileModuleAsync(r))),vt(r=>{i&&i(e);let s,c,l=!1;return Array.isArray(r)?(c=r,l=!0):(s=r.create(n).injector,c=s.get(Sh,[],{optional:!0,self:!0}).flat()),{routes:c.map(Sb),injector:s}}))}function gj(e){return e&&typeof e=="object"&&"default"in e}function gT(e){return gj(e)?e.default:e}var Db=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>q(vj),providedIn:"root"});let e=t;return e})(),vj=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vT=new rt(""),bT=new rt("");function bj(e,t,n){let i=e.get(bT),r=e.get(ct);return e.get(dt).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,c=new Promise(f=>{s=f}),l=r.startViewTransition(()=>(s(),yj(e))),{onViewTransitionCreated:d}=i;return d&&mr(e,()=>d({transition:l,from:t,to:n})),c})}function yj(e){return new Promise(t=>{XC(t,{injector:e})})}var Ab=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=q(xb),this.environmentInjector=q(Vs),this.urlSerializer=q(Ru),this.rootContexts=q(Mu),this.location=q(Bi),this.inputBindingEnabled=q(xh,{optional:!0})!==null,this.titleStrategy=q(mT),this.options=q(Pu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(Db),this.createViewTransition=q(vT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let i=s=>this.events.next(new ob(s)),r=s=>this.events.next(new sb(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Kt(P(P({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new gn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_u,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yt(c=>c.id!==0),vt(c=>Kt(P({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),An(c=>{let l=!1,d=!1;return X(c).pipe(An(f=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",Nn.SupersededByNewNavigation),lr;this.currentTransition=c,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Kt(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new Ir(f.id,this.urlSerializer.serialize(f.rawUrl),y,vh.IgnoredSameUrlNavigation)),f.resolve(null),lr}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return X(f).pipe(An(y=>{let _=this.transitions?.getValue();return this.events.next(new na(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?lr:Promise.resolve(y)}),uj(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),re(y=>{c.targetSnapshot=y.targetSnapshot,c.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Kt(P({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let _=new bh(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:y,extractedUrl:_,source:I,restoredState:E,extras:S}=f,R=new na(y,this.urlSerializer.serialize(_),I,E);this.events.next(R);let j=rT(this.rootComponentType).snapshot;return this.currentTransition=c=Kt(P({},f),{targetSnapshot:j,urlAfterRedirects:_,extras:Kt(P({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,X(c)}else{let y="";return this.events.next(new Ir(f.id,this.urlSerializer.serialize(f.extractedUrl),y,vh.IgnoredByUrlHandlingStrategy)),f.resolve(null),lr}}),re(f=>{let m=new eb(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),vt(f=>(this.currentTransition=c=Kt(P({},f),{guards:xL(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),c)),LL(this.environmentInjector,f=>this.events.next(f)),re(f=>{if(c.guardsResult=f.guardsResult,ea(f.guardsResult))throw cT(this.urlSerializer,f.guardsResult);let m=new nb(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),Yt(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Nn.GuardRejected),!1)),Yv(f=>{if(f.guards.canActivateChecks.length)return X(f).pipe(re(m=>{let v=new ib(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),An(m=>{let v=!1;return X(m).pipe(lj(this.paramsInheritanceStrategy,this.environmentInjector),re({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Nn.NoDataFromResolver)}}))}),re(m=>{let v=new rb(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),Yv(f=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(re(_=>{v.component=_}),vt(()=>{})));for(let _ of v.children)y.push(...m(_));return y};return Ls(m(f.targetSnapshot.root)).pipe(fv(null),ie(1))}),Yv(()=>this.afterPreactivation()),An(()=>{let{currentSnapshot:f,targetSnapshot:m}=c,v=this.createViewTransition?.(this.environmentInjector,f.root,m.root);return v?vn(v).pipe(vt(()=>c)):X(c)}),vt(f=>{let m=yL(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=c=Kt(P({},f),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,c}),re(()=>{this.events.next(new Su)}),TL(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),ie(1),re({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Ui(this.transitionAbortSubject.pipe(re(f=>{throw f}))),_o(()=>{!l&&!d&&this.cancelNavigationTransition(c,"",Nn.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),dr(f=>{if(d=!0,lT(f))this.events.next(new wr(c.id,this.urlSerializer.serialize(c.extractedUrl),f.message,f.cancellationCode)),IL(f)?this.events.next(new Tu(f.url)):c.resolve(!1);else{this.events.next(new Cu(c.id,this.urlSerializer.serialize(c.extractedUrl),f,c.targetSnapshot??void 0));try{c.resolve(i.errorHandler(f))}catch(m){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(m)}}return lr}))}))}cancelNavigationTransition(i,r,s){let c=new wr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(c),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _j(e){return e!==_u}var wj=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>q(Ij),providedIn:"root"});let e=t;return e})(),wb=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Ij=(()=>{let t=class t extends wb{};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Us(t)))(s||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>q(Ej),providedIn:"root"});let e=t;return e})(),Ej=(()=>{let t=class t extends yT{constructor(){super(...arguments),this.location=q(Bi),this.urlSerializer=q(Ru),this.options=q(Pu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(Db),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof na)this.stateMemento=this.createStateMemento();else if(i instanceof Ir)this.rawUrlTree=r.initialUrl;else if(i instanceof bh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Su?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof wr&&(i.code===Nn.GuardRejected||i.code===Nn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Cu?this.restoreHistory(r,!0):i instanceof qi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let c=this.browserPageId,l=P(P({},r.extras.state),this.generateNgRouterState(r.id,c));this.location.replaceState(s,"",l)}else{let c=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",c)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,c=this.currentPageId-s;c!==0?this.location.historyGo(c):this.currentUrlTree===i.finalUrl&&c===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(s){return(i||(i=Us(t)))(s||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(bu||{});function _T(e,t){e.events.pipe(Yt(n=>n instanceof qi||n instanceof wr||n instanceof Cu||n instanceof Ir),vt(n=>n instanceof qi||n instanceof Ir?bu.COMPLETE:(n instanceof wr?n.code===Nn.Redirect||n.code===Nn.SupersededByNewNavigation:!1)?bu.REDIRECTING:bu.FAILED),Yt(n=>n!==bu.REDIRECTING),ie(1)).subscribe(()=>{t()})}function Cj(e){throw e}var Sj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},he=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=q(th),this.stateManager=q(yT),this.options=q(Pu,{optional:!0})||{},this.pendingTasks=q(ZC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(Ab),this.urlSerializer=q(Ru),this.location=q(Bi),this.urlHandlingStrategy=q(Db),this._events=new Dt,this.errorHandler=this.options.errorHandler||Cj,this.navigated=!1,this.routeReuseStrategy=q(wj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(Sh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(xh,{optional:!0}),this.eventsSubscription=new ji,this.isNgZoneEnabled=q(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(s!==null&&c!==null){if(this.stateManager.handleRouterEvent(r,c),r instanceof wr&&r.code!==Nn.Redirect&&r.code!==Nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qi)this.navigated=!0;else if(r instanceof Tu){let l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),d={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_j(s.source)};this.scheduleNavigation(l,_u,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Dj(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_u,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let c={replaceUrl:!0},l=s?.navigationId?s:null;if(s){let f=P({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(c.state=f)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Sb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:c,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,m=f?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=P(P({},this.currentUrlTree.queryParams),c);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=c||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let _=s?s.snapshot:this.routerState.snapshot.root;y=tT(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return eT(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ea(i)?i:this.parseUrl(i),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,_u,null,r)}navigate(i,r={skipLocationChange:!1}){return xj(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=P({},Sj):r===!1?s=P({},Tj):s=r,ea(i))return PS(this.currentUrlTree,i,s);let c=this.parseUrl(i);return PS(this.currentUrlTree,c,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,c])=>(c!=null&&(r[s]=c),r),{})}scheduleNavigation(i,r,s,c,l){if(this.disposed)return Promise.resolve(!1);let d,f,m;l?(d=l.resolve,f=l.reject,m=l.promise):m=new Promise((y,_)=>{d=y,f=_});let v=this.pendingTasks.add();return _T(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:c,resolve:d,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xj(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Ht(4008,!1)}function Dj(e){return!(e instanceof Su)&&!(e instanceof Tu)}var Th=class{};var Aj=(()=>{let t=class t{constructor(i,r,s,c,l){this.router=i,this.injector=s,this.preloadingStrategy=c,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(i=>i instanceof qi),hr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let c of r){c.providers&&!c._injector&&(c._injector=yv(c.providers,i,`Route: ${c.path}`));let l=c._injector??i,d=c._loadedInjector??l;(c.loadChildren&&!c._loadedRoutes&&c.canLoad===void 0||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(l,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(d,c.children??c._loadedRoutes))}return vn(s).pipe(lv())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=X(null);let c=s.pipe(Dn(l=>l===null?X(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??i,l.routes))));if(r.loadComponent&&!r._loadedComponent){let l=this.loader.loadComponent(r);return vn([c,l]).pipe(lv())}else return c})}};t.\u0275fac=function(r){return new(r||t)(k(he),k(ih),k(Vs),k(Th),k(xb))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),wT=new rt(""),kj=(()=>{let t=class t{constructor(i,r,s,c,l={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof na?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof qi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Ir&&i.code===vh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof yh&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yh(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){qs()},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();function Rj(e){return e.routerState.root}function Fu(e,t){return{\u0275kind:e,\u0275providers:t}}function Mj(){let e=q(Ae);return t=>{let n=e.get(Ws);if(t!==n.components[0])return;let i=e.get(he),r=e.get(IT);e.get(kb)===1&&i.initialNavigation(),e.get(ET,null,gv.Optional)?.setUpPreloading(),e.get(wT,null,gv.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var IT=new rt("",{factory:()=>new Dt}),kb=new rt("",{providedIn:"root",factory:()=>1});function Oj(){return Fu(2,[{provide:kb,useValue:0},{provide:Ev,multi:!0,deps:[Ae],useFactory:t=>{let n=t.get(dS,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(he),s=t.get(IT);_T(r,()=>{i(!0)}),t.get(Ab).afterPreactivation=()=>(i(!0),s.closed?X(void 0):s),r.initialNavigation()}))}}])}function Nj(){return Fu(3,[{provide:Ev,multi:!0,useFactory:()=>{let t=q(he);return()=>{t.setUpLocationChangeListener()}}},{provide:kb,useValue:2}])}var ET=new rt("");function Pj(e){return Fu(0,[{provide:ET,useExisting:Aj},{provide:Th,useExisting:e}])}function Fj(){return Fu(8,[VS,{provide:xh,useExisting:VS}])}function Lj(e){let t=[{provide:vT,useValue:bj},{provide:bT,useValue:P({skipNextTransition:!!e?.skipInitialTransition},e)}];return Fu(9,t)}var BS=new rt("ROUTER_FORROOT_GUARD"),jj=[Bi,{provide:Ru,useClass:Iu},he,Mu,{provide:ia,useFactory:Rj,deps:[he]},xb,[]],Rb=(()=>{let t=class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[jj,[],{provide:Sh,multi:!0,useValue:i},{provide:BS,useFactory:zj,deps:[[he,new Qd,new vv]]},{provide:Pu,useValue:r||{}},r?.useHash?Uj():Bj(),Vj(),r?.preloadingStrategy?Pj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qj(r):[],r?.bindToComponentInputs?Fj().\u0275providers:[],r?.enableViewTransitions?Lj().\u0275providers:[],Hj()]}}static forChild(i){return{ngModule:t,providers:[{provide:Sh,multi:!0,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)(k(BS,8))},t.\u0275mod=st({type:t}),t.\u0275inj=ot({});let e=t;return e})();function Vj(){return{provide:wT,useFactory:()=>{let e=q(vS),t=q(dt),n=q(Pu),i=q(Ab),r=q(Ru);return n.scrollOffset&&e.setOffset(n.scrollOffset),new kj(r,i,e,t,n)}}}function Uj(){return{provide:Cv,useClass:fS}}function Bj(){return{provide:Cv,useClass:hS}}function zj(e){return"guarded"}function qj(e){return[e.initialNavigation==="disabled"?Nj().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Oj().\u0275providers:[]]}var zS=new rt("");function Hj(){return[{provide:zS,useFactory:Mj},{provide:rS,multi:!0,useExisting:zS}]}var yn=(WT(),$d(GT)),fe=class{static init(t){return yn.default.initializeApp(t),[]}static getFirestore(){return yn.default.firestore()}static _getFirestore(){return yn.default.firestore}static getAuth(){return yn.default.auth()}static getStorage(){return yn.default.storage()}static getFirestoreTimestamp(){return yn.default.firestore.Timestamp.now()}};KT();var Le=class{constructor(){this.auth=fe.getAuth()}createAccountWith(t){return new Promise((n,i)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}signInAnonymously(t){return new Promise((n,i)=>{this.auth.signInAnonymously().then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}signInWith(t){return new Promise((n,i)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new yn.default.auth.GoogleAuthProvider;case"apple":return new yn.default.auth.OAuthProvider("apple.com");case"facebook":return new yn.default.auth.FacebookAuthProvider;case"yahoo":return new yn.default.auth.OAuthProvider("yahoo.com");case"github":return new yn.default.auth.GithubAuthProvider;case"twitter":return new yn.default.auth.TwitterAuthProvider;case"microsoft":return new yn.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((n,i)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch{}n()}).catch(()=>{try{t.onFail()}catch{}i(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(n=>{t(n)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(`${t} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error(`User must be signed in to use the isEmailVerified() function. 
${t}`)}return!1}isSignedIn(){return this.auth.currentUser!=null||this.auth.currentUser!=null}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let n=this.getAuth().currentUser;try{t.whenChanged(n)}catch{}if(this.isSignedIn()){try{t.whenSignedIn(n)}catch{}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(n)}catch{}else try{t.whenSignedInAndEmailNotVerified(n)}catch{}}else try{t.whenSignedOut(n)}catch{}}};var YT=(()=>{let t=class t{constructor(i){this.router=i,this.type="password",this.isText=!1,this.eyeIcon="fa-eye-slash",this.firebasetsAuth=new Le}ngOnInit(){}onReset(i){let r=i.value;this.isNotEmpty(r)&&this.firebasetsAuth.sendPasswordResetEmail({email:"",onComplete:s=>{alert("Reste email sent to ${email}")}})}onLogin(i,r){let s=i.value,c=r.value;this.firebasetsAuth.signInWith({email:s,password:c,onComplete:l=>{alert("Logged In"),this.router.navigate(["profile"])},onFail:l=>{alert(l)}})}isNotEmpty(i){return i!=null&&i.length>0}isAMatch(i,r){return i==r}hideShowPass(){this.isText=!this.isText,this.isText?this.eyeIcon="fa-eye":this.eyeIcon="fa-eye-slash",this.isText?this.type="text":this.type="password"}toSignup(){this.router.navigate(["signup"])}toReset(){this.router.navigate(["resrt"])}toHome(){this.router.navigate(["home"])}};t.\u0275fac=function(r){return new(r||t)(F(he))},t.\u0275cmp=pt({type:t,selectors:[["app-login"]],decls:31,vars:4,consts:[["loginemail",""],["loginpassword",""],[1,"outer"],[1,"container"],[1,"row","pt-2"],[1,"offset-md-2","col-lg-5","col-md-7","offset-lg-4","offset-md-3"],[1,"panel","border","bg-white"],[1,"panel-heading"],[1,"pt-3","font-weight-bold"],[1,"panel-body","p-3"],[1,"form-group","pt-3"],[1,"input-field"],[1,"fa-solid","fa-user","p-2"],["formControlName","email","type","text","placeholder","Email","required",""],[1,"fa-solid","fa-lock","p-2"],["formControlName","password","placeholder","Password","required","",3,"type"],[3,"click"],[1,"form-inline","fr","mt-4"],["id","forget",1,"font-weight-bold",3,"click"],["type","submit",1,"btn","btn-primary","btn-block","mt-4","w-100",3,"click"],[1,"text-center","pt-4","text-muted"],["id","forget",3,"click"]],template:function(r,s){if(r&1){let c=ge();L(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"h3",8),nt(7,"Login"),z()(),L(8,"div",9)(9,"div",10)(10,"div",11),wt(11,"span",12)(12,"input",13,0),z()(),L(14,"div",10)(15,"div",11),wt(16,"span",14)(17,"input",15,1),L(19,"span",16),lt("click",function(){return St(c),Tt(s.hideShowPass())}),z()()(),L(20,"div",17)(21,"a",18),lt("click",function(){return St(c),Tt(s.toReset())}),nt(22,"Forget Password?"),z()(),L(23,"button",19),lt("click",function(){St(c);let d=se(13),f=se(18);return Tt(s.onLogin(d,f))}),nt(24,"Login"),z(),L(25,"div",20),nt(26,"Don't have account?"),L(27,"a",21),lt("click",function(){return St(c),Tt(s.toSignup())}),nt(28," Sign up/"),z(),L(29,"a",21),lt("click",function(){return St(c),Tt(s.toHome())}),nt(30," Back"),z()()()()()()()()}r&2&&(_t(17),Xt("type",s.type),_t(2),gr("fa-solid ",s.eyeIcon,""))}});let e=t;return e})();gR();var In=class{constructor(){this.listeners=new Map}appendArray(t){return fe._getFirestore().FieldValue.arrayUnion(t)}increment(t){return fe._getFirestore().FieldValue.increment(t)}genDocId(){return fe.getFirestore().collection("TEMP").doc().id}all(t){let n=fe.getFirestore().batch();for(let i of t.operations)i.getOperation(n);return new Promise((i,r)=>{n.commit().then(()=>{try{t.onComplete()}catch{}i()}).catch(s=>{try{t.onFail(s)}catch{}r(s)})})}create(t){return new Promise((n,i)=>{if(t.data==null||t.data==null)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let r=this.genCollectionReference(t.path).doc();r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch{}n(r.id)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})}else if(this.isDocumentPath(t.path)){let r=this.genDocumentReference(t.path);r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch{}n(r.id)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})}})}delete(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch{}n()}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}update(t){return new Promise((n,i)=>{this.checkDocumentPathValidity(t.path);let r=this.genDocumentReference(t.path);r.update(t.data).then(()=>{try{t.onComplete(r)}catch{}n(r)}).catch(s=>{try{t.onFail(s)}catch{}i(s)})})}getCollection(t){let n=this.genCollectionReference(t.path);return(t.where!=null||t.where!=null)&&t.where.length>0?new Promise((i,r)=>{let s,c=Array(t.where)[0];for(let l=0;l<c.length;l++)s==null?s=c[l].getQuery(n):s=c[l].concatQuery(s);s.get().then(l=>{try{t.onComplete(l)}catch{}i(l)}).catch(l=>{try{t.onFail(l)}catch{}r(l)})}):new Promise((i,r)=>{n.get().then(s=>{try{t.onComplete(s)}catch{}i(s)}).catch(s=>{try{t.onFail(s)}catch{}r(s)})})}getDocument(t){return new Promise((n,i)=>{this.genDocumentReference(t.path).get().then(r=>{try{t.onComplete(r)}catch{}n(r)}).catch(r=>{try{t.onFail(r)}catch{}i(r)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(n=>{try{t.onUpdate(n)}catch{}}))}listenToCollection(t){this.validateListenerName(t.name);let n=this.genCollectionReference(t.path);if((t.where!=null||t.where!=null)&&t.where.length>0){let i,r=Array(t.where)[0];for(let s=0;s<r.length;s++)i==null?i=r[s].getQuery(n):i=r[s].concatQuery(i);this.addListener(t.name,i.onSnapshot(s=>{try{t.onUpdate(s)}catch{}}))}else this.addListener(t.name,n.onSnapshot(i=>{try{t.onUpdate(i)}catch{}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);let n=Array(t)[0],i,r;for(let s=0;s<n.length;s++)s%2==0?i==null?i=fe.getFirestore().collection(n[s]):i=r.collection(n[s]):r=i.doc(n[s]);return i}genDocumentReference(t){this.checkDocumentPathValidity(t);let n=Array(t)[0],i,r;for(let s=0;s<n.length;s++)s%2==0?i==null?i=fe.getFirestore().collection(n[s]):i=r.collection(n[s]):r=i.doc(n[s]);return r}addListener(t,n){return this.listeners.set(t,n),n}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch{}}stopListeningToAll(){this.listeners.forEach((t,n,i)=>{this.stopListeningTo(n)})}validateListenerName(t){if(t==null||t==null||typeof t!="string"||t.trim().length<=0)throw"Listener name cannot be empty.";if(this.listeners.get(t)!=null)throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(t==null||t==null||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(t==null||t==null||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}};var Hr=class{constructor(t,n){this.field=t,this.direction=n}getQuery(t){return t.orderBy(this.field,this.direction)}concatQuery(t){return t.orderBy(this.field,this.direction)}},$a=class{constructor(t){this.limit=t}getQuery(t){return t.limit(this.limit)}concatQuery(t){return t.limit(this.limit)}};var vR=(()=>{let t=class t{constructor(i){this.router=i,this.type="password",this.isText=!1,this.eyeIcon="fa-eye-slash",this.firestore=new In,this.auth=new Le,this.firebasetsAuth=new Le}ngOnInit(){}test(){this.auth.createAccountWith({email:"codeible@codeible.com",password:"*******",onComplete:i=>{alert("Signed in!")},onFail:i=>{alert("Failed to Sign in...")}})}onRegisterClick(i,r,s,c){let l=i.value,d=r.value,f=s.value,m=c.value;console.log("pass"+f),console.log("checkPass"+m),this.isAMatch(f,m)?this.auth.createAccountWith({email:d,password:f,onComplete:v=>{let y=v.user;y?this.firestore.create({path:["Users",y.uid],data:{username:l,email:d},onComplete:_=>{alert("Registered Successfully"),this.router.navigate(["login"])},onFail:_=>{alert("cant create user : "+_),console.log(_)}}):alert("null.")},onFail:v=>{alert(v),console.log(v)}}):alert("Passwords do not match.")}isAMatch(i,r){return i===r}hideShowPass(){this.isText=!this.isText,this.isText?this.eyeIcon="fa-eye":this.eyeIcon="fa-eye-slash",this.isText?this.type="text":this.type="password"}toLogin(){this.router.navigate(["login"])}toReset(){this.router.navigate(["resrt"])}toHome(){this.router.navigate(["home"])}};t.\u0275fac=function(r){return new(r||t)(F(he))},t.\u0275cmp=pt({type:t,selectors:[["app-signup"]],decls:46,vars:8,consts:[["registerUsername",""],["registerEmail",""],["registerPassword",""],["registerConfirmPassword",""],[1,"outer"],[1,"container"],[1,"row","pt-2"],[1,"offset-md-2","col-lg-5","col-md-7","offset-lg-4","offset-md-3"],[1,"panel","border","bg-white"],[1,"panel-heading"],[1,"pt-3","font-weight-bold"],[1,"panel-body","p-3"],[1,"form-group","pt-3"],[1,"input-field"],[1,"fa-solid","fa-user","p-2"],["formControlName","username","type","text","placeholder","Username","required",""],["formControlName","email","type","text","placeholder","Email","required",""],[1,"fa-solid","fa-lock","p-2"],["formControlName","password","placeholder","Password","required","",3,"type"],[3,"click"],["formControlName","confirmpassword","placeholder","ConfirmPassword","required","",3,"type"],[1,"form-inline","fr","mt-4"],["id","forget",1,"font-weight-bold",3,"click"],["type","submit",1,"btn","btn-primary","btn-block","mt-4","w-100",3,"click"],[1,"text-center","pt-4","text-muted"],["id","forget",3,"click"]],template:function(r,s){if(r&1){let c=ge();L(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"h3",10),nt(7,"Sign up"),z()(),L(8,"div",11)(9,"div")(10,"div",12)(11,"div",13),wt(12,"span",14)(13,"input",15,0),z()()(),L(15,"div")(16,"div")(17,"div",12)(18,"div",13),wt(19,"span",14)(20,"input",16,1),z()()(),L(22,"div")(23,"div",12)(24,"div",13),wt(25,"span",17)(26,"input",18,2),L(28,"span",19),lt("click",function(){return St(c),Tt(s.hideShowPass())}),z()()(),L(29,"div",12)(30,"div",13),wt(31,"span",17)(32,"input",20,3),L(34,"span",19),lt("click",function(){return St(c),Tt(s.hideShowPass())}),z()()()(),L(35,"div",21)(36,"a",22),lt("click",function(){return St(c),Tt(s.toReset())}),nt(37,"Forget Password?"),z()(),L(38,"button",23),lt("click",function(){St(c);let d=se(14),f=se(21),m=se(27),v=se(33);return Tt(s.onRegisterClick(d,f,m,v))}),nt(39,"Sign up"),z()(),L(40,"div",24),nt(41,"Arleady have account?"),L(42,"a",25),lt("click",function(){return St(c),Tt(s.toLogin())}),nt(43," login/"),z(),L(44,"a",25),lt("click",function(){return St(c),Tt(s.toHome())}),nt(45," Back"),z()()()()()()()()}r&2&&(_t(26),Xt("type",s.type),_t(2),gr("fa-solid ",s.eyeIcon,""),_t(4),Xt("type",s.type),_t(2),gr("fa-solid ",s.eyeIcon,""))}});let e=t;return e})();var z_;try{z_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z_=!1}var Zt=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?gS(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||z_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(k(Eo))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Dl;function p4(){if(Dl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dl=!0}))}finally{Dl=Dl||!1}return Dl}function Ka(e){return p4()?e:!!e.capture}var ns;function bR(){if(ns==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ns=!1,ns;if("scrollBehavior"in document.documentElement.style)ns=!0;else{let e=Element.prototype.scrollTo;e?ns=!/\{\s*\[native code\]\s*\}/.test(e.toString()):ns=!1}}return ns}var B_;function m4(){if(B_==null){let e=typeof document<"u"?document.head:null;B_=!!(e&&(e.createShadowRoot||e.attachShadow))}return B_}function yR(e){if(m4()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Al(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function hi(e){return e.composedPath?e.composedPath()[0]:e.target}function kl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Xa(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function Rl(e,t=0){return g4(e)?Number(e):t}function g4(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Qa(e){return Array.isArray(e)?e:[e]}function pe(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Xi(e){return e instanceof Ft?e.nativeElement:e}var v4=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _R=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[v4]});let e=t;return e})();var wR=new Set,is,b4=(()=>{let t=class t{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_4}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&y4(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(r){return new(r||t)(k(Zt),k(au,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function y4(e,t){if(!wR.has(e))try{is||(is=document.createElement("style"),t&&(is.nonce=t),is.setAttribute("type","text/css"),document.head.appendChild(is)),is.sheet&&(is.sheet.insertRule(`@media ${e} {body{ }}`,0),wR.add(e))}catch(n){console.error(n)}}function _4(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Zf=(()=>{let t=class t{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Dt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return IR(Qa(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=IR(Qa(i)).map(l=>this._registerQuery(l).observable),c=Ls(s);return c=Yd(c.pipe(ie(1)),c.pipe(Xd(1),hv(0))),c.pipe(vt(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:f,query:m})=>{d.matches=d.matches||f,d.breakpoints[m]=f}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),c={observable:new nu(l=>{let d=f=>this._zone.run(()=>l.next(f));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Vi(r),vt(({matches:l})=>({query:i,matches:l})),Ui(this._destroySubject)),mql:r};return this._queries.set(i,c),c}};t.\u0275fac=function(r){return new(r||t)(k(b4),k(dt))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function IR(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var rs={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var ss=(()=>{let t=class t{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return C4(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=E4(M4(i));if(r&&(ER(r)===-1||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),c=ER(i);return i.hasAttribute("contenteditable")?c!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!k4(i)?!1:s==="audio"?i.hasAttribute("controls")?c!==-1:!1:s==="video"?c===-1?!1:c!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return R4(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};t.\u0275fac=function(r){return new(r||t)(k(Zt))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function E4(e){try{return e.frameElement}catch{return null}}function C4(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function S4(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function T4(e){return D4(e)&&e.type=="hidden"}function x4(e){return A4(e)&&e.hasAttribute("href")}function D4(e){return e.nodeName.toLowerCase()=="input"}function A4(e){return e.nodeName.toLowerCase()=="a"}function TR(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function ER(e){if(!TR(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function k4(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function R4(e){return T4(e)?!1:S4(e)||x4(e)||e.hasAttribute("contenteditable")||TR(e)}function M4(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var H_=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,i,r,s=!1){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ie(1)).subscribe(t)}},Ja=(()=>{let t=class t{constructor(i,r,s){this._checker=i,this._ngZone=r,this._document=s}create(i,r=!1){return new H_(i,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(k(ss),k(dt),k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function G_(e){return e.buttons===0||e.detail===0}function W_(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var O4=new rt("cdk-input-modality-detector-options"),N4={ignoreKeys:[18,17,224,91,16]},xR=650,Za=Ka({passive:!0,capture:!0}),P4=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,r,s,c){this._platform=i,this._mostRecentTarget=null,this._modality=new gn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hi(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<xR||(this._modality.next(G_(l)?"keyboard":"mouse"),this._mostRecentTarget=hi(l))},this._onTouchstart=l=>{if(W_(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hi(l)},this._options=P(P({},N4),c),this.modalityDetected=this._modality.pipe(Xd(1)),this.modalityChanged=this.modalityDetected.pipe(pv()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Za),s.addEventListener("mousedown",this._onMousedown,Za),s.addEventListener("touchstart",this._onTouchstart,Za)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Za),document.removeEventListener("mousedown",this._onMousedown,Za),document.removeEventListener("touchstart",this._onTouchstart,Za))}};t.\u0275fac=function(r){return new(r||t)(k(Zt),k(dt),k(ct),k(O4,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var tp=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(tp||{}),F4=new rt("cdk-focus-monitor-default-options"),Jf=Ka({passive:!0,capture:!0}),Gr=(()=>{let t=class t{constructor(i,r,s,c,l){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dt,this._rootNodeFocusAndBlurListener=d=>{let f=hi(d);for(let m=f;m;m=m.parentElement)d.type==="focus"?this._onFocus(d,m):this._onBlur(d,m)},this._document=c,this._detectionMode=l?.detectionMode||tp.IMMEDIATE}monitor(i,r=!1){let s=Xi(i);if(!this._platform.isBrowser||s.nodeType!==1)return X();let c=yR(s)||this._getDocument(),l=this._elementInfo.get(s);if(l)return r&&(l.checkChildren=!0),l.subject;let d={checkChildren:r,subject:new Dt,rootNode:c};return this._elementInfo.set(s,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){let r=Xi(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let c=Xi(i),l=this._getDocument().activeElement;c===l?this._getClosestElementsInfo(c).forEach(([d,f])=>this._originChanged(d,r,f)):(this._setOrigin(r),typeof c.focus=="function"&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===tp.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===tp.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?xR:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),c=hi(i);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jf)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ui(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,c)=>{(c===i||s.checkChildren&&c.contains(i))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let c=i.labels;if(c){for(let l=0;l<c.length;l++)if(c[l].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(k(dt),k(Zt),k(P4),k(ct,8),k(F4,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var os=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(os||{}),CR="cdk-high-contrast-black-on-white",SR="cdk-high-contrast-white-on-black",q_="cdk-high-contrast-active",$_=(()=>{let t=class t{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=q(Zf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return os.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return os.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return os.BLACK_ON_WHITE}return os.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(q_,CR,SR),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===os.BLACK_ON_WHITE?i.add(q_,CR):r===os.WHITE_ON_BLACK&&i.add(q_,SR)}}};t.\u0275fac=function(r){return new(r||t)(k(Zt),k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),DR=(()=>{let t=class t{constructor(i){i._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(r){return new(r||t)(k($_))},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[_R]});let e=t;return e})();var L4=new rt("cdk-dir-doc",{providedIn:"root",factory:j4});function j4(){return q(ct)}var V4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function U4(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?V4.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ol=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new ke,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=U4(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(k(L4,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Wr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({});let e=t;return e})();var z4=20,AR=(()=>{let t=class t{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new Dt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=z4){return this._platform.isBrowser?new nu(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(dv(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):X()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Yt(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,i)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=Xi(r),c=i.getElementRef().nativeElement;do if(s==c)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return RC(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(k(dt),k(Zt),k(ct,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var q4=20,K_=(()=>{let t=class t{constructor(i,r,s){this._platform=i,this._change=new Dt,this._changeListener=c=>{this._change.next(c)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,c=s.getBoundingClientRect(),l=-c.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,d=-c.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:l,left:d}}change(i=q4){return i>0?this._change.pipe(dv(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(k(Zt),k(dt),k(ct,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var np=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({});let e=t;return e})(),Y_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[Wr,np,Wr,np]});let e=t;return e})();var Nl=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},tc=class extends Nl{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},ec=class extends Nl{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},X_=class extends Nl{constructor(t){super(),this.element=t instanceof Ft?t.nativeElement:t}},nc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof tc)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ec)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof X_)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ip=class extends nc{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{this._document;let l=c.element;l.parentNode;let d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ae.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var as=(()=>{let t=class t extends nc{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ke,this.attachDomPortal=c=>{this._document;let l=c.element;l.parentNode;let d=this._document.createComment("dom-portal");c.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,c=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),l=r.createComponent(c,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=i,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};t.\u0275fac=function(r){return new(r||t)(F(uu),F(So),F(ct))},t.\u0275dir=oe({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[zt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Mn]});let e=t;return e})();var Qi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({});let e=t;return e})();var kR=bR(),Q_=class{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=pe(-this._previousScrollPosition.left),t.style.top=pe(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,i=t.style,r=n.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),kR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),kR&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var Z_=class{constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Yt(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},rp=class{enable(){}disable(){}attach(){}};function J_(e,t){return t.some(n=>{let i=e.bottom<n.top,r=e.top>n.bottom,s=e.right<n.left,c=e.left>n.right;return i||r||s||c})}function RR(e,t){return t.some(n=>{let i=e.top<n.top,r=e.bottom>n.bottom,s=e.left<n.left,c=e.right>n.right;return i||r||s||c})}var t0=class{constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();J_(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},G4=(()=>{let t=class t{constructor(i,r,s,c){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new rp,this.close=l=>new Z_(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Q_(this._viewportRuler,this._document),this.reposition=l=>new t0(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=c}};t.\u0275fac=function(r){return new(r||t)(k(AR),k(K_),k(dt),k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ic=class{constructor(t){if(this.scrollStrategy=new rp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var e0=class{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var FR=(()=>{let t=class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(k(ct))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),W4=(()=>{let t=class t extends FR{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{let c=this._attachedOverlays;for(let l=c.length-1;l>-1;l--)if(c[l]._keydownEvents.observers.length>0){let d=c[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(k(ct),k(dt,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$4=(()=>{let t=class t extends FR{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=hi(c)},this._clickListener=c=>{let l=hi(c),d=c.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){let v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(l)||v.overlayElement.contains(d))break;let y=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(c)):y.next(c)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(k(ct),k(Zt),k(dt,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),oc=(()=>{let t=class t{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||kl()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}let r=this._document.createElement("div");r.classList.add(i),kl()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(k(ct),k(Zt))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fi=class{constructor(t,n,i,r,s,c,l,d,f,m=!1){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=l,this._location=d,this._outsideClickDispatcher=f,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new Dt,this._attachments=new Dt,this._detachments=new Dt,this._locationChanges=ji.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Dt,this._outsidePointerEvents=new Dt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ie(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=P(P({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Kt(P({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=pe(this._config.width),t.height=pe(this._config.height),t.minWidth=pe(this._config.minWidth),t.minHeight=pe(this._config.minHeight),t.maxWidth=pe(this._config.maxWidth),t.maxHeight=pe(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,i){let r=Qa(n||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Ui(js(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},MR="cdk-overlay-connected-position-bounding-box",K4=/([A-Za-z%]+)$/,n0=class{get positions(){return this._preferredPositions}constructor(t,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Dt,this._resizeSubscription=ji.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(MR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],c;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,r,l),f=this._getOverlayPoint(d,n,l),m=this._getOverlayFit(f,n,i,l);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(m,f,i)){s.push({position:l,origin:d,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!c||c.overlayFit.visibleArea<m.visibleArea)&&(c={overlayFit:m,overlayPoint:f,originPoint:d,position:l,overlayRect:n})}if(s.length){let l=null,d=-1;for(let f of s){let m=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);m>d&&(d=m,l=f)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(c.position,c.originPoint);return}this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let c=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r=i.originX=="start"?c:l}n.left<0&&(r-=n.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(t,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let s;return i.overlayY=="center"?s=-n.height/2:s=i.overlayY=="top"?0:-n.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,n,i,r){let s=NR(n),{x:c,y:l}=t,d=this._getOffset(r,"x"),f=this._getOffset(r,"y");d&&(c+=d),f&&(l+=f);let m=0-c,v=c+s.width-i.width,y=0-l,_=l+s.height-i.height,I=this._subtractOverflows(s.width,m,v),E=this._subtractOverflows(s.height,y,_),S=I*E;return{visibleArea:S,isCompletelyWithinViewport:s.width*s.height===S,fitsInViewportVertically:E===s.height,fitsInViewportHorizontally:I==s.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,s=i.right-n.x,c=OR(this._overlayRef.getConfig().minHeight),l=OR(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||c!=null&&c<=r,f=t.fitsInViewportHorizontally||l!=null&&l<=s;return d&&f}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=NR(n),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),d=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0),m=0,v=0;return r.width<=s.width?m=f||-c:m=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?v=d||-l:v=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:m,y:v},{x:t.x+m,y:t.y+v}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Y4(this._lastScrollVisibility,i)){let r=new e0(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){let i=this._viewportRect,r=this._isRtl(),s,c,l;if(n.overlayY==="top")c=t.y,s=i.height-c+this._viewportMargin;else if(n.overlayY==="bottom")l=i.height-t.y+this._viewportMargin*2,s=i.height-l+this._viewportMargin;else{let _=Math.min(i.bottom-t.y+i.top,t.y),I=this._lastBoundingBoxSize.height;s=_*2,c=t.y-_,s>I&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-I/2)}let d=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,f=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,m,v,y;if(f)y=i.width-t.x+this._viewportMargin*2,m=t.x-this._viewportMargin;else if(d)v=t.x,m=i.right-t.x;else{let _=Math.min(i.right-t.x+i.left,t.x),I=this._lastBoundingBoxSize.width;m=_*2,v=t.x-_,m>I&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-I/2)}return{top:c,left:v,bottom:l,right:y,width:m,height:s}}_setBoundingBoxStyles(t,n){let i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=pe(i.height),r.top=pe(i.top),r.bottom=pe(i.bottom),r.width=pe(i.width),r.left=pe(i.left),r.right=pe(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=pe(s)),c&&(r.maxWidth=pe(c))}this._lastBoundingBoxSize=i,cs(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){let m=this._viewportRuler.getViewportScrollPosition();cs(i,this._getExactOverlayY(n,t,m)),cs(i,this._getExactOverlayX(n,t,m))}else i.position="static";let l="",d=this._getOffset(n,"x"),f=this._getOffset(n,"y");d&&(l+=`translateX(${d}px) `),f&&(l+=`translateY(${f}px)`),i.transform=l.trim(),c.maxHeight&&(r?i.maxHeight=pe(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=pe(c.maxWidth):s&&(i.maxWidth="")),cs(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let c=this._document.documentElement.clientHeight;r.bottom=`${c-(s.y+this._overlayRect.height)}px`}else r.top=pe(s.y);return r}_getExactOverlayX(t,n,i){let r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c;if(this._isRtl()?c=t.overlayX==="end"?"left":"right":c=t.overlayX==="end"?"right":"left",c==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(s.x+this._overlayRect.width)}px`}else r.left=pe(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RR(t,i),isOriginOutsideView:J_(t,i),isOverlayClipped:RR(n,i),isOverlayOutsideView:J_(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Qa(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Ft)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}};function cs(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function OR(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(K4);return!n||n==="px"?parseFloat(t):null}return e||null}function NR(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function Y4(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var PR="cdk-global-overlay-wrapper",i0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(PR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:l}=i,d=(r==="100%"||r==="100vw")&&(!c||c==="100%"||c==="100vw"),f=(s==="100%"||s==="100vh")&&(!l||l==="100%"||l==="100vh"),m=this._xPosition,v=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",_="",I="",E="";d?E="flex-start":m==="center"?(E="center",y?I=v:_=v):y?m==="left"||m==="end"?(E="flex-end",_=v):(m==="right"||m==="start")&&(E="flex-start",I=v):m==="left"||m==="start"?(E="flex-start",_=v):(m==="right"||m==="end")&&(E="flex-end",I=v),t.position=this._cssPosition,t.marginLeft=d?"0":_,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":I,n.justifyContent=E,n.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(PR),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},X4=(()=>{let t=class t{constructor(i,r,s,c){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=c}global(){return new i0}flexibleConnectedTo(i){return new n0(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(k(K_),k(ct),k(Zt),k(oc))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Q4=0,Je=(()=>{let t=class t{constructor(i,r,s,c,l,d,f,m,v,y,_,I){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=l,this._injector=d,this._ngZone=f,this._document=m,this._directionality=v,this._location=y,this._outsideClickDispatcher=_,this._animationsModuleType=I}create(i){let r=this._createHostElement(),s=this._createPaneElement(r),c=this._createPortalOutlet(s),l=new ic(i);return l.direction=l.direction||this._directionality.value,new fi(c,r,s,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${Q4++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Ws)),new ip(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(k(G4),k(oc),k(uu),k(X4),k(W4),k(Ae),k(dt),k(ct),k(Ol),k(Bi),k($4),k(kn,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Z4=new rt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(Je);return()=>e.scrollStrategies.reposition()}});function J4(e){return()=>e.scrollStrategies.reposition()}var tz={provide:Z4,deps:[Je],useFactory:J4},sc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[Je,tz],imports:[Wr,Qi,Y_,Y_]});let e=t;return e})();function ez(e,t){}var Zi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Ll=(()=>{let t=class t extends nc{constructor(i,r,s,c,l,d,f,m){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=f,this._focusMonitor=m,this._platform=q(Zt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=q(Ei),this.attachDomPortal=v=>{this._portalOutlet.hasAttached();let y=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),y},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(r)}_focusByCssSelector(i,r){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let s=Al(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=Al();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Al()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(Ja),F(ct,8),F(Zi),F(ss),F(dt),F(fi),F(Gr))},t.\u0275cmp=pt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(r&1&&lu(as,7),r&2){let c;To(c=xo())&&(s._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){r&2&&Fe("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Mn,de],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&Se(0,ez,0,0,"ng-template",0)},dependencies:[as],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Pl=class{constructor(t,n){this.overlayRef=t,this.config=n,this.closed=new Dt,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Xa(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},nz=new rt("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=q(Je);return()=>e.scrollStrategies.block()}}),iz=new rt("DialogData"),rz=new rt("DefaultDialogConfig");var oz=0,jl=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,s,c,l,d){this._overlay=i,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Dt,this._afterOpenedAtThisLevel=new Dt,this._ariaHiddenElements=new Map,this.afterAllClosed=yo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._scrollStrategy=d}open(i,r){let s=this._defaultOptions||new Zi;r=P(P({},s),r),r.id=r.id||`cdk-dialog-${oz++}`,r.id&&this.getDialogById(r.id);let c=this._getOverlayConfig(r),l=this._overlay.create(c),d=new Pl(l,r),f=this._attachContainer(l,d,r);return d.containerInstance=f,this._attachDialogContent(i,d,f,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){o0(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){o0(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),o0(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new ic({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,s){let c=s.injector||s.viewContainerRef?.injector,l=[{provide:Zi,useValue:s},{provide:Pl,useValue:r},{provide:fi,useValue:i}],d;s.container?typeof s.container=="function"?d=s.container:(d=s.container.type,l.push(...s.container.providers(s))):d=Ll;let f=new tc(d,s.viewContainerRef,Ae.create({parent:c||this._injector,providers:l}),s.componentFactoryResolver);return i.attach(f).instance}_attachDialogContent(i,r,s,c){if(i instanceof Co){let l=this._createInjector(c,r,s,void 0),d={$implicit:c.data,dialogRef:r};c.templateContext&&(d=P(P({},d),typeof c.templateContext=="function"?c.templateContext():c.templateContext)),s.attachTemplatePortal(new ec(i,null,d,l))}else{let l=this._createInjector(c,r,s,this._injector),d=s.attachComponentPortal(new tc(i,c.viewContainerRef,l,c.componentFactoryResolver));r.componentRef=d,r.componentInstance=d.instance}}_createInjector(i,r,s,c){let l=i.injector||i.viewContainerRef?.injector,d=[{provide:iz,useValue:i.data},{provide:Pl,useValue:r}];return i.providers&&(typeof i.providers=="function"?d.push(...i.providers(r,i,s)):d.push(...i.providers)),i.direction&&(!l||!l.get(Ol,null,{optional:!0}))&&d.push({provide:Ol,useValue:{value:i.direction,change:X()}}),Ae.create({parent:l||c,providers:d})}_removeOpenDialog(i,r){let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,l)=>{c?l.setAttribute("aria-hidden",c):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let s=r.length-1;s>-1;s--){let c=r[s];c!==i&&c.nodeName!=="SCRIPT"&&c.nodeName!=="STYLE"&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(k(Je),k(Ae),k(rz,8),k(t,12),k(oc),k(nz))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function o0(e,t){let n=e.length;for(;n--;)t(e[n])}var op=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[jl],imports:[sc,Qi,DR,Qi]});let e=t;return e})();var d0=(()=>{let t=class t{};t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let e=t;return e})(),h0=(()=>{let t=class t{};t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms";let e=t;return e})();function cz(){return!0}var uz=new rt("mat-sanity-checks",{providedIn:"root",factory:cz}),qt=(()=>{let t=class t{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return kl()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(r){return new(r||t)(k($_),k(uz,8),k(ct))},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[Wr,Wr]});let e=t;return e})();var Qn=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Qn||{}),c0=class{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Qn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},LR=Ka({passive:!0,capture:!0}),u0=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=hi(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,i,r){let s=this._events.get(n);if(s){let c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,LR)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,LR)))}},jR={enterDuration:225,exitDuration:150},lz=800,VR=Ka({passive:!0,capture:!0}),UR=["mousedown","touchstart"],BR=["mouseup","mouseleave","touchend","touchcancel"],Vl=class Vl{constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Xi(i))}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=P(P({},jR),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let c=i.radius||dz(t,n,r),l=t-r.left,d=n-r.top,f=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-c}px`,m.style.top=`${d-c}px`,m.style.height=`${c*2}px`,m.style.width=`${c*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(m);let v=window.getComputedStyle(m),y=v.transitionProperty,_=v.transitionDuration,I=y==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,E=new c0(this,m,i,I);m.style.transform="scale3d(1, 1, 1)",E.state=Qn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=E);let S=null;return!I&&(f||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let R=()=>this._finishRippleTransition(E),j=()=>this._destroyRipple(E);m.addEventListener("transitionend",R),m.addEventListener("transitioncancel",j),S={onTransitionEnd:R,onTransitionCancel:j}}),this._activeRipples.set(E,S),(I||!f)&&this._finishRippleTransition(E),E}fadeOutRipple(t){if(t.state===Qn.FADING_OUT||t.state===Qn.HIDDEN)return;let n=t.element,i=P(P({},jR),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Qn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=Xi(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,UR.forEach(i=>{Vl._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{BR.forEach(n=>{this._triggerElement.addEventListener(n,this,VR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Qn.FADING_IN?this._startFadeOutTransition(t):t.state===Qn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Qn.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Qn.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){let n=G_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+lz;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!W_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===Qn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Qn.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(UR.forEach(n=>Vl._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&BR.forEach(n=>t.removeEventListener(n,this,VR)))}};Vl._eventManager=new u0;var l0=Vl;function dz(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var GR=new rt("mat-ripple-global-options"),WR=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,c,l){this._elementRef=i,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new l0(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:P(P(P({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,P(P({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,P(P({},this.rippleConfig),i))}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(dt),F(Zt),F(GR,8),F(kn,8))},t.\u0275dir=oe({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&Te("mat-ripple-unbounded",s.unbounded)},inputs:{color:[zt.None,"matRippleColor","color"],unbounded:[zt.None,"matRippleUnbounded","unbounded"],centered:[zt.None,"matRippleCentered","centered"],radius:[zt.None,"matRippleRadius","radius"],animation:[zt.None,"matRippleAnimation","animation"],disabled:[zt.None,"matRippleDisabled","disabled"],trigger:[zt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),ap=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[qt,qt]});let e=t;return e})();var zR={capture:!0},qR=["focus","click","mouseenter","touchstart"],s0="mat-ripple-loader-uninitialized",a0="mat-ripple-loader-class-name",HR="mat-ripple-loader-centered",sp="mat-ripple-loader-disabled",$R=(()=>{let t=class t{constructor(){this._document=q(ct,{optional:!0}),this._animationMode=q(kn,{optional:!0}),this._globalRippleOptions=q(GR,{optional:!0}),this._platform=q(Zt),this._ngZone=q(dt),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let s=i.target.closest(`[${s0}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(let i of qR)this._document?.addEventListener(i,this._onInteraction,zR)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of qR)this._document?.removeEventListener(r,this._onInteraction,zR)}configureRipple(i,r){i.setAttribute(s0,""),(r.className||!i.hasAttribute(a0))&&i.setAttribute(a0,r.className||""),r.centered&&i.setAttribute(HR,""),r.disabled&&i.setAttribute(sp,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let s=this._hosts.get(i);if(s){s.disabled=r;return}r?i.setAttribute(sp,""):i.removeAttribute(sp)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(a0)),i.append(s);let c=new WR(new Ft(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=i,c.centered=i.hasAttribute(HR),c.disabled=i.hasAttribute(sp),this.attachRipple(i,c),c}attachRipple(i,r){i.removeAttribute(s0),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function hz(e,t){}var fz={bottomSheetState:du("state",[Ks("void, hidden",zi({transform:"translateY(100%)"})),Ks("visible",zi({transform:"translateY(0%)"})),Ao("visible => void, visible => hidden",Tv([Do(`${h0.COMPLEX} ${d0.ACCELERATION_CURVE}`),Dv("@*",xv(),{optional:!0})])),Ao("void => visible",Tv([Do(`${h0.EXITING} ${d0.DECELERATION_CURVE}`),Dv("@*",xv(),{optional:!0})]))])},pz=(()=>{let t=class t extends Ll{constructor(i,r,s,c,l,d,f,m,v){super(i,r,s,c,l,d,f,v),this._animationState="void",this._animationStateChanged=new ke,this._breakpointSubscription=m.observe([rs.Medium,rs.Large,rs.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",m.isMatched(rs.Medium)),this._toggleClass("mat-bottom-sheet-container-large",m.isMatched(rs.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",m.isMatched(rs.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(i){i.toState==="visible"&&this._trapFocus(),this._animationStateChanged.emit(i)}_onAnimationStart(i){this._animationStateChanged.emit(i)}_captureInitialFocus(){}_toggleClass(i,r){this._elementRef.nativeElement.classList.toggle(i,r)}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(Ja),F(ct,8),F(Zi),F(ss),F(dt),F(fi),F(Zf),F(Gr))},t.\u0275cmp=pt({type:t,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(r,s){r&1&&tS("@state.start",function(l){return s._onAnimationStart(l)})("@state.done",function(l){return s._onAnimationDone(l)}),r&2&&(JC("@state",s._animationState),Fe("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-label",s._config.ariaLabel))},standalone:!0,features:[Mn,de],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&Se(0,hz,0,0,"ng-template",0)},dependencies:[as],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[fz.bottomSheetState]}});let e=t;return e})(),mz=new rt("MatBottomSheetData"),f0=class{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}},ac=class{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(t,n,i){this._ref=t,this._afterOpened=new Dt,this.containerInstance=i,this.disableClose=n.disableClose,i._animationStateChanged.pipe(Yt(r=>r.phaseName==="done"&&r.toState==="visible"),ie(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Yt(r=>r.phaseName==="done"&&r.toState==="hidden"),ie(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),js(this.backdropClick(),this.keydownEvents().pipe(Yt(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!Xa(r))&&(r.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Yt(n=>n.phaseName==="start"),ie(1)).subscribe(n=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},n.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},gz=new rt("mat-bottom-sheet-default-options"),p0=(()=>{let t=class t{get _openedBottomSheetRef(){let i=this._parentBottomSheet;return i?i._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(i){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=i:this._bottomSheetRefAtThisLevel=i}constructor(i,r,s,c){this._overlay=i,this._parentBottomSheet=s,this._defaultOptions=c,this._bottomSheetRefAtThisLevel=null,this._dialog=r.get(jl)}open(i,r){let s=P(P({},this._defaultOptions||new f0),r),c;return this._dialog.open(i,Kt(P({},s),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:pz,scrollStrategy:s.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:c}),providers:(l,d,f)=>(c=new ac(l,s,f),[{provide:ac,useValue:c},{provide:mz,useValue:s.data}])})),c.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===c&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>c.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):c.containerInstance.enter(),this._openedBottomSheetRef=c,c}dismiss(i){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(i)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}};t.\u0275fac=function(r){return new(r||t)(k(Je),k(Ae),k(t,12),k(gz,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),KR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[p0],imports:[op,qt,Qi,qt]});let e=t;return e})();var vz=["*"];var bz=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],yz=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],_z=new rt("MAT_CARD_CONFIG"),cc=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(F(_z,8))},t.\u0275cmp=pt({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,s){r&2&&Te("mat-mdc-card-outlined",s.appearance==="outlined")("mdc-card--outlined",s.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[de],ngContentSelectors:vz,decls:1,vars:0,template:function(r,s){r&1&&($n(),Re(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),uc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=oe({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var XR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=oe({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})();var lc=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=oe({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,s){r&2&&Te("mat-mdc-card-actions-align-end",s.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),dc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pt({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[de],ngContentSelectors:yz,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,s){r&1&&($n(bz),Re(0),L(1,"div",0),Re(2,1),z(),Re(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var QR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=oe({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var ZR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[qt,$s,qt]});let e=t;return e})();var wz=["mat-button",""],t1=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],e1=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Iz=["mat-fab",""];var Ez=new rt("MAT_BUTTON_CONFIG");var Cz=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],n1=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,s,c){this._elementRef=i,this._platform=r,this._ngZone=s,this._animationMode=c,this._focusMonitor=q(Gr),this._rippleLoader=q($R),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let l=q(Ez,{optional:!0}),d=i.nativeElement,f=d.classList;this.disabledInteractive=l?.disabledInteractive??!1,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:v}of Cz)d.hasAttribute(m)&&f.add(...v)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){qs()},t.\u0275dir=oe({type:t,inputs:{color:"color",disableRipple:[zt.HasDecoratorInputTransform,"disableRipple","disableRipple",bn],disabled:[zt.HasDecoratorInputTransform,"disabled","disabled",bn],ariaDisabled:[zt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",bn],disabledInteractive:[zt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",bn]},features:[Wn]});let e=t;return e})();var hc=(()=>{let t=class t extends n1{constructor(i,r,s,c){super(i,r,s,c)}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(Zt),F(dt),F(kn,8))},t.\u0275cmp=pt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,s){r&2&&(Fe("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Hs(s.color?"mat-"+s.color:""),Te("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Mn,de],attrs:wz,ngContentSelectors:e1,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){r&1&&($n(t1),wt(0,"span",0),Re(1),L(2,"span",1),Re(3,1),z(),Re(4,2),wt(5,"span",2)(6,"span",3)),r&2&&Te("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var Sz=new rt("mat-mdc-fab-default-options",{providedIn:"root",factory:i1});function i1(){return{color:"accent"}}var JR=i1(),r1=(()=>{let t=class t extends n1{constructor(i,r,s,c,l){super(i,r,s,c),this._options=l,this._isFab=!0,this._options=this._options||JR,this.color=this._options.color||JR.color}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(Zt),F(dt),F(kn,8),F(Sz,8))},t.\u0275cmp=pt({type:t,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,s){r&2&&(Fe("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Hs(s.color?"mat-"+s.color:""),Te("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0)("mdc-fab--extended",s.extended)("mat-mdc-extended-fab",s.extended))},inputs:{extended:[zt.HasDecoratorInputTransform,"extended","extended",bn]},exportAs:["matButton"],standalone:!0,features:[Wn,Mn,de],attrs:Iz,ngContentSelectors:e1,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){r&1&&($n(t1),wt(0,"span",0),Re(1),L(2,"span",1),Re(3,1),z(),Re(4,2),wt(5,"span",2)(6,"span",3)),r&2&&Te("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-mini-fab{background-color:var(--mdc-fab-small-container-color)}.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-small-icon-size);height:var(--mdc-fab-small-icon-size);font-size:var(--mdc-fab-small-icon-size)}.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:var(--mdc-extended-fab-container-shape)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab[disabled],.mat-mdc-fab[disabled]:focus,.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-fab.mat-mdc-button-disabled:focus,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab[disabled]:focus,.mat-mdc-mini-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab.mat-mdc-button-disabled-interactive,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{box-shadow:var(--mdc-extended-fab-container-elevation-shadow)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}'],encapsulation:2,changeDetection:0});let e=t;return e})();var o1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[qt,ap,qt]});let e=t;return e})();function Tz(e,t){if(e&1){let n=ge();L(0,"div"),wt(1,"input",11,0)(3,"input",12,1),L(5,"button",13),lt("click",function(){St(n);let r=se(2),s=se(4),c=Ge();return Tt(c.onLogin(r,s))}),nt(6,"Login"),z(),L(7,"span",14),lt("click",function(){St(n);let r=Ge();return Tt(r.hideShowPass())}),z()()}if(e&2){let n=Ge();_t(7),gr("fa-solid ",n.eyeIcon,"")}}function xz(e,t){if(e&1){let n=ge();L(0,"div"),wt(1,"input",15,2)(3,"input",16,3)(5,"input",17,4),L(7,"button",13),lt("click",function(){St(n);let r=se(2),s=se(4),c=se(6),l=Ge();return Tt(l.onRegisterClick(r,s,c))}),nt(8,"Register"),z(),L(9,"span",14),lt("click",function(){St(n);let r=Ge();return Tt(r.hideShowPass())}),z()()}if(e&2){let n=Ge();_t(3),Xt("type",n.type),_t(2),Xt("type",n.type),_t(4),gr("fa-solid ",n.eyeIcon,"")}}function Dz(e,t){if(e&1){let n=ge();L(0,"div"),wt(1,"input",15,5),L(3,"button",13),lt("click",function(){St(n);let r=se(2),s=Ge();return Tt(s.onReset(r))}),nt(4,"Reset"),z()()}}var s1=(()=>{let t=class t{constructor(i,r){this.router=i,this.bottomSheetRef=r,this.state=pi.LOGIN,this.type="password",this.isText=!1,this.eyeIcon="fa-eye-slash",this.firebasetsAuth=new Le}ngOnInit(){}onReset(i){let r=i.value;this.isNotEmpty(r)&&this.firebasetsAuth.sendPasswordResetEmail({email:r,onComplete:s=>{this.bottomSheetRef.dismiss()}})}onLogin(i,r){let s=i.value,c=r.value;this.isNotEmpty(s)&&this.isNotEmpty(c)&&this.firebasetsAuth.signInWith({email:s,password:c,onComplete:l=>{this.bottomSheetRef.dismiss()},onFail:l=>{alert(l)}})}onRegisterClick(i,r,s){let c=i.value,l=r.value,d=s.value;this.isNotEmpty(c)&&this.isNotEmpty(l)&&this.isNotEmpty(d)&&this.isAMatch(l,d)&&this.firebasetsAuth.createAccountWith({email:c,password:l,onComplete:f=>{this.bottomSheetRef.dismiss(),i.value="",r.value="",s.value=""},onFail:f=>{alert("Failed to create the account.")}})}isNotEmpty(i){return i!=null&&i.length>0}isAMatch(i,r){return i==r}hideShowPass(){this.isText=!this.isText,this.isText?this.eyeIcon="fa-eye":this.eyeIcon="fa-eye-slash",this.isText?this.type="text":this.type="password"}onForgotPasswordClick(){this.state=pi.FORGOT_PASSWORD}onCreateAccountClick(){this.state=pi.REGISTER}onLoginClick(){this.state=pi.LOGIN}isLoginState(){return this.state==pi.LOGIN}isRegisterState(){return this.state==pi.REGISTER}isForgotPasswordState(){return this.state==pi.FORGOT_PASSWORD}getStateText(){switch(this.state){case pi.LOGIN:return"Login";case pi.REGISTER:return"Register";case pi.FORGOT_PASSWORD:return"Forgot Password"}}};t.\u0275fac=function(r){return new(r||t)(F(he),F(ac))},t.\u0275cmp=pt({type:t,selectors:[["app-test"]],decls:15,vars:4,consts:[["loginEmail",""],["loginPassword",""],["registerEmail",""],["registerPassword",""],["registerConfirmPassword",""],["resetEmail",""],["id","authenticatoe"],["id","authenticatoe-content"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["type","text","name","email","placeholder","Email"],["type","password","name","password","placeholder","Password"],["mat-flat-button","","color","accent",3,"click"],[3,"click"],["placeholder","Email"],["placeholder","Password",3,"type"],["placeholder","Confirm Password",3,"type"]],template:function(r,s){r&1&&(L(0,"div",6)(1,"mat-card",7)(2,"mat-card-header")(3,"mat-card-title"),nt(4),z()(),Se(5,Tz,8,3,"div",8)(6,xz,10,5,"div",8)(7,Dz,5,0,"div",8),L(8,"mat-card-actions",9)(9,"button",10),lt("click",function(){return s.onForgotPasswordClick()}),nt(10,"Forgot Password"),z(),L(11,"button",10),lt("click",function(){return s.onCreateAccountClick()}),nt(12,"Create an Account"),z(),L(13,"button",10),lt("click",function(){return s.onLoginClick()}),nt(14,"Login"),z()()()()),r&2&&(_t(4),Gs(s.getStateText()),_t(),Xt("ngIf",s.isLoginState()),_t(),Xt("ngIf",s.isRegisterState()),_t(),Xt("ngIf",s.isForgotPasswordState()))},dependencies:[br,cc,lc,dc,uc,hc],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(15,15,15,.3);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]});let e=t;return e})(),pi=function(e){return e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",e}(pi||{});var g0=(()=>{let t=class t{constructor(i,r){this.loginSheet=i,this.router=r}ngOnInit(){}toLogin(){this.router.navigate(["login"])}toGetStarted(){this.loginSheet.open(s1)}};t.\u0275fac=function(r){return new(r||t)(F(p0),F(he))},t.\u0275cmp=pt({type:t,selectors:[["app-home"]],decls:10,vars:0,consts:[[1,"home-page"],[1,"home-page-landing"],[1,"landing-left"],[1,"landing-left-content"],[1,"font"],["type","submit",1,"btn","btn-primary","btn-block","mt-4","w-50","color",3,"click"]],template:function(r,s){r&1&&(L(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),nt(5,"Social Media App Platform"),z(),L(6,"p"),nt(7," Share your favorite stores! #Codeible "),z(),L(8,"button",5),lt("click",function(){return s.toLogin()}),nt(9,"Go to Social Media"),z()()()()())},styles:[".home-page[_ngcontent-%COMP%]{height:100vh;background:linear-gradient(to top,#6e6ef6 50%,#c9c9ff 90%) no-repeat;font-family:Ranchers,sans-serif;font-weight:400;font-style:normal}.landing-left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:15em 50em 1em 1em}.landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em}"]});let e=t;return e})();F1();var _p=class{constructor(){this.listeners=new Map}downloadToLocalStorage(t){return new Promise((n,i)=>{if(t instanceof Array)this.getDownloadUrl({path:t,onComplete:r=>{n(r),window.open(r,"Download")},onFail:r=>{i(r)}});else try{window.open(t,"Download"),n()}catch(r){i(r)}})}upload(t){return new Promise((n,i)=>{let r=null,s=this.genStorageRef(t.path);r=t.data.metadata==null||t.data.metadata==null?s.put(t.data.data):s.put(t.data.data,t.data.metadata),r.on("state_changed",c=>{try{t.onUpload(c)}catch{}},c=>{i(c);try{t.onFail(c)}catch{}},()=>{s.getDownloadURL().then(c=>{n(c);try{t.onComplete(c)}catch{}})}),this.listeners.set(t.uploadName,r)})}deleteWithUrl(t){return new Promise((n,i)=>{fe.getStorage().refFromURL(t.url).delete().then(()=>{n();try{t.onComplete()}catch{}}).catch(s=>{i(s);try{t.onFail(s)}catch{}})})}delete(t){return new Promise((n,i)=>{this.genStorageRef(t.path).delete().then(()=>{n();try{t.onComplete()}catch{}}).catch(s=>{i(s);try{t.onFail(s)}catch{}})})}getDownloadUrl(t){return new Promise((n,i)=>{let r=this.genStorageRef(t.path);try{r.getDownloadURL().then(s=>{n(s);try{t.onComplete(s)}catch{}})}catch(s){i(s);try{t.onFail(s)}catch{}}})}genStorageRef(t){let n=fe.getStorage().ref();for(let i=0;i<t.length;i++)n=n.child(t[i]);return n}};var rq=["*"],wp;function oq(){if(wp===void 0&&(wp=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(wp=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return wp}function zl(e){return oq()?.createHTML(e)||e}function L1(e){return Error(`Unable to find icon with the name "${e}"`)}function sq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function j1(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function V1(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var tr=class{constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},aq=(()=>{let t=class t{constructor(i,r,s,c){this._httpClient=i,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,c){return this._addSvgIconConfig(i,r,new tr(s,null,c))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,c){let l=this._sanitizer.sanitize(Rn.HTML,s);if(!l)throw V1(s);let d=zl(l);return this._addSvgIconConfig(i,r,new tr("",d,c))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new tr(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){let c=this._sanitizer.sanitize(Rn.HTML,r);if(!c)throw V1(r);let l=zl(c);return this._addSvgIconSetConfig(i,new tr("",l,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(Rn.RESOURCE_URL,i);if(!r)throw j1(i);let s=this._cachedIconsByUrl.get(r);return s?X(Ip(s)):this._loadSvgIconFromConfig(new tr(i,null)).pipe(re(c=>this._cachedIconsByUrl.set(r,c)),vt(c=>Ip(c)))}getNamedSvgIcon(i,r=""){let s=U1(r,i),c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,i),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);let l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(i,l):bo(L1(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?X(Ip(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(vt(r=>Ip(r)))}_getSvgFromIconSetConfigs(i,r){let s=this._extractIconWithNameFromAnySet(i,r);if(s)return X(s);let c=r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(dr(d=>{let m=`Loading icon set URL: ${this._sanitizer.sanitize(Rn.RESOURCE_URL,l.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),X(null)})));return kC(c).pipe(vt(()=>{let l=this._extractIconWithNameFromAnySet(i,r);if(!l)throw L1(i);return l}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){let c=r[s];if(c.svgText&&c.svgText.toString().indexOf(i)>-1){let l=this._svgElementFromConfig(c),d=this._extractSvgIconFromSet(l,i,c.options);if(d)return d}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(re(r=>i.svgText=r),vt(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?X(null):this._fetchIcon(i).pipe(re(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){let c=i.querySelector(`[id="${r}"]`);if(!c)return null;let l=c.cloneNode(!0);if(l.removeAttribute("id"),l.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(l,s);if(l.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(l),s);let d=this._svgElementFromString(zl("<svg></svg>"));return d.appendChild(l),this._setSvgAttributes(d,s)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){let r=this._svgElementFromString(zl("<svg></svg>")),s=i.attributes;for(let c=0;c<s.length;c++){let{name:l,value:d}=s[c];l!=="id"&&r.setAttribute(l,d)}for(let c=0;c<i.childNodes.length;c++)i.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:s}=i,c=s?.withCredentials??!1;if(!this._httpClient)throw sq();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let l=this._sanitizer.sanitize(Rn.RESOURCE_URL,r);if(!l)throw j1(r);let d=this._inProgressUrlFetches.get(l);if(d)return d;let f=this._httpClient.get(l,{responseType:"text",withCredentials:c}).pipe(vt(m=>zl(m)),_o(()=>this._inProgressUrlFetches.delete(l)),PC());return this._inProgressUrlFetches.set(l,f),f}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set(U1(i,r),s),this}_addSvgIconSetConfig(i,r){let s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){let c=this._resolvers[s](r,i);if(c)return cq(c)?new tr(c.url,null,c.options):new tr(c,null)}}};t.\u0275fac=function(r){return new(r||t)(k(SS,8),k(Hv),k(ct,8),k(Io))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ip(e){return e.cloneNode(!0)}function U1(e,t){return e+":"+t}function cq(e){return!!(e.url&&e.options)}var uq=new rt("MAT_ICON_DEFAULT_OPTIONS"),lq=new rt("mat-icon-location",{providedIn:"root",factory:dq});function dq(){let e=q(ct),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var B1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hq=B1.map(e=>`[${e}]`).join(", "),fq=/^url\(['"]?#(.*?)['"]?\)$/,Kr=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,c,l,d){this._elementRef=i,this._iconRegistry=r,this._location=c,this._errorHandler=l,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ji.EMPTY,d&&(d.color&&(this.color=this._defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=i.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((s,c)=>{s.forEach(l=>{c.setAttribute(l.name,`url('${i}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(hq),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)B1.forEach(l=>{let d=r[c],f=d.getAttribute(l),m=f?f.match(fq):null;if(m){let v=s.get(d);v||(v=[],s.set(d,v)),v.push({name:l,value:m[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(ie(1)).subscribe(c=>this._setSvgElement(c),c=>{let l=`Error retrieving icon ${r}:${s}! ${c.message}`;this._errorHandler.handleError(new Error(l))})}}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(aq),bv("aria-hidden"),F(lq),F(Io),F(uq,8))},t.\u0275cmp=pt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,s){r&2&&(Fe("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Hs(s.color?"mat-"+s.color:""),Te("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[zt.HasDecoratorInputTransform,"inline","inline",bn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Wn,de],ngContentSelectors:rq,decls:1,vars:0,template:function(r,s){r&1&&($n(),Re(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),z1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[qt,qt]});let e=t;return e})();function pq(e,t){e&1&&(L(0,"div",9),wt(1,"img",10),z())}var q1=(()=>{let t=class t{constructor(){this.auth=new Le,this.firestore=new In,this.storage=new _p}ngOnInit(){}onPostClick(i){let r=i.value,s=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",s,"image"],data:{data:this.selectedImageFile},onComplete:c=>{let l=this.auth?.getAuth().currentUser;l&&this.firestore.create({path:["Posts",s],data:{comment:r,creatorId:l.uid,imageUrl:c,timestamp:fe.getFirestoreTimestamp()},onComplete:d=>{this.router.navigate(["profile"])},onFail:d=>{alert(d)}})},onFail:c=>{alert(c)}})}uploadPost(i){let r=this.auth?.getAuth().currentUser;r&&this.firestore.create({path:["Posts"],data:{comment:i,creatorId:r.uid,timestamp:fe.getFirestoreTimestamp()},onComplete:s=>{alert("upload text success!"),this.router.navigate(["profile"])},onFail:s=>{alert(s)}})}onPhotoSelected(i){if(this.selectedImageFile=i.files[0],!this.selectedImageFile)return;let r=new FileReader;r.readAsDataURL(this.selectedImageFile),r.addEventListener("loadend",s=>{let c=r.result.toString(),l=document.getElementById("post-preview-image");c&&(l.src=c)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=pt({type:t,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["commentInput",""],["photoSelector",""],["placeholder","Type Message..."],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["mat-flat-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(r,s){if(r&1){let c=ge();L(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),nt(3,"Create Post"),z()(),L(4,"div"),wt(5,"textarea",2,0),z(),Se(7,pq,2,0,"div",3),L(8,"mat-card-actions",4)(9,"button",5)(10,"label",6)(11,"input",7,1),lt("change",function(){St(c);let d=se(12);return Tt(s.onPhotoSelected(d))}),z(),L(13,"mat-icon"),nt(14,"insert_photo"),z()()(),L(15,"button",8),lt("click",function(){St(c);let d=se(6);return Tt(s.onPostClick(d))}),nt(16,"Post"),z()()()}r&2&&(_t(7),Xt("ngIf",s.selectedImageFile))},dependencies:[br,cc,lc,dc,uc,Kr,hc],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]});let e=t;return e})();function mq(e,t){}var ql=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},D0="mdc-dialog--open",H1="mdc-dialog--opening",G1="mdc-dialog--closing",gq=150,vq=75,bq=(()=>{let t=class t extends Ll{constructor(i,r,s,c,l,d,f,m,v){super(i,r,s,c,l,d,f,v),this._animationMode=m,this._animationStateChanged=new ke,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?$1(this._config.enterAnimationDuration)??gq:0,this._exitAnimationDuration=this._animationsEnabled?$1(this._config.exitAnimationDuration)??vq:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(W1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(H1,D0)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(D0),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(D0),this._animationsEnabled?(this._hostElement.style.setProperty(W1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(G1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(H1,G1)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(F(Ft),F(Ja),F(ct,8),F(ql),F(ss),F(dt),F(fi),F(kn,8),F(Gr))},t.\u0275cmp=pt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,s){r&2&&(_v("id",s._config.id),Fe("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Te("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Mn,de],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){r&1&&(L(0,"div",0)(1,"div",1),Se(2,mq,0,0,"ng-template",2),z()())},dependencies:[as],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),W1="--mat-dialog-transition-duration";function $1(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Rl(e.substring(0,e.length-2)):e.endsWith("s")?Rl(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Cp=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Cp||{}),A0=class{constructor(t,n,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Dt,this._beforeClosed=new Dt,this._state=Cp.OPEN,this.disableClose=n.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Yt(r=>r.state==="opened"),ie(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Yt(r=>r.state==="closed"),ie(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),js(this.backdropClick(),this.keydownEvents().pipe(Yt(r=>r.keyCode===27&&!this.disableClose&&!Xa(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),yq(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Yt(n=>n.state==="closing"),ie(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Cp.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Cp.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function yq(e,t,n){return e._closeInteractionType=t,e.close(n)}var k0=new rt("MatMdcDialogData"),_q=new rt("mat-mdc-dialog-default-options"),wq=new rt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(Je);return()=>e.scrollStrategies.block()}});var Iq=0,us=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,s,c,l,d,f,m){this._overlay=i,this._defaultOptions=c,this._scrollStrategy=l,this._parentDialog=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Dt,this._afterOpenedAtThisLevel=new Dt,this.dialogConfigClass=ql,this.afterAllClosed=yo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._dialog=r.get(jl),this._dialogRefConstructor=A0,this._dialogContainerType=bq,this._dialogDataToken=k0}open(i,r){let s;r=P(P({},this._defaultOptions||new ql),r),r.id=r.id||`mat-mdc-dialog-${Iq++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let c=this._dialog.open(i,Kt(P({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Zi,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(l,d,f)=>(s=new this._dialogRefConstructor(l,r,f),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let l=this.openDialogs.indexOf(s);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};t.\u0275fac=function(r){return new(r||t)(k(Je),k(Ae),k(Bi,8),k(_q,8),k(wq),k(t,12),k(oc),k(kn,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var K1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[us],imports:[op,sc,Qi,qt,qt]});let e=t;return e})();var Sp=(()=>{let t=class t{constructor(i){this.dialog=i,this.firestore=new In,this.posts=[]}ngOnInit(){this.getPosts()}onCreatePostClick(){this.dialog.open(q1)}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new Hr("timestamp","desc"),new $a(10)],onComplete:i=>{i.docs.forEach(r=>{let s=r.data();s.postId=r.id,this.posts.push(s)})},onFail:i=>{}})}};t.\u0275fac=function(r){return new(r||t)(F(us))},t.\u0275cmp=pt({type:t,selectors:[["app-post-feed"]],inputs:{postData:"postData"},decls:3,vars:0,consts:[["mat-fab","","color","warn","id","post-button",3,"click"]],template:function(r,s){r&1&&(L(0,"button",0),lt("click",function(){return s.onCreatePostClick()}),L(1,"mat-icon"),nt(2,"add"),z()())},dependencies:[Kr,r1],styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}"]});let e=t;return e})();function Eq(e,t){if(e&1&&wt(0,"app-post",9),e&2){let n=t.$implicit;Xt("postData",n)}}function Cq(e,t){if(e&1){let n=ge();L(0,"div",10)(1,"a",11),lt("click",function(){St(n);let r=Ge();return Tt(r.onLogoutClick())}),nt(2,"Logout"),z(),L(3,"li")(4,"a"),nt(5),z()()()}if(e&2){let n=Ge();_t(5),vr("Hello, ",n.getUsername(),"")}}var ls=(()=>{let t=class t{ngOnInit(){this.getPosts()}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new Hr("timestamp","desc"),new $a(10)],onComplete:i=>{i.docs.forEach(r=>{let s=r.data();s.postId=r.id,this.posts.push(s)})},onFail:i=>{}})}constructor(i){this.router=i,this.posts=[],this.firestore=new In,this.auth=new Le,this.auth.listenToSignInStateChanges(r=>{this.auth.checkSignInState({whenSignedIn:s=>{this.getUserProfile()},whenSignedOut:s=>{t.userDocument=null},whenChanged:s=>{}})})}onLogoutClick(){alert("Logout"),this.router.navigate([""])}loggedIn(){return this.auth.isSignedIn()}toLogin(){this.router.navigate(["login"])}toHome(){this.router.navigate(["home"])}static getUserDocument(){return t.userDocument}getUsername(){return t.userDocument?.username}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth?.getAuth()?.currentUser?.uid||"{}"],onUpdate:i=>{let r=i.data();t.userDocument=P({},r)}})}getProfile(){return t.userDocument?.username}};t.userDocument=null,t.\u0275fac=function(r){return new(r||t)(F(he))},t.\u0275cmp=pt({type:t,selectors:[["app-profile"]],inputs:{postData:"postData",show:"show"},decls:12,vars:2,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],[1,"nav-bar-left",2,"font-size","1.5em"],["src","assets/gif/tonton.gif","alt","tonton_logo",1,"tonton"],["id","nav-bar-right"],["class","nav-bar-right",4,"ngIf"],[3,"postData"],[1,"nav-bar-right"],["aria-hidden","true","id","forget",1,"fa","fa-sign-out",3,"click"]],template:function(r,s){r&1&&(L(0,"div")(1,"div",0),Se(2,Eq,1,1,"app-post",1),z(),L(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"a"),wt(8,"img",6),z()()(),L(9,"div",7),Se(10,Cq,6,1,"div",8),z()()()(),wt(11,"app-post-feed")),r&2&&(_t(2),Xt("ngForOf",s.posts),_t(8),Xt("ngIf",s.loggedIn()))},styles:["body[_ngcontent-%COMP%]{background-color:linear-gradient(to top,#c9c9ff 50%,#6e6ef6 90%) no-repeat}#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}#profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:99%;height:4.6em;z-index:10;color:#000;background-position:1em;background:pink 1em;border-radius:5em;margin:10px}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end;font-family:Ranchers,sans-serif;font-weight:400;font-style:normal;color:#000}.fa-sign-out[_ngcontent-%COMP%]{color:#000}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer}#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}.tonton[_ngcontent-%COMP%]{width:20%;height:0%}"]});let e=t;return e})();var Y1=(()=>{let t=class t{constructor(i){this.router=i,this.type="password",this.isText=!1,this.eyeIcon="fa-eye-slash",this.firebasetsAuth=new Le}ngOnInit(){}onReset(i){let r=i.value;this.isNotEmpty(r)&&this.firebasetsAuth.sendPasswordResetEmail({email:r,onComplete:s=>{alert(`Reste email sent to ${r}`),this.router.navigate(["login"])}})}isNotEmpty(i){return i!=null&&i.length>0}isAMatch(i,r){return i==r}hideShowPass(){this.isText=!this.isText,this.isText?this.eyeIcon="fa-eye":this.eyeIcon="fa-eye-slash",this.isText?this.type="text":this.type="password"}toSignup(){this.router.navigate(["signup"])}toLogin(){this.router.navigate(["login"])}toReset(){this.router.navigate(["resrt"])}};t.\u0275fac=function(r){return new(r||t)(F(he))},t.\u0275cmp=pt({type:t,selectors:[["app-resrt"]],decls:22,vars:0,consts:[["resetEmail",""],[1,"outer"],[1,"container"],[1,"row","pt-2"],[1,"offset-md-2","col-lg-5","col-md-7","offset-lg-4","offset-md-3"],[1,"panel","border","bg-white"],[1,"panel-heading"],[1,"pt-3","font-weight-bold"],[1,"panel-body","p-3"],[1,"form-group","pt-3"],[1,"input-field"],[1,"fa-solid","fa-user","p-2"],["formControlName","email","type","text","placeholder","Email","required",""],["type","submit",1,"btn","btn-primary","btn-block","mt-4","w-100",3,"click"],[1,"text-center","pt-4","text-muted"],["id","forget",3,"click"]],template:function(r,s){if(r&1){let c=ge();L(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h3",7),nt(7,"Reset Password"),z()(),L(8,"div",8)(9,"div",9)(10,"div",10),wt(11,"span",11)(12,"input",12,0),z()(),L(14,"button",13),lt("click",function(){St(c);let d=se(13);return Tt(s.onReset(d))}),nt(15,"Send"),z(),L(16,"div",14),nt(17,"Don't Reset Email?"),L(18,"a",15),lt("click",function(){return St(c),Tt(s.toSignup())}),nt(19," Sign up / "),z(),L(20,"a",15),lt("click",function(){return St(c),Tt(s.toLogin())}),nt(21," Login"),z()()()()()()()()}}});let e=t;return e})();var Sq=[{path:"",component:g0},{path:"login",component:YT},{path:"signup",component:vR},{path:"resrt",component:Y1},{path:"home",component:g0},{path:"postfeed",component:Sp},{path:"profile",component:ls}],X1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[Rb.forRoot(Sq),Rb]});let e=t;return e})();var Q1=(()=>{let t=class t{constructor(i){this.router=i,this.title="Test",this.auth=new Le,this.auth.listenToSignInStateChanges(r=>{this.auth.checkSignInState({whenSignedIn:s=>{},whenSignedOut:s=>{}})})}loggedIn(){return this.auth.isSignedIn}toLogin(){this.router.navigate(["login"])}toHome(){this.router.navigate(["home"])}};t.\u0275fac=function(r){return new(r||t)(F(he))},t.\u0275cmp=pt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&wt(0,"router-outlet")},dependencies:[Cb],styles:["#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:5em;z-index:10}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer}"]});let e=t;return e})();var Tq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},H8=Kt(P({},Tq),{"[class.ng-submitted]":"isSubmitted"});var Z1=new rt("CallSetDisabledState",{providedIn:"root",factory:()=>M0}),M0="always";var xq=new rt("");var J1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({});let e=t;return e})();var tM=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:Z1,useValue:i.callSetDisabledState??M0}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[J1]});let e=t;return e})(),eM=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:xq,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Z1,useValue:i.callSetDisabledState??M0}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[J1]});let e=t;return e})();var Dq="@",Aq=(()=>{let t=class t{constructor(i,r,s,c,l){this.doc=i,this.delegate=r,this.zone=s,this.animationType=c,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=q(KC,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-LR6TKIWA.js")).catch(r=>{throw new Ht(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let c=new s(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new O0(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let d=l.createRenderer(i,r);c.use(d)}).catch(l=>{c.use(s)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){qs()},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),O0=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,r){this.delegate.insertBefore(t,n,i,r)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(Dq)}};function nM(e="animations"){return YC("NgAsyncAnimations"),Zd([{provide:Jd,useFactory:(t,n,i)=>new Aq(t,n,i,e),deps:[ct,ch,dt]},{provide:kn,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var iM={production:!0,firebaseConfig:{apiKey:"AIzaSyBjXDe-VOSDKy5-Sw4tozOyoEFM0evN7Po",authDomain:"datatest-55d48.firebaseapp.com",projectId:"datatest-55d48",storageBucket:"datatest-55d48.appspot.com",messagingSenderId:"485778994851",appId:"1:485778994851:web:7d3c4949ba256cb3d67116",measurementId:"G-Z9C0G67P34"}};var rM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[qt,qt]});let e=t;return e})();var oM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({imports:[qt,qt]});let e=t;return e})();var sM={transformMenu:du("transformMenu",[Ks("void",zi({opacity:0,transform:"scale(0.8)"})),Ao("void => enter",Do("120ms cubic-bezier(0, 0, 0.2, 1)",zi({opacity:1,transform:"scale(1)"}))),Ao("* => void",Do("100ms 25ms linear",zi({opacity:0})))]),fadeInItems:du("fadeInItems",[Ks("showing",zi({opacity:1})),Ao("void => *",[zi({opacity:0}),Do("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},C6=sM.fadeInItems,S6=sM.transformMenu;var kq=new rt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=q(Je);return()=>e.scrollStrategies.reposition()}});function Rq(e){return()=>e.scrollStrategies.reposition()}var Mq={provide:kq,deps:[Je],useFactory:Rq};var aM=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t}),t.\u0275inj=ot({providers:[Mq],imports:[$s,ap,qt,sc,np,qt]});let e=t;return e})();function Oq(e,t){if(e&1&&(L(0,"div",6)(1,"p",7),nt(2),z(),L(3,"p",8),nt(4),z()()),e&2){let n=t.$implicit;_t(2),vr("",n.creatorName,":"),_t(2),Gs(n.comment)}}var cM=(()=>{let t=class t{constructor(i,r){this.data=i,this.dialog=r,this.comments=[],this.firestore=new In}ngOnInit(){this.getComments()}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.data,"PostComments"],where:[new Hr("timestamp","asc")],onUpdate:i=>{i.docChanges().forEach(r=>{r.type=="added"&&this.comments.unshift(r.doc.data())})}})}onSendClick(i){if(!(i.value.length>0))return;let r=ls.getUserDocument()?.userId||"",s=ls.getUserDocument()?.username||"",c=fe.getFirestoreTimestamp();this.firestore.create({path:["Posts",this.data,"PostComments"],data:{comment:i.value,creatorId:r,creatorName:s,timestamp:c},onComplete:l=>{i.value=""},onFail:l=>{console.log(l)}})}};t.\u0275fac=function(r){return new(r||t)(F(k0),F(us))},t.\u0275cmp=pt({type:t,selectors:[["app-reply"]],inputs:{postData:"postData"},decls:8,vars:1,consts:[["commentInput",""],["id","reply-box"],["class","comment-container",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-flat-button","","color","accent",3,"click"],["placeholder","Comment..."],[1,"comment-container"],[1,"comment-creator"],[1,"comment-text"]],template:function(r,s){if(r&1){let c=ge();L(0,"div",1),Se(1,Oq,5,2,"div",2),z(),L(2,"div",3)(3,"button",4),lt("click",function(){St(c);let d=se(7);return Tt(s.onSendClick(d))}),L(4,"mat-icon"),nt(5,"send"),z()(),wt(6,"input",5,0),z()}r&2&&(_t(),Xt("ngForOf",s.comments))},dependencies:[oh,Kr,hc],styles:["#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:#000}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid gray;border-radius:.5em;outline:none;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr;border:none}button[_ngcontent-%COMP%]{height:100%}.comment-container[_ngcontent-%COMP%]{margin-bottom:20px;padding:10px;background-color:pink;border-radius:5px}.comment-creator[_ngcontent-%COMP%]{font-weight:700;color:#333;font-family:Ranchers,sans-serif;font-weight:400;font-style:normal}.comment-text[_ngcontent-%COMP%]{color:#555}"]});let e=t;return e})();function Nq(e,t){if(e&1){let n=ge();L(0,"span",8),lt("click",function(){St(n);let r=Ge();return Tt(r.toggleLike())}),z()}}function Pq(e,t){if(e&1){let n=ge();L(0,"span",9),lt("click",function(){St(n);let r=Ge();return Tt(r.toggleLike())}),z()}}var uM=(()=>{let t=class t{constructor(i){this.dialog=i,this.firestore=new In,this.isLiked=!1,this.likeCount=0}ngOnInit(){this.getCreatorInfo()}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:i=>{let r=i.data();this.creatorUsername=r.username}})}toggleLike(){this.isLiked=!this.isLiked,this.isLiked?this.likeCount++:this.likeCount--}onReplyClick(){this.dialog.open(cM,{data:this.postData.postId}),console.log(this.postData),console.log(this.postData.postId)}};t.\u0275fac=function(r){return new(r||t)(F(us))},t.\u0275cmp=pt({type:t,selectors:[["app-post"]],inputs:{postData:"postData"},decls:15,vars:6,consts:[["id","box"],[1,"box-post"],[1,"comment"],["mat-card-image","",1,"img-post",3,"src"],["class","fa fa-heart","aria-hidden","true",3,"click",4,"ngIf"],["class","fa fa-heart-o","aria-hidden","true",3,"click",4,"ngIf"],[1,"likeCount"],["color","accent",1,"action-item",3,"click"],["aria-hidden","true",1,"fa","fa-heart",3,"click"],["aria-hidden","true",1,"fa","fa-heart-o",3,"click"]],template:function(r,s){r&1&&(L(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),nt(4),z()(),L(5,"mat-card-content",2),nt(6),z(),wt(7,"img",3),L(8,"mat-card-actions"),Se(9,Nq,1,0,"span",4)(10,Pq,1,0,"span",5),L(11,"a",6),nt(12),z(),L(13,"mat-icon",7),lt("click",function(){return s.onReplyClick()}),nt(14,"chat_bubble_outline"),z()()()()),r&2&&(_t(4),vr(" ",s.creatorUsername," "),_t(2),vr(" : ",s.postData==null?null:s.postData.comment," "),_t(),eS("src",s.postData==null?null:s.postData.imageUrl,$C),_t(2),Xt("ngIf",s.isLiked),_t(),Xt("ngIf",!s.isLiked),_t(2),Gs(s.likeCount))},dependencies:[br,cc,lc,XR,dc,QR,uc,Kr],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}.img-post[_ngcontent-%COMP%]{display:flex;padding:1em;border-radius:20px}.box-post[_ngcontent-%COMP%]{display:flex;background-color:pink;border-radius:1em;margin-bottom:20px;font-size:20px;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal}.Username[_ngcontent-%COMP%]{font-family:Ranchers,sans-serif;font-weight:400;font-style:normal}.comment[_ngcontent-%COMP%]{overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:normal}.fa-heart[_ngcontent-%COMP%], .fa-heart-o[_ngcontent-%COMP%]{color:red;padding:.5em}.likeCount[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:.5px}"]});let e=t;return e})();var lM=(()=>{let t=class t{constructor(){fe.init(iM.firebaseConfig)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=st({type:t,bootstrap:[Q1]}),t.\u0275inj=ot({providers:[nM()],imports:[OS,X1,eM,tM,ZR,z1,rM,o1,KR,oM,aM,K1]});let e=t;return e})();nS(ls,[oh,br,Sp,uM],[]);MS().bootstrapModule(lM).catch(e=>console.error(e));
